function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/dotlottie-audio-efUd5333.js","assets/chunk-B7OIQIGJ-CcfrItpa.js","assets/lottie_worker-Q23FJ6ZR-CZgcfgj7.js","assets/lottie_light-KMJEUZFY-DZNzI0EV.js","assets/lottie_svg-MJGYILXD-Be1OGMYj.js","assets/lottie_light_canvas-B5UTTNXA-zkUt6Qm4.js","assets/lottie_canvas-CDSUBMCL-jm7H_fxU.js","assets/lottie_light_html-SLCECTRT-n6mnomVq.js","assets/lottie_html-X3TYKVQI-B12kHkKK.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var Ef=Object.defineProperty;var Tf=(e,t,n)=>t in e?Ef(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var oe=(e,t,n)=>(Tf(e,typeof t!="symbol"?t+"":t,n),n);function Df(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const g of o.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&r(g)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zc={exports:{}},cl={},Sc={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=Symbol.for("react.element"),Pf=Symbol.for("react.portal"),Mf=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),Of=Symbol.for("react.provider"),jf=Symbol.for("react.context"),Jf=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),Qf=Symbol.for("react.memo"),$f=Symbol.for("react.lazy"),vu=Symbol.iterator;function qf(e){return e===null||typeof e!="object"?null:(e=vu&&e[vu]||e["@@iterator"],typeof e=="function"?e:null)}var Wc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kc=Object.assign,Kc={};function fi(e,t,n){this.props=e,this.context=t,this.refs=Kc,this.updater=n||Wc}fi.prototype.isReactComponent={};fi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yc(){}Yc.prototype=fi.prototype;function Js(e,t,n){this.props=e,this.context=t,this.refs=Kc,this.updater=n||Wc}var Us=Js.prototype=new Yc;Us.constructor=Js;kc(Us,fi.prototype);Us.isPureReactComponent=!0;var bu=Array.isArray,Rc=Object.prototype.hasOwnProperty,Qs={current:null},Vc={key:!0,ref:!0,__self:!0,__source:!0};function Xc(e,t,n){var r,i={},o=null,g=null;if(t!=null)for(r in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(o=""+t.key),t)Rc.call(t,r)&&!Vc.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),s=0;s<l;s++)a[s]=arguments[s+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:bo,type:e,key:o,ref:g,props:i,_owner:Qs.current}}function ep(e,t){return{$$typeof:bo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $s(e){return typeof e=="object"&&e!==null&&e.$$typeof===bo}function tp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gu=/\/+/g;function Ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tp(""+e.key):t.toString(36)}function Cg(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(o){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case bo:case Pf:g=!0}}if(g)return g=e,i=i(g),e=r===""?"."+Ql(g,0):r,bu(i)?(n="",e!=null&&(n=e.replace(Gu,"$&/")+"/"),Cg(i,t,n,"",function(s){return s})):i!=null&&($s(i)&&(i=ep(i,n+(!i.key||g&&g.key===i.key?"":(""+i.key).replace(Gu,"$&/")+"/")+e)),t.push(i)),1;if(g=0,r=r===""?".":r+":",bu(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+Ql(o,l);g+=Cg(o,t,n,a,i)}else if(a=qf(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+Ql(o,l++),g+=Cg(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function Eo(e,t,n){if(e==null)return e;var r=[],i=0;return Cg(e,r,"","",function(o){return t.call(n,o,i++)}),r}function np(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},cg={transition:null},rp={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:cg,ReactCurrentOwner:Qs};ae.Children={map:Eo,forEach:function(e,t,n){Eo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Eo(e,function(){t++}),t},toArray:function(e){return Eo(e,function(t){return t})||[]},only:function(e){if(!$s(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=fi;ae.Fragment=Mf;ae.Profiler=zf;ae.PureComponent=Js;ae.StrictMode=xf;ae.Suspense=Uf;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rp;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kc({},e.props),i=e.key,o=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,g=Qs.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Rc.call(t,a)&&!Vc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var s=0;s<a;s++)l[s]=arguments[s+2];r.children=l}return{$$typeof:bo,type:e.type,key:i,ref:o,props:r,_owner:g}};ae.createContext=function(e){return e={$$typeof:jf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Of,_context:e},e.Consumer=e};ae.createElement=Xc;ae.createFactory=function(e){var t=Xc.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:Jf,render:e}};ae.isValidElement=$s;ae.lazy=function(e){return{$$typeof:$f,_payload:{_status:-1,_result:e},_init:np}};ae.memo=function(e,t){return{$$typeof:Qf,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=cg.transition;cg.transition={};try{e()}finally{cg.transition=t}};ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ae.useCallback=function(e,t){return At.current.useCallback(e,t)};ae.useContext=function(e){return At.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return At.current.useDeferredValue(e)};ae.useEffect=function(e,t){return At.current.useEffect(e,t)};ae.useId=function(){return At.current.useId()};ae.useImperativeHandle=function(e,t,n){return At.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return At.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return At.current.useReducer(e,t,n)};ae.useRef=function(e){return At.current.useRef(e)};ae.useState=function(e){return At.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return At.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return At.current.useTransition()};ae.version="18.2.0";Sc.exports=ae;var _=Sc.exports;const Re=Bc(_),wu=Df({__proto__:null,default:Re},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip=_,op=Symbol.for("react.element"),gp=Symbol.for("react.fragment"),lp=Object.prototype.hasOwnProperty,ap=ip.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sp={key:!0,ref:!0,__self:!0,__source:!0};function Lc(e,t,n){var r,i={},o=null,g=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(g=t.ref);for(r in t)lp.call(t,r)&&!sp.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:op,type:e,key:o,ref:g,props:i,_owner:ap.current}}cl.Fragment=gp;cl.jsx=Lc;cl.jsxs=Lc;Zc.exports=cl;var W=Zc.exports,Ha={},Hc={exports:{}},Ht={},Fc={exports:{}},_c={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,M){var j=X.length;X.push(M);e:for(;0<j;){var le=j-1>>>1,ne=X[le];if(0<i(ne,M))X[le]=M,X[j]=ne,j=le;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var M=X[0],j=X.pop();if(j!==M){X[0]=j;e:for(var le=0,ne=X.length,fe=ne>>>1;le<fe;){var re=2*(le+1)-1,ve=X[re],ce=re+1,De=X[ce];if(0>i(ve,j))ce<ne&&0>i(De,ve)?(X[le]=De,X[ce]=j,le=ce):(X[le]=ve,X[re]=j,le=re);else if(ce<ne&&0>i(De,j))X[le]=De,X[ce]=j,le=ce;else break e}}return M}function i(X,M){var j=X.sortIndex-M.sortIndex;return j!==0?j:X.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var g=Date,l=g.now();e.unstable_now=function(){return g.now()-l}}var a=[],s=[],C=1,c=null,A=3,y=!1,v=!1,b=!1,B=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(X){for(var M=n(s);M!==null;){if(M.callback===null)r(s);else if(M.startTime<=X)r(s),M.sortIndex=M.expirationTime,t(a,M);else break;M=n(s)}}function G(X){if(b=!1,m(X),!v)if(n(a)!==null)v=!0,Q(V);else{var M=n(s);M!==null&&q(G,M.startTime-X)}}function V(X,M){v=!1,b&&(b=!1,p(R),R=-1),y=!0;var j=A;try{for(m(M),c=n(a);c!==null&&(!(c.expirationTime>M)||X&&!K());){var le=c.callback;if(typeof le=="function"){c.callback=null,A=c.priorityLevel;var ne=le(c.expirationTime<=M);M=e.unstable_now(),typeof ne=="function"?c.callback=ne:c===n(a)&&r(a),m(M)}else r(a);c=n(a)}if(c!==null)var fe=!0;else{var re=n(s);re!==null&&q(G,re.startTime-M),fe=!1}return fe}finally{c=null,A=j,y=!1}}var F=!1,Y=null,R=-1,T=5,Z=-1;function K(){return!(e.unstable_now()-Z<T)}function H(){if(Y!==null){var X=e.unstable_now();Z=X;var M=!0;try{M=Y(!0,X)}finally{M?N():(F=!1,Y=null)}}else F=!1}var N;if(typeof f=="function")N=function(){f(H)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,z=P.port2;P.port1.onmessage=H,N=function(){z.postMessage(null)}}else N=function(){B(H,0)};function Q(X){Y=X,F||(F=!0,N())}function q(X,M){R=B(function(){X(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,Q(V))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(X){switch(A){case 1:case 2:case 3:var M=3;break;default:M=A}var j=A;A=M;try{return X()}finally{A=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,M){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var j=A;A=X;try{return M()}finally{A=j}},e.unstable_scheduleCallback=function(X,M,j){var le=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?le+j:le):j=le,X){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=j+ne,X={id:C++,callback:M,priorityLevel:X,startTime:j,expirationTime:ne,sortIndex:-1},j>le?(X.sortIndex=j,t(s,X),n(a)===null&&X===n(s)&&(b?(p(R),R=-1):b=!0,q(G,j-le))):(X.sortIndex=ne,t(a,X),v||y||(v=!0,Q(V))),X},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(X){var M=A;return function(){var j=A;A=M;try{return X.apply(this,arguments)}finally{A=j}}}})(_c);Fc.exports=_c;var Ip=Fc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nc=_,Vt=Ip;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ec=new Set,eo={};function Xr(e,t){ai(e,t),ai(e+"Capture",t)}function ai(e,t){for(eo[e]=t,e=0;e<t.length;e++)Ec.add(t[e])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=Object.prototype.hasOwnProperty,up=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bu={},Zu={};function Cp(e){return Fa.call(Zu,e)?!0:Fa.call(Bu,e)?!1:up.test(e)?Zu[e]=!0:(Bu[e]=!0,!1)}function cp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ap(e,t,n,r){if(t===null||typeof t>"u"||cp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dt(e,t,n,r,i,o,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=g}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qs=/[\-:]([a-z])/g;function eI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qs,eI);tt[t]=new dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qs,eI);tt[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qs,eI);tt[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new dt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function tI(e,t,n,r){var i=tt.hasOwnProperty(t)?tt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ap(t,n,i,r)&&(n=null),r||i===null?Cp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dn=Nc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,To=Symbol.for("react.element"),Dr=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),nI=Symbol.for("react.strict_mode"),_a=Symbol.for("react.profiler"),Tc=Symbol.for("react.provider"),Dc=Symbol.for("react.context"),rI=Symbol.for("react.forward_ref"),Na=Symbol.for("react.suspense"),Ea=Symbol.for("react.suspense_list"),iI=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),Pc=Symbol.for("react.offscreen"),Su=Symbol.iterator;function Ki(e){return e===null||typeof e!="object"?null:(e=Su&&e[Su]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,$l;function _i(e){if($l===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$l=t&&t[1]||""}return`
`+$l+e}var ql=!1;function ea(e,t){if(!e||ql)return"";ql=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&typeof s.stack=="string"){for(var i=s.stack.split(`
`),o=r.stack.split(`
`),g=i.length-1,l=o.length-1;1<=g&&0<=l&&i[g]!==o[l];)l--;for(;1<=g&&0<=l;g--,l--)if(i[g]!==o[l]){if(g!==1||l!==1)do if(g--,l--,0>l||i[g]!==o[l]){var a=`
`+i[g].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=g&&0<=l);break}}}finally{ql=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_i(e):""}function dp(e){switch(e.tag){case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 2:case 15:return e=ea(e.type,!1),e;case 11:return e=ea(e.type.render,!1),e;case 1:return e=ea(e.type,!0),e;default:return""}}function Ta(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pr:return"Fragment";case Dr:return"Portal";case _a:return"Profiler";case nI:return"StrictMode";case Na:return"Suspense";case Ea:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dc:return(e.displayName||"Context")+".Consumer";case Tc:return(e._context.displayName||"Context")+".Provider";case rI:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case iI:return t=e.displayName||null,t!==null?t:Ta(e.type)||"Memo";case On:t=e._payload,e=e._init;try{return Ta(e(t))}catch{}}return null}function hp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ta(t);case 8:return t===nI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fp(e){var t=Mc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(g){r=""+g,o.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Do(e){e._valueTracker||(e._valueTracker=fp(e))}function xc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Mc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Sg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Da(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=lr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zc(e,t){t=t.checked,t!=null&&tI(e,"checked",t,!1)}function Pa(e,t){zc(e,t);var n=lr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ma(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ma(e,t.type,lr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ku(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ma(e,t,n){(t!=="number"||Sg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ni=Array.isArray;function ei(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ku(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(Ni(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:lr(n)}}function Oc(e,t){var n=lr(t.value),r=lr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function za(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Po,Jc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Po=Po||document.createElement("div"),Po.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Po.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function to(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pp=["Webkit","ms","Moz","O"];Object.keys(Pi).forEach(function(e){pp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pi[t]=Pi[e]})});function Uc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Pi.hasOwnProperty(e)&&Pi[e]?(""+t).trim():t+"px"}function Qc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Uc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var mp=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oa(e,t){if(t){if(mp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function ja(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ja=null;function oI(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,ti=null,ni=null;function Ru(e){if(e=Bo(e)){if(typeof Ua!="function")throw Error(E(280));var t=e.stateNode;t&&(t=pl(t),Ua(e.stateNode,e.type,t))}}function $c(e){ti?ni?ni.push(e):ni=[e]:ti=e}function qc(){if(ti){var e=ti,t=ni;if(ni=ti=null,Ru(e),t)for(e=0;e<t.length;e++)Ru(t[e])}}function eA(e,t){return e(t)}function tA(){}var ta=!1;function nA(e,t,n){if(ta)return e(t,n);ta=!0;try{return eA(e,t,n)}finally{ta=!1,(ti!==null||ni!==null)&&(tA(),qc())}}function no(e,t){var n=e.stateNode;if(n===null)return null;var r=pl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var Qa=!1;if(Fn)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){Qa=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{Qa=!1}function yp(e,t,n,r,i,o,g,l,a){var s=Array.prototype.slice.call(arguments,3);try{t.apply(n,s)}catch(C){this.onError(C)}}var Mi=!1,Wg=null,kg=!1,$a=null,vp={onError:function(e){Mi=!0,Wg=e}};function bp(e,t,n,r,i,o,g,l,a){Mi=!1,Wg=null,yp.apply(vp,arguments)}function Gp(e,t,n,r,i,o,g,l,a){if(bp.apply(this,arguments),Mi){if(Mi){var s=Wg;Mi=!1,Wg=null}else throw Error(E(198));kg||(kg=!0,$a=s)}}function Lr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vu(e){if(Lr(e)!==e)throw Error(E(188))}function wp(e){var t=e.alternate;if(!t){if(t=Lr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Vu(i),e;if(o===r)return Vu(i),t;o=o.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=o;else{for(var g=!1,l=i.child;l;){if(l===n){g=!0,n=i,r=o;break}if(l===r){g=!0,r=i,n=o;break}l=l.sibling}if(!g){for(l=o.child;l;){if(l===n){g=!0,n=o,r=i;break}if(l===r){g=!0,r=o,n=i;break}l=l.sibling}if(!g)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function iA(e){return e=wp(e),e!==null?oA(e):null}function oA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oA(e);if(t!==null)return t;e=e.sibling}return null}var gA=Vt.unstable_scheduleCallback,Xu=Vt.unstable_cancelCallback,Bp=Vt.unstable_shouldYield,Zp=Vt.unstable_requestPaint,Ee=Vt.unstable_now,Sp=Vt.unstable_getCurrentPriorityLevel,gI=Vt.unstable_ImmediatePriority,lA=Vt.unstable_UserBlockingPriority,Kg=Vt.unstable_NormalPriority,Wp=Vt.unstable_LowPriority,aA=Vt.unstable_IdlePriority,Al=null,bn=null;function kp(e){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Al,e,void 0,(e.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:Rp,Kp=Math.log,Yp=Math.LN2;function Rp(e){return e>>>=0,e===0?32:31-(Kp(e)/Yp|0)|0}var Mo=64,xo=4194304;function Ei(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,g=n&268435455;if(g!==0){var l=g&~i;l!==0?r=Ei(l):(o&=g,o!==0&&(r=Ei(o)))}else g=n&~i,g!==0?r=Ei(g):o!==0&&(r=Ei(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Cn(t),i=1<<n,r|=e[n],t&=~i;return r}function Vp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var g=31-Cn(o),l=1<<g,a=i[g];a===-1?(!(l&n)||l&r)&&(i[g]=Vp(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function qa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sA(){var e=Mo;return Mo<<=1,!(Mo&4194240)&&(Mo=64),e}function na(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Go(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cn(t),e[t]=n}function Lp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Cn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function lI(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Cn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pe=0;function IA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uA,aI,CA,cA,AA,es=!1,zo=[],qn=null,er=null,tr=null,ro=new Map,io=new Map,Jn=[],Hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lu(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":ro.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(t.pointerId)}}function Ri(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Bo(t),t!==null&&aI(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Fp(e,t,n,r,i){switch(t){case"focusin":return qn=Ri(qn,e,t,n,r,i),!0;case"dragenter":return er=Ri(er,e,t,n,r,i),!0;case"mouseover":return tr=Ri(tr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ro.set(o,Ri(ro.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,io.set(o,Ri(io.get(o)||null,e,t,n,r,i)),!0}return!1}function dA(e){var t=br(e.target);if(t!==null){var n=Lr(t);if(n!==null){if(t=n.tag,t===13){if(t=rA(n),t!==null){e.blockedOn=t,AA(e.priority,function(){CA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ag(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ts(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ja=r,n.target.dispatchEvent(r),Ja=null}else return t=Bo(n),t!==null&&aI(t),e.blockedOn=n,!1;t.shift()}return!0}function Hu(e,t,n){Ag(e)&&n.delete(t)}function _p(){es=!1,qn!==null&&Ag(qn)&&(qn=null),er!==null&&Ag(er)&&(er=null),tr!==null&&Ag(tr)&&(tr=null),ro.forEach(Hu),io.forEach(Hu)}function Vi(e,t){e.blockedOn===t&&(e.blockedOn=null,es||(es=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,_p)))}function oo(e){function t(i){return Vi(i,e)}if(0<zo.length){Vi(zo[0],e);for(var n=1;n<zo.length;n++){var r=zo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qn!==null&&Vi(qn,e),er!==null&&Vi(er,e),tr!==null&&Vi(tr,e),ro.forEach(t),io.forEach(t),n=0;n<Jn.length;n++)r=Jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jn.length&&(n=Jn[0],n.blockedOn===null);)dA(n),n.blockedOn===null&&Jn.shift()}var ri=Dn.ReactCurrentBatchConfig,Rg=!0;function Np(e,t,n,r){var i=pe,o=ri.transition;ri.transition=null;try{pe=1,sI(e,t,n,r)}finally{pe=i,ri.transition=o}}function Ep(e,t,n,r){var i=pe,o=ri.transition;ri.transition=null;try{pe=4,sI(e,t,n,r)}finally{pe=i,ri.transition=o}}function sI(e,t,n,r){if(Rg){var i=ts(e,t,n,r);if(i===null)Ca(e,t,r,Vg,n),Lu(e,r);else if(Fp(i,e,t,n,r))r.stopPropagation();else if(Lu(e,r),t&4&&-1<Hp.indexOf(e)){for(;i!==null;){var o=Bo(i);if(o!==null&&uA(o),o=ts(e,t,n,r),o===null&&Ca(e,t,r,Vg,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ca(e,t,r,null,n)}}var Vg=null;function ts(e,t,n,r){if(Vg=null,e=oI(r),e=br(e),e!==null)if(t=Lr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vg=e,null}function hA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sp()){case gI:return 1;case lA:return 4;case Kg:case Wp:return 16;case aA:return 536870912;default:return 16}default:return 16}}var Qn=null,II=null,dg=null;function fA(){if(dg)return dg;var e,t=II,n=t.length,r,i="value"in Qn?Qn.value:Qn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var g=n-e;for(r=1;r<=g&&t[n-r]===i[o-r];r++);return dg=i.slice(e,1<r?1-r:void 0)}function hg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oo(){return!0}function Fu(){return!1}function Ft(e){function t(n,r,i,o,g){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=g,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Oo:Fu,this.isPropagationStopped=Fu,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),t}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uI=Ft(pi),wo=Xe({},pi,{view:0,detail:0}),Tp=Ft(wo),ra,ia,Xi,dl=Xe({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:CI,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xi&&(Xi&&e.type==="mousemove"?(ra=e.screenX-Xi.screenX,ia=e.screenY-Xi.screenY):ia=ra=0,Xi=e),ra)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),_u=Ft(dl),Dp=Xe({},dl,{dataTransfer:0}),Pp=Ft(Dp),Mp=Xe({},wo,{relatedTarget:0}),oa=Ft(Mp),xp=Xe({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),zp=Ft(xp),Op=Xe({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jp=Ft(Op),Jp=Xe({},pi,{data:0}),Nu=Ft(Jp),Up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$p[e])?!!t[e]:!1}function CI(){return qp}var em=Xe({},wo,{key:function(e){if(e.key){var t=Up[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:CI,charCode:function(e){return e.type==="keypress"?hg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tm=Ft(em),nm=Xe({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=Ft(nm),rm=Xe({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:CI}),im=Ft(rm),om=Xe({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),gm=Ft(om),lm=Xe({},dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),am=Ft(lm),sm=[9,13,27,32],cI=Fn&&"CompositionEvent"in window,xi=null;Fn&&"documentMode"in document&&(xi=document.documentMode);var Im=Fn&&"TextEvent"in window&&!xi,pA=Fn&&(!cI||xi&&8<xi&&11>=xi),Tu=" ",Du=!1;function mA(e,t){switch(e){case"keyup":return sm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function um(e,t){switch(e){case"compositionend":return yA(t);case"keypress":return t.which!==32?null:(Du=!0,Tu);case"textInput":return e=t.data,e===Tu&&Du?null:e;default:return null}}function Cm(e,t){if(Mr)return e==="compositionend"||!cI&&mA(e,t)?(e=fA(),dg=II=Qn=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pA&&t.locale!=="ko"?null:t.data;default:return null}}var cm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cm[e.type]:t==="textarea"}function vA(e,t,n,r){$c(r),t=Xg(t,"onChange"),0<t.length&&(n=new uI("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zi=null,go=null;function Am(e){RA(e,0)}function hl(e){var t=Or(e);if(xc(t))return e}function dm(e,t){if(e==="change")return t}var bA=!1;if(Fn){var ga;if(Fn){var la="oninput"in document;if(!la){var Mu=document.createElement("div");Mu.setAttribute("oninput","return;"),la=typeof Mu.oninput=="function"}ga=la}else ga=!1;bA=ga&&(!document.documentMode||9<document.documentMode)}function xu(){zi&&(zi.detachEvent("onpropertychange",GA),go=zi=null)}function GA(e){if(e.propertyName==="value"&&hl(go)){var t=[];vA(t,go,e,oI(e)),nA(Am,t)}}function hm(e,t,n){e==="focusin"?(xu(),zi=t,go=n,zi.attachEvent("onpropertychange",GA)):e==="focusout"&&xu()}function fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hl(go)}function pm(e,t){if(e==="click")return hl(t)}function mm(e,t){if(e==="input"||e==="change")return hl(t)}function ym(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var An=typeof Object.is=="function"?Object.is:ym;function lo(e,t){if(An(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fa.call(t,i)||!An(e[i],t[i]))return!1}return!0}function zu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ou(e,t){var n=zu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zu(n)}}function wA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function BA(){for(var e=window,t=Sg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Sg(e.document)}return t}function AI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vm(e){var t=BA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wA(n.ownerDocument.documentElement,n)){if(r!==null&&AI(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Ou(n,o);var g=Ou(n,r);i&&g&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bm=Fn&&"documentMode"in document&&11>=document.documentMode,xr=null,ns=null,Oi=null,rs=!1;function ju(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rs||xr==null||xr!==Sg(r)||(r=xr,"selectionStart"in r&&AI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oi&&lo(Oi,r)||(Oi=r,r=Xg(ns,"onSelect"),0<r.length&&(t=new uI("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xr)))}function jo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zr={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},aa={},ZA={};Fn&&(ZA=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function fl(e){if(aa[e])return aa[e];if(!zr[e])return e;var t=zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ZA)return aa[e]=t[n];return e}var SA=fl("animationend"),WA=fl("animationiteration"),kA=fl("animationstart"),KA=fl("transitionend"),YA=new Map,Ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(e,t){YA.set(e,t),Xr(t,[e])}for(var sa=0;sa<Ju.length;sa++){var Ia=Ju[sa],Gm=Ia.toLowerCase(),wm=Ia[0].toUpperCase()+Ia.slice(1);ur(Gm,"on"+wm)}ur(SA,"onAnimationEnd");ur(WA,"onAnimationIteration");ur(kA,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(KA,"onTransitionEnd");ai("onMouseEnter",["mouseout","mouseover"]);ai("onMouseLeave",["mouseout","mouseover"]);ai("onPointerEnter",["pointerout","pointerover"]);ai("onPointerLeave",["pointerout","pointerover"]);Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ti));function Uu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gp(r,t,void 0,e),e.currentTarget=null}function RA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var g=r.length-1;0<=g;g--){var l=r[g],a=l.instance,s=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Uu(i,l,s),o=a}else for(g=0;g<r.length;g++){if(l=r[g],a=l.instance,s=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Uu(i,l,s),o=a}}}if(kg)throw e=$a,kg=!1,$a=null,e}function we(e,t){var n=t[as];n===void 0&&(n=t[as]=new Set);var r=e+"__bubble";n.has(r)||(VA(t,e,2,!1),n.add(r))}function ua(e,t,n){var r=0;t&&(r|=4),VA(n,e,r,t)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function ao(e){if(!e[Jo]){e[Jo]=!0,Ec.forEach(function(n){n!=="selectionchange"&&(Bm.has(n)||ua(n,!1,e),ua(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jo]||(t[Jo]=!0,ua("selectionchange",!1,t))}}function VA(e,t,n,r){switch(hA(t)){case 1:var i=Np;break;case 4:i=Ep;break;default:i=sI}n=i.bind(null,t,n,e),i=void 0,!Qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ca(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(g===4)for(g=r.return;g!==null;){var a=g.tag;if((a===3||a===4)&&(a=g.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;g=g.return}for(;l!==null;){if(g=br(l),g===null)return;if(a=g.tag,a===5||a===6){r=o=g;continue e}l=l.parentNode}}r=r.return}nA(function(){var s=o,C=oI(n),c=[];e:{var A=YA.get(e);if(A!==void 0){var y=uI,v=e;switch(e){case"keypress":if(hg(n)===0)break e;case"keydown":case"keyup":y=tm;break;case"focusin":v="focus",y=oa;break;case"focusout":v="blur",y=oa;break;case"beforeblur":case"afterblur":y=oa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=im;break;case SA:case WA:case kA:y=zp;break;case KA:y=gm;break;case"scroll":y=Tp;break;case"wheel":y=am;break;case"copy":case"cut":case"paste":y=jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Eu}var b=(t&4)!==0,B=!b&&e==="scroll",p=b?A!==null?A+"Capture":null:A;b=[];for(var f=s,m;f!==null;){m=f;var G=m.stateNode;if(m.tag===5&&G!==null&&(m=G,p!==null&&(G=no(f,p),G!=null&&b.push(so(f,G,m)))),B)break;f=f.return}0<b.length&&(A=new y(A,v,null,n,C),c.push({event:A,listeners:b}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",A&&n!==Ja&&(v=n.relatedTarget||n.fromElement)&&(br(v)||v[_n]))break e;if((y||A)&&(A=C.window===C?C:(A=C.ownerDocument)?A.defaultView||A.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=s,v=v?br(v):null,v!==null&&(B=Lr(v),v!==B||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=s),y!==v)){if(b=_u,G="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(b=Eu,G="onPointerLeave",p="onPointerEnter",f="pointer"),B=y==null?A:Or(y),m=v==null?A:Or(v),A=new b(G,f+"leave",y,n,C),A.target=B,A.relatedTarget=m,G=null,br(C)===s&&(b=new b(p,f+"enter",v,n,C),b.target=m,b.relatedTarget=B,G=b),B=G,y&&v)t:{for(b=y,p=v,f=0,m=b;m;m=Er(m))f++;for(m=0,G=p;G;G=Er(G))m++;for(;0<f-m;)b=Er(b),f--;for(;0<m-f;)p=Er(p),m--;for(;f--;){if(b===p||p!==null&&b===p.alternate)break t;b=Er(b),p=Er(p)}b=null}else b=null;y!==null&&Qu(c,A,y,b,!1),v!==null&&B!==null&&Qu(c,B,v,b,!0)}}e:{if(A=s?Or(s):window,y=A.nodeName&&A.nodeName.toLowerCase(),y==="select"||y==="input"&&A.type==="file")var V=dm;else if(Pu(A))if(bA)V=mm;else{V=fm;var F=hm}else(y=A.nodeName)&&y.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(V=pm);if(V&&(V=V(e,s))){vA(c,V,n,C);break e}F&&F(e,A,s),e==="focusout"&&(F=A._wrapperState)&&F.controlled&&A.type==="number"&&Ma(A,"number",A.value)}switch(F=s?Or(s):window,e){case"focusin":(Pu(F)||F.contentEditable==="true")&&(xr=F,ns=s,Oi=null);break;case"focusout":Oi=ns=xr=null;break;case"mousedown":rs=!0;break;case"contextmenu":case"mouseup":case"dragend":rs=!1,ju(c,n,C);break;case"selectionchange":if(bm)break;case"keydown":case"keyup":ju(c,n,C)}var Y;if(cI)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Mr?mA(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(pA&&n.locale!=="ko"&&(Mr||R!=="onCompositionStart"?R==="onCompositionEnd"&&Mr&&(Y=fA()):(Qn=C,II="value"in Qn?Qn.value:Qn.textContent,Mr=!0)),F=Xg(s,R),0<F.length&&(R=new Nu(R,e,null,n,C),c.push({event:R,listeners:F}),Y?R.data=Y:(Y=yA(n),Y!==null&&(R.data=Y)))),(Y=Im?um(e,n):Cm(e,n))&&(s=Xg(s,"onBeforeInput"),0<s.length&&(C=new Nu("onBeforeInput","beforeinput",null,n,C),c.push({event:C,listeners:s}),C.data=Y))}RA(c,t)})}function so(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=no(e,n),o!=null&&r.unshift(so(e,o,i)),o=no(e,t),o!=null&&r.push(so(e,o,i))),e=e.return}return r}function Er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qu(e,t,n,r,i){for(var o=t._reactName,g=[];n!==null&&n!==r;){var l=n,a=l.alternate,s=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&s!==null&&(l=s,i?(a=no(n,o),a!=null&&g.unshift(so(n,a,l))):i||(a=no(n,o),a!=null&&g.push(so(n,a,l)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var Zm=/\r\n?/g,Sm=/\u0000|\uFFFD/g;function $u(e){return(typeof e=="string"?e:""+e).replace(Zm,`
`).replace(Sm,"")}function Uo(e,t,n){if(t=$u(t),$u(e)!==t&&n)throw Error(E(425))}function Lg(){}var is=null,os=null;function gs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ls=typeof setTimeout=="function"?setTimeout:void 0,Wm=typeof clearTimeout=="function"?clearTimeout:void 0,qu=typeof Promise=="function"?Promise:void 0,km=typeof queueMicrotask=="function"?queueMicrotask:typeof qu<"u"?function(e){return qu.resolve(null).then(e).catch(Km)}:ls;function Km(e){setTimeout(function(){throw e})}function ca(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),oo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);oo(t)}function nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function eC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mi=Math.random().toString(36).slice(2),yn="__reactFiber$"+mi,Io="__reactProps$"+mi,_n="__reactContainer$"+mi,as="__reactEvents$"+mi,Ym="__reactListeners$"+mi,Rm="__reactHandles$"+mi;function br(e){var t=e[yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=eC(e);e!==null;){if(n=e[yn])return n;e=eC(e)}return t}e=n,n=e.parentNode}return null}function Bo(e){return e=e[yn]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function pl(e){return e[Io]||null}var ss=[],jr=-1;function Cr(e){return{current:e}}function Be(e){0>jr||(e.current=ss[jr],ss[jr]=null,jr--)}function Ge(e,t){jr++,ss[jr]=e.current,e.current=t}var ar={},ot=Cr(ar),yt=Cr(!1),Wr=ar;function si(e,t){var n=e.type.contextTypes;if(!n)return ar;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function vt(e){return e=e.childContextTypes,e!=null}function Hg(){Be(yt),Be(ot)}function tC(e,t,n){if(ot.current!==ar)throw Error(E(168));Ge(ot,t),Ge(yt,n)}function XA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(E(108,hp(e)||"Unknown",i));return Xe({},n,r)}function Fg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ar,Wr=ot.current,Ge(ot,e),Ge(yt,yt.current),!0}function nC(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=XA(e,t,Wr),r.__reactInternalMemoizedMergedChildContext=e,Be(yt),Be(ot),Ge(ot,e)):Be(yt),Ge(yt,n)}var Vn=null,ml=!1,Aa=!1;function LA(e){Vn===null?Vn=[e]:Vn.push(e)}function Vm(e){ml=!0,LA(e)}function cr(){if(!Aa&&Vn!==null){Aa=!0;var e=0,t=pe;try{var n=Vn;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vn=null,ml=!1}catch(i){throw Vn!==null&&(Vn=Vn.slice(e+1)),gA(gI,cr),i}finally{pe=t,Aa=!1}}return null}var Jr=[],Ur=0,_g=null,Ng=0,xt=[],zt=0,kr=null,Xn=1,Ln="";function hr(e,t){Jr[Ur++]=Ng,Jr[Ur++]=_g,_g=e,Ng=t}function HA(e,t,n){xt[zt++]=Xn,xt[zt++]=Ln,xt[zt++]=kr,kr=e;var r=Xn;e=Ln;var i=32-Cn(r)-1;r&=~(1<<i),n+=1;var o=32-Cn(t)+i;if(30<o){var g=i-i%5;o=(r&(1<<g)-1).toString(32),r>>=g,i-=g,Xn=1<<32-Cn(t)+i|n<<i|r,Ln=o+e}else Xn=1<<o|n<<i|r,Ln=e}function dI(e){e.return!==null&&(hr(e,1),HA(e,1,0))}function hI(e){for(;e===_g;)_g=Jr[--Ur],Jr[Ur]=null,Ng=Jr[--Ur],Jr[Ur]=null;for(;e===kr;)kr=xt[--zt],xt[zt]=null,Ln=xt[--zt],xt[zt]=null,Xn=xt[--zt],xt[zt]=null}var Rt=null,Kt=null,Se=!1,an=null;function FA(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rt=e,Kt=nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kr!==null?{id:Xn,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rt=e,Kt=null,!0):!1;default:return!1}}function Is(e){return(e.mode&1)!==0&&(e.flags&128)===0}function us(e){if(Se){var t=Kt;if(t){var n=t;if(!rC(e,t)){if(Is(e))throw Error(E(418));t=nr(n.nextSibling);var r=Rt;t&&rC(e,t)?FA(r,n):(e.flags=e.flags&-4097|2,Se=!1,Rt=e)}}else{if(Is(e))throw Error(E(418));e.flags=e.flags&-4097|2,Se=!1,Rt=e}}}function iC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rt=e}function Qo(e){if(e!==Rt)return!1;if(!Se)return iC(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gs(e.type,e.memoizedProps)),t&&(t=Kt)){if(Is(e))throw _A(),Error(E(418));for(;t;)FA(e,t),t=nr(t.nextSibling)}if(iC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kt=nr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=Rt?nr(e.stateNode.nextSibling):null;return!0}function _A(){for(var e=Kt;e;)e=nr(e.nextSibling)}function Ii(){Kt=Rt=null,Se=!1}function fI(e){an===null?an=[e]:an.push(e)}var Xm=Dn.ReactCurrentBatchConfig;function gn(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Eg=Cr(null),Tg=null,Qr=null,pI=null;function mI(){pI=Qr=Tg=null}function yI(e){var t=Eg.current;Be(Eg),e._currentValue=t}function Cs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ii(e,t){Tg=e,pI=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function Jt(e){var t=e._currentValue;if(pI!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(Tg===null)throw Error(E(308));Qr=e,Tg.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var Gr=null;function vI(e){Gr===null?Gr=[e]:Gr.push(e)}function NA(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,vI(t)):(n.next=i.next,i.next=n),t.interleaved=n,Nn(e,r)}function Nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jn=!1;function bI(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Nn(e,n)}return i=r.interleaved,i===null?(t.next=t,vI(r)):(t.next=i.next,i.next=t),r.interleaved=t,Nn(e,n)}function fg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lI(e,n)}}function oC(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var g={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=g:o=o.next=g,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dg(e,t,n,r){var i=e.updateQueue;jn=!1;var o=i.firstBaseUpdate,g=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,s=a.next;a.next=null,g===null?o=s:g.next=s,g=a;var C=e.alternate;C!==null&&(C=C.updateQueue,l=C.lastBaseUpdate,l!==g&&(l===null?C.firstBaseUpdate=s:l.next=s,C.lastBaseUpdate=a))}if(o!==null){var c=i.baseState;g=0,C=s=a=null,l=o;do{var A=l.lane,y=l.eventTime;if((r&A)===A){C!==null&&(C=C.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,b=l;switch(A=t,y=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){c=v.call(y,c,A);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,A=typeof v=="function"?v.call(y,c,A):v,A==null)break e;c=Xe({},c,A);break e;case 2:jn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,A=i.effects,A===null?i.effects=[l]:A.push(l))}else y={eventTime:y,lane:A,tag:l.tag,payload:l.payload,callback:l.callback,next:null},C===null?(s=C=y,a=c):C=C.next=y,g|=A;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;A=l,l=A.next,A.next=null,i.lastBaseUpdate=A,i.shared.pending=null}}while(!0);if(C===null&&(a=c),i.baseState=a,i.firstBaseUpdate=s,i.lastBaseUpdate=C,t=i.shared.interleaved,t!==null){i=t;do g|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Yr|=g,e.lanes=g,e.memoizedState=c}}function gC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var TA=new Nc.Component().refs;function cs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yl={isMounted:function(e){return(e=e._reactInternals)?Lr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ct(),i=or(e),o=Hn(r,i);o.payload=t,n!=null&&(o.callback=n),t=rr(e,o,i),t!==null&&(cn(t,e,i,r),fg(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ct(),i=or(e),o=Hn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=rr(e,o,i),t!==null&&(cn(t,e,i,r),fg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ct(),r=or(e),i=Hn(n,r);i.tag=2,t!=null&&(i.callback=t),t=rr(e,i,r),t!==null&&(cn(t,e,r,n),fg(t,e,r))}};function lC(e,t,n,r,i,o,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,g):t.prototype&&t.prototype.isPureReactComponent?!lo(n,r)||!lo(i,o):!0}function DA(e,t,n){var r=!1,i=ar,o=t.contextType;return typeof o=="object"&&o!==null?o=Jt(o):(i=vt(t)?Wr:ot.current,r=t.contextTypes,o=(r=r!=null)?si(e,i):ar),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function As(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=TA,bI(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Jt(o):(o=vt(t)?Wr:ot.current,i.context=si(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(cs(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&yl.enqueueReplaceState(i,i.state,null),Dg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Li(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(g){var l=i.refs;l===TA&&(l=i.refs={}),g===null?delete l[o]:l[o]=g},t._stringRef=o,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function $o(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sC(e){var t=e._init;return t(e._payload)}function PA(e){function t(p,f){if(e){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=gr(p,f),p.index=0,p.sibling=null,p}function o(p,f,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function g(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,m,G){return f===null||f.tag!==6?(f=va(m,p.mode,G),f.return=p,f):(f=i(f,m),f.return=p,f)}function a(p,f,m,G){var V=m.type;return V===Pr?C(p,f,m.props.children,G,m.key):f!==null&&(f.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===On&&sC(V)===f.type)?(G=i(f,m.props),G.ref=Li(p,f,m),G.return=p,G):(G=Gg(m.type,m.key,m.props,null,p.mode,G),G.ref=Li(p,f,m),G.return=p,G)}function s(p,f,m,G){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=ba(m,p.mode,G),f.return=p,f):(f=i(f,m.children||[]),f.return=p,f)}function C(p,f,m,G,V){return f===null||f.tag!==7?(f=Sr(m,p.mode,G,V),f.return=p,f):(f=i(f,m),f.return=p,f)}function c(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=va(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case To:return m=Gg(f.type,f.key,f.props,null,p.mode,m),m.ref=Li(p,null,f),m.return=p,m;case Dr:return f=ba(f,p.mode,m),f.return=p,f;case On:var G=f._init;return c(p,G(f._payload),m)}if(Ni(f)||Ki(f))return f=Sr(f,p.mode,m,null),f.return=p,f;$o(p,f)}return null}function A(p,f,m,G){var V=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return V!==null?null:l(p,f,""+m,G);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case To:return m.key===V?a(p,f,m,G):null;case Dr:return m.key===V?s(p,f,m,G):null;case On:return V=m._init,A(p,f,V(m._payload),G)}if(Ni(m)||Ki(m))return V!==null?null:C(p,f,m,G,null);$o(p,m)}return null}function y(p,f,m,G,V){if(typeof G=="string"&&G!==""||typeof G=="number")return p=p.get(m)||null,l(f,p,""+G,V);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case To:return p=p.get(G.key===null?m:G.key)||null,a(f,p,G,V);case Dr:return p=p.get(G.key===null?m:G.key)||null,s(f,p,G,V);case On:var F=G._init;return y(p,f,m,F(G._payload),V)}if(Ni(G)||Ki(G))return p=p.get(m)||null,C(f,p,G,V,null);$o(f,G)}return null}function v(p,f,m,G){for(var V=null,F=null,Y=f,R=f=0,T=null;Y!==null&&R<m.length;R++){Y.index>R?(T=Y,Y=null):T=Y.sibling;var Z=A(p,Y,m[R],G);if(Z===null){Y===null&&(Y=T);break}e&&Y&&Z.alternate===null&&t(p,Y),f=o(Z,f,R),F===null?V=Z:F.sibling=Z,F=Z,Y=T}if(R===m.length)return n(p,Y),Se&&hr(p,R),V;if(Y===null){for(;R<m.length;R++)Y=c(p,m[R],G),Y!==null&&(f=o(Y,f,R),F===null?V=Y:F.sibling=Y,F=Y);return Se&&hr(p,R),V}for(Y=r(p,Y);R<m.length;R++)T=y(Y,p,R,m[R],G),T!==null&&(e&&T.alternate!==null&&Y.delete(T.key===null?R:T.key),f=o(T,f,R),F===null?V=T:F.sibling=T,F=T);return e&&Y.forEach(function(K){return t(p,K)}),Se&&hr(p,R),V}function b(p,f,m,G){var V=Ki(m);if(typeof V!="function")throw Error(E(150));if(m=V.call(m),m==null)throw Error(E(151));for(var F=V=null,Y=f,R=f=0,T=null,Z=m.next();Y!==null&&!Z.done;R++,Z=m.next()){Y.index>R?(T=Y,Y=null):T=Y.sibling;var K=A(p,Y,Z.value,G);if(K===null){Y===null&&(Y=T);break}e&&Y&&K.alternate===null&&t(p,Y),f=o(K,f,R),F===null?V=K:F.sibling=K,F=K,Y=T}if(Z.done)return n(p,Y),Se&&hr(p,R),V;if(Y===null){for(;!Z.done;R++,Z=m.next())Z=c(p,Z.value,G),Z!==null&&(f=o(Z,f,R),F===null?V=Z:F.sibling=Z,F=Z);return Se&&hr(p,R),V}for(Y=r(p,Y);!Z.done;R++,Z=m.next())Z=y(Y,p,R,Z.value,G),Z!==null&&(e&&Z.alternate!==null&&Y.delete(Z.key===null?R:Z.key),f=o(Z,f,R),F===null?V=Z:F.sibling=Z,F=Z);return e&&Y.forEach(function(H){return t(p,H)}),Se&&hr(p,R),V}function B(p,f,m,G){if(typeof m=="object"&&m!==null&&m.type===Pr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case To:e:{for(var V=m.key,F=f;F!==null;){if(F.key===V){if(V=m.type,V===Pr){if(F.tag===7){n(p,F.sibling),f=i(F,m.props.children),f.return=p,p=f;break e}}else if(F.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===On&&sC(V)===F.type){n(p,F.sibling),f=i(F,m.props),f.ref=Li(p,F,m),f.return=p,p=f;break e}n(p,F);break}else t(p,F);F=F.sibling}m.type===Pr?(f=Sr(m.props.children,p.mode,G,m.key),f.return=p,p=f):(G=Gg(m.type,m.key,m.props,null,p.mode,G),G.ref=Li(p,f,m),G.return=p,p=G)}return g(p);case Dr:e:{for(F=m.key;f!==null;){if(f.key===F)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=i(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=ba(m,p.mode,G),f.return=p,p=f}return g(p);case On:return F=m._init,B(p,f,F(m._payload),G)}if(Ni(m))return v(p,f,m,G);if(Ki(m))return b(p,f,m,G);$o(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,m),f.return=p,p=f):(n(p,f),f=va(m,p.mode,G),f.return=p,p=f),g(p)):n(p,f)}return B}var ui=PA(!0),MA=PA(!1),Zo={},Gn=Cr(Zo),uo=Cr(Zo),Co=Cr(Zo);function wr(e){if(e===Zo)throw Error(E(174));return e}function GI(e,t){switch(Ge(Co,t),Ge(uo,e),Ge(Gn,Zo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:za(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=za(t,e)}Be(Gn),Ge(Gn,t)}function Ci(){Be(Gn),Be(uo),Be(Co)}function xA(e){wr(Co.current);var t=wr(Gn.current),n=za(t,e.type);t!==n&&(Ge(uo,e),Ge(Gn,n))}function wI(e){uo.current===e&&(Be(Gn),Be(uo))}var Ye=Cr(0);function Pg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=[];function BI(){for(var e=0;e<da.length;e++)da[e]._workInProgressVersionPrimary=null;da.length=0}var pg=Dn.ReactCurrentDispatcher,ha=Dn.ReactCurrentBatchConfig,Kr=0,Ve=null,ze=null,je=null,Mg=!1,ji=!1,co=0,Lm=0;function nt(){throw Error(E(321))}function ZI(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!An(e[n],t[n]))return!1;return!0}function SI(e,t,n,r,i,o){if(Kr=o,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pg.current=e===null||e.memoizedState===null?Nm:Em,e=n(r,i),ji){o=0;do{if(ji=!1,co=0,25<=o)throw Error(E(301));o+=1,je=ze=null,t.updateQueue=null,pg.current=Tm,e=n(r,i)}while(ji)}if(pg.current=xg,t=ze!==null&&ze.next!==null,Kr=0,je=ze=Ve=null,Mg=!1,t)throw Error(E(300));return e}function WI(){var e=co!==0;return co=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ve.memoizedState=je=e:je=je.next=e,je}function Ut(){if(ze===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=je===null?Ve.memoizedState:je.next;if(t!==null)je=t,ze=e;else{if(e===null)throw Error(E(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},je===null?Ve.memoizedState=je=e:je=je.next=e}return je}function Ao(e,t){return typeof t=="function"?t(e):t}function fa(e){var t=Ut(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=ze,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var g=i.next;i.next=o.next,o.next=g}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=g=null,a=null,s=o;do{var C=s.lane;if((Kr&C)===C)a!==null&&(a=a.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),r=s.hasEagerState?s.eagerState:e(r,s.action);else{var c={lane:C,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};a===null?(l=a=c,g=r):a=a.next=c,Ve.lanes|=C,Yr|=C}s=s.next}while(s!==null&&s!==o);a===null?g=r:a.next=l,An(r,t.memoizedState)||(mt=!0),t.memoizedState=r,t.baseState=g,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ve.lanes|=o,Yr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pa(e){var t=Ut(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var g=i=i.next;do o=e(o,g.action),g=g.next;while(g!==i);An(o,t.memoizedState)||(mt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function zA(){}function OA(e,t){var n=Ve,r=Ut(),i=t(),o=!An(r.memoizedState,i);if(o&&(r.memoizedState=i,mt=!0),r=r.queue,kI(UA.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,ho(9,JA.bind(null,n,r,i,t),void 0,null),Je===null)throw Error(E(349));Kr&30||jA(n,t,i)}return i}function jA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function JA(e,t,n,r){t.value=n,t.getSnapshot=r,QA(t)&&$A(e)}function UA(e,t,n){return n(function(){QA(t)&&$A(e)})}function QA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!An(e,n)}catch{return!0}}function $A(e){var t=Nn(e,1);t!==null&&cn(t,e,1,-1)}function IC(e){var t=mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=_m.bind(null,Ve,e),[t.memoizedState,e]}function ho(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function qA(){return Ut().memoizedState}function mg(e,t,n,r){var i=mn();Ve.flags|=e,i.memoizedState=ho(1|t,n,void 0,r===void 0?null:r)}function vl(e,t,n,r){var i=Ut();r=r===void 0?null:r;var o=void 0;if(ze!==null){var g=ze.memoizedState;if(o=g.destroy,r!==null&&ZI(r,g.deps)){i.memoizedState=ho(t,n,o,r);return}}Ve.flags|=e,i.memoizedState=ho(1|t,n,o,r)}function uC(e,t){return mg(8390656,8,e,t)}function kI(e,t){return vl(2048,8,e,t)}function ed(e,t){return vl(4,2,e,t)}function td(e,t){return vl(4,4,e,t)}function nd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rd(e,t,n){return n=n!=null?n.concat([e]):null,vl(4,4,nd.bind(null,t,e),n)}function KI(){}function id(e,t){var n=Ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ZI(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function od(e,t){var n=Ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ZI(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gd(e,t,n){return Kr&21?(An(n,t)||(n=sA(),Ve.lanes|=n,Yr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=n)}function Hm(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{pe=n,ha.transition=r}}function ld(){return Ut().memoizedState}function Fm(e,t,n){var r=or(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ad(e))sd(t,n);else if(n=NA(e,t,n,r),n!==null){var i=ct();cn(n,e,r,i),Id(n,t,r)}}function _m(e,t,n){var r=or(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ad(e))sd(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var g=t.lastRenderedState,l=o(g,n);if(i.hasEagerState=!0,i.eagerState=l,An(l,g)){var a=t.interleaved;a===null?(i.next=i,vI(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=NA(e,t,i,r),n!==null&&(i=ct(),cn(n,e,r,i),Id(n,t,r))}}function ad(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function sd(e,t){ji=Mg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Id(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lI(e,n)}}var xg={readContext:Jt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},Nm={readContext:Jt,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:uC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mg(4194308,4,nd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mg(4194308,4,e,t)},useInsertionEffect:function(e,t){return mg(4,2,e,t)},useMemo:function(e,t){var n=mn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Fm.bind(null,Ve,e),[r.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:IC,useDebugValue:KI,useDeferredValue:function(e){return mn().memoizedState=e},useTransition:function(){var e=IC(!1),t=e[0];return e=Hm.bind(null,e[1]),mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ve,i=mn();if(Se){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),Je===null)throw Error(E(349));Kr&30||jA(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,uC(UA.bind(null,r,o,e),[e]),r.flags|=2048,ho(9,JA.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=mn(),t=Je.identifierPrefix;if(Se){var n=Ln,r=Xn;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=co++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Lm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Em={readContext:Jt,useCallback:id,useContext:Jt,useEffect:kI,useImperativeHandle:rd,useInsertionEffect:ed,useLayoutEffect:td,useMemo:od,useReducer:fa,useRef:qA,useState:function(){return fa(Ao)},useDebugValue:KI,useDeferredValue:function(e){var t=Ut();return gd(t,ze.memoizedState,e)},useTransition:function(){var e=fa(Ao)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:zA,useSyncExternalStore:OA,useId:ld,unstable_isNewReconciler:!1},Tm={readContext:Jt,useCallback:id,useContext:Jt,useEffect:kI,useImperativeHandle:rd,useInsertionEffect:ed,useLayoutEffect:td,useMemo:od,useReducer:pa,useRef:qA,useState:function(){return pa(Ao)},useDebugValue:KI,useDeferredValue:function(e){var t=Ut();return ze===null?t.memoizedState=e:gd(t,ze.memoizedState,e)},useTransition:function(){var e=pa(Ao)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:zA,useSyncExternalStore:OA,useId:ld,unstable_isNewReconciler:!1};function ci(e,t){try{var n="",r=t;do n+=dp(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ma(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dm=typeof WeakMap=="function"?WeakMap:Map;function ud(e,t,n){n=Hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Og||(Og=!0,Bs=r),ds(e,t)},n}function Cd(e,t,n){n=Hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ds(e,t),typeof r!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),n}function CC(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dm;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=n0.bind(null,e,t,n),t.then(e,e))}function cC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function AC(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hn(-1,1),t.tag=2,rr(n,t,1))),n.lanes|=1),e)}var Pm=Dn.ReactCurrentOwner,mt=!1;function It(e,t,n,r){t.child=e===null?MA(t,null,n,r):ui(t,e.child,n,r)}function dC(e,t,n,r,i){n=n.render;var o=t.ref;return ii(t,i),r=SI(e,t,n,r,o,i),n=WI(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,En(e,t,i)):(Se&&n&&dI(t),t.flags|=1,It(e,t,r,i),t.child)}function hC(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!_I(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,cd(e,t,o,r,i)):(e=Gg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var g=o.memoizedProps;if(n=n.compare,n=n!==null?n:lo,n(g,r)&&e.ref===t.ref)return En(e,t,i)}return t.flags|=1,e=gr(o,r),e.ref=t.ref,e.return=t,t.child=e}function cd(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(lo(o,r)&&e.ref===t.ref)if(mt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,En(e,t,i)}return hs(e,t,n,r,i)}function Ad(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(qr,kt),kt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(qr,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(qr,kt),kt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ge(qr,kt),kt|=r;return It(e,t,i,n),t.child}function dd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function hs(e,t,n,r,i){var o=vt(n)?Wr:ot.current;return o=si(t,o),ii(t,i),n=SI(e,t,n,r,o,i),r=WI(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,En(e,t,i)):(Se&&r&&dI(t),t.flags|=1,It(e,t,n,i),t.child)}function fC(e,t,n,r,i){if(vt(n)){var o=!0;Fg(t)}else o=!1;if(ii(t,i),t.stateNode===null)yg(e,t),DA(t,n,r),As(t,n,r,i),r=!0;else if(e===null){var g=t.stateNode,l=t.memoizedProps;g.props=l;var a=g.context,s=n.contextType;typeof s=="object"&&s!==null?s=Jt(s):(s=vt(n)?Wr:ot.current,s=si(t,s));var C=n.getDerivedStateFromProps,c=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function";c||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(l!==r||a!==s)&&aC(t,g,r,s),jn=!1;var A=t.memoizedState;g.state=A,Dg(t,r,g,i),a=t.memoizedState,l!==r||A!==a||yt.current||jn?(typeof C=="function"&&(cs(t,n,C,r),a=t.memoizedState),(l=jn||lC(t,n,l,r,A,a,s))?(c||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),g.props=r,g.state=a,g.context=s,r=l):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{g=t.stateNode,EA(e,t),l=t.memoizedProps,s=t.type===t.elementType?l:gn(t.type,l),g.props=s,c=t.pendingProps,A=g.context,a=n.contextType,typeof a=="object"&&a!==null?a=Jt(a):(a=vt(n)?Wr:ot.current,a=si(t,a));var y=n.getDerivedStateFromProps;(C=typeof y=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(l!==c||A!==a)&&aC(t,g,r,a),jn=!1,A=t.memoizedState,g.state=A,Dg(t,r,g,i);var v=t.memoizedState;l!==c||A!==v||yt.current||jn?(typeof y=="function"&&(cs(t,n,y,r),v=t.memoizedState),(s=jn||lC(t,n,s,r,A,v,a)||!1)?(C||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(r,v,a),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(r,v,a)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),g.props=r,g.state=v,g.context=a,r=s):(typeof g.componentDidUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),r=!1)}return fs(e,t,n,r,o,i)}function fs(e,t,n,r,i,o){dd(e,t);var g=(t.flags&128)!==0;if(!r&&!g)return i&&nC(t,n,!1),En(e,t,o);r=t.stateNode,Pm.current=t;var l=g&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&g?(t.child=ui(t,e.child,null,o),t.child=ui(t,null,l,o)):It(e,t,l,o),t.memoizedState=r.state,i&&nC(t,n,!0),t.child}function hd(e){var t=e.stateNode;t.pendingContext?tC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tC(e,t.context,!1),GI(e,t.containerInfo)}function pC(e,t,n,r,i){return Ii(),fI(i),t.flags|=256,It(e,t,n,r),t.child}var ps={dehydrated:null,treeContext:null,retryLane:0};function ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function fd(e,t,n){var r=t.pendingProps,i=Ye.current,o=!1,g=(t.flags&128)!==0,l;if((l=g)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ge(Ye,i&1),e===null)return us(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=r.children,e=r.fallback,o?(r=t.mode,o=t.child,g={mode:"hidden",children:g},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=g):o=wl(g,r,0,null),e=Sr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ms(n),t.memoizedState=ps,e):YI(t,g));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Mm(e,t,g,r,l,i,n);if(o){o=r.fallback,g=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(g&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=gr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=gr(l,o):(o=Sr(o,g,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,g=e.child.memoizedState,g=g===null?ms(n):{baseLanes:g.baseLanes|n,cachePool:null,transitions:g.transitions},o.memoizedState=g,o.childLanes=e.childLanes&~n,t.memoizedState=ps,r}return o=e.child,e=o.sibling,r=gr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function YI(e,t){return t=wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qo(e,t,n,r){return r!==null&&fI(r),ui(t,e.child,null,n),e=YI(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mm(e,t,n,r,i,o,g){if(n)return t.flags&256?(t.flags&=-257,r=ma(Error(E(422))),qo(e,t,g,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=wl({mode:"visible",children:r.children},i,0,null),o=Sr(o,i,g,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ui(t,e.child,null,g),t.child.memoizedState=ms(g),t.memoizedState=ps,o);if(!(t.mode&1))return qo(e,t,g,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(E(419)),r=ma(o,r,void 0),qo(e,t,g,r)}if(l=(g&e.childLanes)!==0,mt||l){if(r=Je,r!==null){switch(g&-g){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|g)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Nn(e,i),cn(r,e,i,-1))}return FI(),r=ma(Error(E(421))),qo(e,t,g,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=r0.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Kt=nr(i.nextSibling),Rt=t,Se=!0,an=null,e!==null&&(xt[zt++]=Xn,xt[zt++]=Ln,xt[zt++]=kr,Xn=e.id,Ln=e.overflow,kr=t),t=YI(t,r.children),t.flags|=4096,t)}function mC(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cs(e.return,t,n)}function ya(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function pd(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(It(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mC(e,n,t);else if(e.tag===19)mC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ge(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Pg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ya(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Pg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ya(t,!0,n,null,o);break;case"together":ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=gr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xm(e,t,n){switch(t.tag){case 3:hd(t),Ii();break;case 5:xA(t);break;case 1:vt(t.type)&&Fg(t);break;case 4:GI(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ge(Eg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ge(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?fd(e,t,n):(Ge(Ye,Ye.current&1),e=En(e,t,n),e!==null?e.sibling:null);Ge(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return pd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Ad(e,t,n)}return En(e,t,n)}var md,ys,yd,vd;md=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ys=function(){};yd=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,wr(Gn.current);var o=null;switch(n){case"input":i=Da(e,i),r=Da(e,r),o=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),o=[];break;case"textarea":i=xa(e,i),r=xa(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Lg)}Oa(n,r);var g;n=null;for(s in i)if(!r.hasOwnProperty(s)&&i.hasOwnProperty(s)&&i[s]!=null)if(s==="style"){var l=i[s];for(g in l)l.hasOwnProperty(g)&&(n||(n={}),n[g]="")}else s!=="dangerouslySetInnerHTML"&&s!=="children"&&s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(eo.hasOwnProperty(s)?o||(o=[]):(o=o||[]).push(s,null));for(s in r){var a=r[s];if(l=i!=null?i[s]:void 0,r.hasOwnProperty(s)&&a!==l&&(a!=null||l!=null))if(s==="style")if(l){for(g in l)!l.hasOwnProperty(g)||a&&a.hasOwnProperty(g)||(n||(n={}),n[g]="");for(g in a)a.hasOwnProperty(g)&&l[g]!==a[g]&&(n||(n={}),n[g]=a[g])}else n||(o||(o=[]),o.push(s,n)),n=a;else s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(s,a)):s==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(s,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&(eo.hasOwnProperty(s)?(a!=null&&s==="onScroll"&&we("scroll",e),o||l===a||(o=[])):(o=o||[]).push(s,a))}n&&(o=o||[]).push("style",n);var s=o;(t.updateQueue=s)&&(t.flags|=4)}};vd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hi(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zm(e,t,n){var r=t.pendingProps;switch(hI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return vt(t.type)&&Hg(),rt(t),null;case 3:return r=t.stateNode,Ci(),Be(yt),Be(ot),BI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,an!==null&&(Ws(an),an=null))),ys(e,t),rt(t),null;case 5:wI(t);var i=wr(Co.current);if(n=t.type,e!==null&&t.stateNode!=null)yd(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return rt(t),null}if(e=wr(Gn.current),Qo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[yn]=t,r[Io]=o,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Ti.length;i++)we(Ti[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Wu(r,o),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},we("invalid",r);break;case"textarea":Ku(r,o),we("invalid",r)}Oa(n,o),i=null;for(var g in o)if(o.hasOwnProperty(g)){var l=o[g];g==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Uo(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Uo(r.textContent,l,e),i=["children",""+l]):eo.hasOwnProperty(g)&&l!=null&&g==="onScroll"&&we("scroll",r)}switch(n){case"input":Do(r),ku(r,o,!0);break;case"textarea":Do(r),Yu(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Lg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{g=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=g.createElement(n,{is:r.is}):(e=g.createElement(n),n==="select"&&(g=e,r.multiple?g.multiple=!0:r.size&&(g.size=r.size))):e=g.createElementNS(e,n),e[yn]=t,e[Io]=r,md(e,t,!1,!1),t.stateNode=e;e:{switch(g=ja(n,r),n){case"dialog":we("cancel",e),we("close",e),i=r;break;case"iframe":case"object":case"embed":we("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ti.length;i++)we(Ti[i],e);i=r;break;case"source":we("error",e),i=r;break;case"img":case"image":case"link":we("error",e),we("load",e),i=r;break;case"details":we("toggle",e),i=r;break;case"input":Wu(e,r),i=Da(e,r),we("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),we("invalid",e);break;case"textarea":Ku(e,r),i=xa(e,r),we("invalid",e);break;default:i=r}Oa(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Qc(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Jc(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&to(e,a):typeof a=="number"&&to(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(eo.hasOwnProperty(o)?a!=null&&o==="onScroll"&&we("scroll",e):a!=null&&tI(e,o,a,g))}switch(n){case"input":Do(e),ku(e,r,!1);break;case"textarea":Do(e),Yu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+lr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ei(e,!!r.multiple,o,!1):r.defaultValue!=null&&ei(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Lg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)vd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=wr(Co.current),wr(Gn.current),Qo(t)){if(r=t.stateNode,n=t.memoizedProps,r[yn]=t,(o=r.nodeValue!==n)&&(e=Rt,e!==null))switch(e.tag){case 3:Uo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=t,t.stateNode=r}return rt(t),null;case 13:if(Be(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&Kt!==null&&t.mode&1&&!(t.flags&128))_A(),Ii(),t.flags|=98560,o=!1;else if(o=Qo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(E(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(E(317));o[yn]=t}else Ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),o=!1}else an!==null&&(Ws(an),an=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?Oe===0&&(Oe=3):FI())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return Ci(),ys(e,t),e===null&&ao(t.stateNode.containerInfo),rt(t),null;case 10:return yI(t.type._context),rt(t),null;case 17:return vt(t.type)&&Hg(),rt(t),null;case 19:if(Be(Ye),o=t.memoizedState,o===null)return rt(t),null;if(r=(t.flags&128)!==0,g=o.rendering,g===null)if(r)Hi(o,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=Pg(e),g!==null){for(t.flags|=128,Hi(o,!1),r=g.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,g=o.alternate,g===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=g.childLanes,o.lanes=g.lanes,o.child=g.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=g.memoizedProps,o.memoizedState=g.memoizedState,o.updateQueue=g.updateQueue,o.type=g.type,e=g.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(Ye,Ye.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ee()>Ai&&(t.flags|=128,r=!0,Hi(o,!1),t.lanes=4194304)}else{if(!r)if(e=Pg(g),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!g.alternate&&!Se)return rt(t),null}else 2*Ee()-o.renderingStartTime>Ai&&n!==1073741824&&(t.flags|=128,r=!0,Hi(o,!1),t.lanes=4194304);o.isBackwards?(g.sibling=t.child,t.child=g):(n=o.last,n!==null?n.sibling=g:t.child=g,o.last=g)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ee(),t.sibling=null,n=Ye.current,Ge(Ye,r?n&1|2:n&1),t):(rt(t),null);case 22:case 23:return HI(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?kt&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Om(e,t){switch(hI(t),t.tag){case 1:return vt(t.type)&&Hg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ci(),Be(yt),Be(ot),BI(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wI(t),null;case 13:if(Be(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Ye),null;case 4:return Ci(),null;case 10:return yI(t.type._context),null;case 22:case 23:return HI(),null;case 24:return null;default:return null}}var eg=!1,it=!1,jm=typeof WeakSet=="function"?WeakSet:Set,$=null;function $r(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(e,t,r)}else n.current=null}function vs(e,t,n){try{n()}catch(r){Fe(e,t,r)}}var yC=!1;function Jm(e,t){if(is=Rg,e=BA(),AI(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var g=0,l=-1,a=-1,s=0,C=0,c=e,A=null;t:for(;;){for(var y;c!==n||i!==0&&c.nodeType!==3||(l=g+i),c!==o||r!==0&&c.nodeType!==3||(a=g+r),c.nodeType===3&&(g+=c.nodeValue.length),(y=c.firstChild)!==null;)A=c,c=y;for(;;){if(c===e)break t;if(A===n&&++s===i&&(l=g),A===o&&++C===r&&(a=g),(y=c.nextSibling)!==null)break;c=A,A=c.parentNode}c=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(os={focusedElem:e,selectionRange:n},Rg=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,B=v.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?b:gn(t.type,b),B);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(G){Fe(t,t.return,G)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return v=yC,yC=!1,v}function Ji(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&vs(t,n,o)}i=i.next}while(i!==r)}}function bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bd(e){var t=e.alternate;t!==null&&(e.alternate=null,bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[Io],delete t[as],delete t[Ym],delete t[Rm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gd(e){return e.tag===5||e.tag===3||e.tag===4}function vC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Lg));else if(r!==4&&(e=e.child,e!==null))for(Gs(e,t,n),e=e.sibling;e!==null;)Gs(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ws(e,t,n),e=e.sibling;e!==null;)ws(e,t,n),e=e.sibling}var $e=null,ln=!1;function xn(e,t,n){for(n=n.child;n!==null;)wd(e,t,n),n=n.sibling}function wd(e,t,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Al,n)}catch{}switch(n.tag){case 5:it||$r(n,t);case 6:var r=$e,i=ln;$e=null,xn(e,t,n),$e=r,ln=i,$e!==null&&(ln?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(ln?(e=$e,n=n.stateNode,e.nodeType===8?ca(e.parentNode,n):e.nodeType===1&&ca(e,n),oo(e)):ca($e,n.stateNode));break;case 4:r=$e,i=ln,$e=n.stateNode.containerInfo,ln=!0,xn(e,t,n),$e=r,ln=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,g=o.destroy;o=o.tag,g!==void 0&&(o&2||o&4)&&vs(n,t,g),i=i.next}while(i!==r)}xn(e,t,n);break;case 1:if(!it&&($r(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Fe(n,t,l)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,xn(e,t,n),it=r):xn(e,t,n);break;default:xn(e,t,n)}}function bC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jm),t.forEach(function(r){var i=i0.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function on(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,g=t,l=g;e:for(;l!==null;){switch(l.tag){case 5:$e=l.stateNode,ln=!1;break e;case 3:$e=l.stateNode.containerInfo,ln=!0;break e;case 4:$e=l.stateNode.containerInfo,ln=!0;break e}l=l.return}if($e===null)throw Error(E(160));wd(o,g,i),$e=null,ln=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(s){Fe(i,t,s)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bd(t,e),t=t.sibling}function Bd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),hn(e),r&4){try{Ji(3,e,e.return),bl(3,e)}catch(b){Fe(e,e.return,b)}try{Ji(5,e,e.return)}catch(b){Fe(e,e.return,b)}}break;case 1:on(t,e),hn(e),r&512&&n!==null&&$r(n,n.return);break;case 5:if(on(t,e),hn(e),r&512&&n!==null&&$r(n,n.return),e.flags&32){var i=e.stateNode;try{to(i,"")}catch(b){Fe(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,g=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&zc(i,o),ja(l,g);var s=ja(l,o);for(g=0;g<a.length;g+=2){var C=a[g],c=a[g+1];C==="style"?Qc(i,c):C==="dangerouslySetInnerHTML"?Jc(i,c):C==="children"?to(i,c):tI(i,C,c,s)}switch(l){case"input":Pa(i,o);break;case"textarea":Oc(i,o);break;case"select":var A=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?ei(i,!!o.multiple,y,!1):A!==!!o.multiple&&(o.defaultValue!=null?ei(i,!!o.multiple,o.defaultValue,!0):ei(i,!!o.multiple,o.multiple?[]:"",!1))}i[Io]=o}catch(b){Fe(e,e.return,b)}}break;case 6:if(on(t,e),hn(e),r&4){if(e.stateNode===null)throw Error(E(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(b){Fe(e,e.return,b)}}break;case 3:if(on(t,e),hn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oo(t.containerInfo)}catch(b){Fe(e,e.return,b)}break;case 4:on(t,e),hn(e);break;case 13:on(t,e),hn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(XI=Ee())),r&4&&bC(e);break;case 22:if(C=n!==null&&n.memoizedState!==null,e.mode&1?(it=(s=it)||C,on(t,e),it=s):on(t,e),hn(e),r&8192){if(s=e.memoizedState!==null,(e.stateNode.isHidden=s)&&!C&&e.mode&1)for($=e,C=e.child;C!==null;){for(c=$=C;$!==null;){switch(A=$,y=A.child,A.tag){case 0:case 11:case 14:case 15:Ji(4,A,A.return);break;case 1:$r(A,A.return);var v=A.stateNode;if(typeof v.componentWillUnmount=="function"){r=A,n=A.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(b){Fe(r,n,b)}}break;case 5:$r(A,A.return);break;case 22:if(A.memoizedState!==null){wC(c);continue}}y!==null?(y.return=A,$=y):wC(c)}C=C.sibling}e:for(C=null,c=e;;){if(c.tag===5){if(C===null){C=c;try{i=c.stateNode,s?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=c.stateNode,a=c.memoizedProps.style,g=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Uc("display",g))}catch(b){Fe(e,e.return,b)}}}else if(c.tag===6){if(C===null)try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(b){Fe(e,e.return,b)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;C===c&&(C=null),c=c.return}C===c&&(C=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:on(t,e),hn(e),r&4&&bC(e);break;case 21:break;default:on(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gd(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(to(i,""),r.flags&=-33);var o=vC(e);ws(e,o,i);break;case 3:case 4:var g=r.stateNode.containerInfo,l=vC(e);Gs(e,l,g);break;default:throw Error(E(161))}}catch(a){Fe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Um(e,t,n){$=e,Zd(e)}function Zd(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var i=$,o=i.child;if(i.tag===22&&r){var g=i.memoizedState!==null||eg;if(!g){var l=i.alternate,a=l!==null&&l.memoizedState!==null||it;l=eg;var s=it;if(eg=g,(it=a)&&!s)for($=i;$!==null;)g=$,a=g.child,g.tag===22&&g.memoizedState!==null?BC(i):a!==null?(a.return=g,$=a):BC(i);for(;o!==null;)$=o,Zd(o),o=o.sibling;$=i,eg=l,it=s}GC(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,$=o):GC(e)}}function GC(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||bl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&gC(t,o,r);break;case 3:var g=t.updateQueue;if(g!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gC(t,g,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var s=t.alternate;if(s!==null){var C=s.memoizedState;if(C!==null){var c=C.dehydrated;c!==null&&oo(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}it||t.flags&512&&bs(t)}catch(A){Fe(t,t.return,A)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function wC(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function BC(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bl(4,t)}catch(a){Fe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Fe(t,i,a)}}var o=t.return;try{bs(t)}catch(a){Fe(t,o,a)}break;case 5:var g=t.return;try{bs(t)}catch(a){Fe(t,g,a)}}}catch(a){Fe(t,t.return,a)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var Qm=Math.ceil,zg=Dn.ReactCurrentDispatcher,RI=Dn.ReactCurrentOwner,jt=Dn.ReactCurrentBatchConfig,ue=0,Je=null,Te=null,et=0,kt=0,qr=Cr(0),Oe=0,fo=null,Yr=0,Gl=0,VI=0,Ui=null,pt=null,XI=0,Ai=1/0,Rn=null,Og=!1,Bs=null,ir=null,tg=!1,$n=null,jg=0,Qi=0,Zs=null,vg=-1,bg=0;function ct(){return ue&6?Ee():vg!==-1?vg:vg=Ee()}function or(e){return e.mode&1?ue&2&&et!==0?et&-et:Xm.transition!==null?(bg===0&&(bg=sA()),bg):(e=pe,e!==0||(e=window.event,e=e===void 0?16:hA(e.type)),e):1}function cn(e,t,n,r){if(50<Qi)throw Qi=0,Zs=null,Error(E(185));Go(e,n,r),(!(ue&2)||e!==Je)&&(e===Je&&(!(ue&2)&&(Gl|=n),Oe===4&&Un(e,et)),bt(e,r),n===1&&ue===0&&!(t.mode&1)&&(Ai=Ee()+500,ml&&cr()))}function bt(e,t){var n=e.callbackNode;Xp(e,t);var r=Yg(e,e===Je?et:0);if(r===0)n!==null&&Xu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xu(n),t===1)e.tag===0?Vm(ZC.bind(null,e)):LA(ZC.bind(null,e)),km(function(){!(ue&6)&&cr()}),n=null;else{switch(IA(r)){case 1:n=gI;break;case 4:n=lA;break;case 16:n=Kg;break;case 536870912:n=aA;break;default:n=Kg}n=Xd(n,Sd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sd(e,t){if(vg=-1,bg=0,ue&6)throw Error(E(327));var n=e.callbackNode;if(oi()&&e.callbackNode!==n)return null;var r=Yg(e,e===Je?et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Jg(e,r);else{t=r;var i=ue;ue|=2;var o=kd();(Je!==e||et!==t)&&(Rn=null,Ai=Ee()+500,Zr(e,t));do try{e0();break}catch(l){Wd(e,l)}while(!0);mI(),zg.current=o,ue=i,Te!==null?t=0:(Je=null,et=0,t=Oe)}if(t!==0){if(t===2&&(i=qa(e),i!==0&&(r=i,t=Ss(e,i))),t===1)throw n=fo,Zr(e,0),Un(e,r),bt(e,Ee()),n;if(t===6)Un(e,r);else{if(i=e.current.alternate,!(r&30)&&!$m(i)&&(t=Jg(e,r),t===2&&(o=qa(e),o!==0&&(r=o,t=Ss(e,o))),t===1))throw n=fo,Zr(e,0),Un(e,r),bt(e,Ee()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:fr(e,pt,Rn);break;case 3:if(Un(e,r),(r&130023424)===r&&(t=XI+500-Ee(),10<t)){if(Yg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ct(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ls(fr.bind(null,e,pt,Rn),t);break}fr(e,pt,Rn);break;case 4:if(Un(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var g=31-Cn(r);o=1<<g,g=t[g],g>i&&(i=g),r&=~o}if(r=i,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qm(r/1960))-r,10<r){e.timeoutHandle=ls(fr.bind(null,e,pt,Rn),r);break}fr(e,pt,Rn);break;case 5:fr(e,pt,Rn);break;default:throw Error(E(329))}}}return bt(e,Ee()),e.callbackNode===n?Sd.bind(null,e):null}function Ss(e,t){var n=Ui;return e.current.memoizedState.isDehydrated&&(Zr(e,t).flags|=256),e=Jg(e,t),e!==2&&(t=pt,pt=n,t!==null&&Ws(t)),e}function Ws(e){pt===null?pt=e:pt.push.apply(pt,e)}function $m(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!An(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t){for(t&=~VI,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Cn(t),r=1<<n;e[n]=-1,t&=~r}}function ZC(e){if(ue&6)throw Error(E(327));oi();var t=Yg(e,0);if(!(t&1))return bt(e,Ee()),null;var n=Jg(e,t);if(e.tag!==0&&n===2){var r=qa(e);r!==0&&(t=r,n=Ss(e,r))}if(n===1)throw n=fo,Zr(e,0),Un(e,t),bt(e,Ee()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,pt,Rn),bt(e,Ee()),null}function LI(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(Ai=Ee()+500,ml&&cr())}}function Rr(e){$n!==null&&$n.tag===0&&!(ue&6)&&oi();var t=ue;ue|=1;var n=jt.transition,r=pe;try{if(jt.transition=null,pe=1,e)return e()}finally{pe=r,jt.transition=n,ue=t,!(ue&6)&&cr()}}function HI(){kt=qr.current,Be(qr)}function Zr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wm(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(hI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hg();break;case 3:Ci(),Be(yt),Be(ot),BI();break;case 5:wI(r);break;case 4:Ci();break;case 13:Be(Ye);break;case 19:Be(Ye);break;case 10:yI(r.type._context);break;case 22:case 23:HI()}n=n.return}if(Je=e,Te=e=gr(e.current,null),et=kt=t,Oe=0,fo=null,VI=Gl=Yr=0,pt=Ui=null,Gr!==null){for(t=0;t<Gr.length;t++)if(n=Gr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var g=o.next;o.next=i,r.next=g}n.pending=r}Gr=null}return e}function Wd(e,t){do{var n=Te;try{if(mI(),pg.current=xg,Mg){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mg=!1}if(Kr=0,je=ze=Ve=null,ji=!1,co=0,RI.current=null,n===null||n.return===null){Oe=1,fo=t,Te=null;break}e:{var o=e,g=n.return,l=n,a=t;if(t=et,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var s=a,C=l,c=C.tag;if(!(C.mode&1)&&(c===0||c===11||c===15)){var A=C.alternate;A?(C.updateQueue=A.updateQueue,C.memoizedState=A.memoizedState,C.lanes=A.lanes):(C.updateQueue=null,C.memoizedState=null)}var y=cC(g);if(y!==null){y.flags&=-257,AC(y,g,l,o,t),y.mode&1&&CC(o,s,t),t=y,a=s;var v=t.updateQueue;if(v===null){var b=new Set;b.add(a),t.updateQueue=b}else v.add(a);break e}else{if(!(t&1)){CC(o,s,t),FI();break e}a=Error(E(426))}}else if(Se&&l.mode&1){var B=cC(g);if(B!==null){!(B.flags&65536)&&(B.flags|=256),AC(B,g,l,o,t),fI(ci(a,l));break e}}o=a=ci(a,l),Oe!==4&&(Oe=2),Ui===null?Ui=[o]:Ui.push(o),o=g;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=ud(o,a,t);oC(o,p);break e;case 1:l=a;var f=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ir===null||!ir.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var G=Cd(o,l,t);oC(o,G);break e}}o=o.return}while(o!==null)}Yd(n)}catch(V){t=V,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function kd(){var e=zg.current;return zg.current=xg,e===null?xg:e}function FI(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Je===null||!(Yr&268435455)&&!(Gl&268435455)||Un(Je,et)}function Jg(e,t){var n=ue;ue|=2;var r=kd();(Je!==e||et!==t)&&(Rn=null,Zr(e,t));do try{qm();break}catch(i){Wd(e,i)}while(!0);if(mI(),ue=n,zg.current=r,Te!==null)throw Error(E(261));return Je=null,et=0,Oe}function qm(){for(;Te!==null;)Kd(Te)}function e0(){for(;Te!==null&&!Bp();)Kd(Te)}function Kd(e){var t=Vd(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?Yd(e):Te=t,RI.current=null}function Yd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Om(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Te=null;return}}else if(n=zm(n,t,kt),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Oe===0&&(Oe=5)}function fr(e,t,n){var r=pe,i=jt.transition;try{jt.transition=null,pe=1,t0(e,t,n,r)}finally{jt.transition=i,pe=r}return null}function t0(e,t,n,r){do oi();while($n!==null);if(ue&6)throw Error(E(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Lp(e,o),e===Je&&(Te=Je=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tg||(tg=!0,Xd(Kg,function(){return oi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=jt.transition,jt.transition=null;var g=pe;pe=1;var l=ue;ue|=4,RI.current=null,Jm(e,n),Bd(n,e),vm(os),Rg=!!is,os=is=null,e.current=n,Um(n),Zp(),ue=l,pe=g,jt.transition=o}else e.current=n;if(tg&&(tg=!1,$n=e,jg=i),o=e.pendingLanes,o===0&&(ir=null),kp(n.stateNode),bt(e,Ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Og)throw Og=!1,e=Bs,Bs=null,e;return jg&1&&e.tag!==0&&oi(),o=e.pendingLanes,o&1?e===Zs?Qi++:(Qi=0,Zs=e):Qi=0,cr(),null}function oi(){if($n!==null){var e=IA(jg),t=jt.transition,n=pe;try{if(jt.transition=null,pe=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,jg=0,ue&6)throw Error(E(331));var i=ue;for(ue|=4,$=e.current;$!==null;){var o=$,g=o.child;if($.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var s=l[a];for($=s;$!==null;){var C=$;switch(C.tag){case 0:case 11:case 15:Ji(8,C,o)}var c=C.child;if(c!==null)c.return=C,$=c;else for(;$!==null;){C=$;var A=C.sibling,y=C.return;if(bd(C),C===s){$=null;break}if(A!==null){A.return=y,$=A;break}$=y}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var B=b.sibling;b.sibling=null,b=B}while(b!==null)}}$=o}}if(o.subtreeFlags&2064&&g!==null)g.return=o,$=g;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ji(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,$=p;break e}$=o.return}}var f=e.current;for($=f;$!==null;){g=$;var m=g.child;if(g.subtreeFlags&2064&&m!==null)m.return=g,$=m;else e:for(g=f;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bl(9,l)}}catch(V){Fe(l,l.return,V)}if(l===g){$=null;break e}var G=l.sibling;if(G!==null){G.return=l.return,$=G;break e}$=l.return}}if(ue=i,cr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Al,e)}catch{}r=!0}return r}finally{pe=n,jt.transition=t}}return!1}function SC(e,t,n){t=ci(n,t),t=ud(e,t,1),e=rr(e,t,1),t=ct(),e!==null&&(Go(e,1,t),bt(e,t))}function Fe(e,t,n){if(e.tag===3)SC(e,e,n);else for(;t!==null;){if(t.tag===3){SC(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ir===null||!ir.has(r))){e=ci(n,e),e=Cd(t,e,1),t=rr(t,e,1),e=ct(),t!==null&&(Go(t,1,e),bt(t,e));break}}t=t.return}}function n0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(et&n)===n&&(Oe===4||Oe===3&&(et&130023424)===et&&500>Ee()-XI?Zr(e,0):VI|=n),bt(e,t)}function Rd(e,t){t===0&&(e.mode&1?(t=xo,xo<<=1,!(xo&130023424)&&(xo=4194304)):t=1);var n=ct();e=Nn(e,t),e!==null&&(Go(e,t,n),bt(e,n))}function r0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rd(e,n)}function i0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),Rd(e,n)}var Vd;Vd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yt.current)mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mt=!1,xm(e,t,n);mt=!!(e.flags&131072)}else mt=!1,Se&&t.flags&1048576&&HA(t,Ng,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yg(e,t),e=t.pendingProps;var i=si(t,ot.current);ii(t,n),i=SI(null,t,r,e,i,n);var o=WI();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(r)?(o=!0,Fg(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bI(t),i.updater=yl,t.stateNode=i,i._reactInternals=t,As(t,r,e,n),t=fs(null,t,r,!0,o,n)):(t.tag=0,Se&&o&&dI(t),It(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=g0(r),e=gn(r,e),i){case 0:t=hs(null,t,r,e,n);break e;case 1:t=fC(null,t,r,e,n);break e;case 11:t=dC(null,t,r,e,n);break e;case 14:t=hC(null,t,r,gn(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),hs(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),fC(e,t,r,i,n);case 3:e:{if(hd(t),e===null)throw Error(E(387));r=t.pendingProps,o=t.memoizedState,i=o.element,EA(e,t),Dg(t,r,null,n);var g=t.memoizedState;if(r=g.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ci(Error(E(423)),t),t=pC(e,t,r,n,i);break e}else if(r!==i){i=ci(Error(E(424)),t),t=pC(e,t,r,n,i);break e}else for(Kt=nr(t.stateNode.containerInfo.firstChild),Rt=t,Se=!0,an=null,n=MA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ii(),r===i){t=En(e,t,n);break e}It(e,t,r,n)}t=t.child}return t;case 5:return xA(t),e===null&&us(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,g=i.children,gs(r,i)?g=null:o!==null&&gs(r,o)&&(t.flags|=32),dd(e,t),It(e,t,g,n),t.child;case 6:return e===null&&us(t),null;case 13:return fd(e,t,n);case 4:return GI(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ui(t,null,r,n):It(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),dC(e,t,r,i,n);case 7:return It(e,t,t.pendingProps,n),t.child;case 8:return It(e,t,t.pendingProps.children,n),t.child;case 12:return It(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,g=i.value,Ge(Eg,r._currentValue),r._currentValue=g,o!==null)if(An(o.value,g)){if(o.children===i.children&&!yt.current){t=En(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){g=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Hn(-1,n&-n),a.tag=2;var s=o.updateQueue;if(s!==null){s=s.shared;var C=s.pending;C===null?a.next=a:(a.next=C.next,C.next=a),s.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cs(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)g=o.type===t.type?null:o.child;else if(o.tag===18){if(g=o.return,g===null)throw Error(E(341));g.lanes|=n,l=g.alternate,l!==null&&(l.lanes|=n),Cs(g,n,t),g=o.sibling}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===t){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}It(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ii(t,n),i=Jt(i),r=r(i),t.flags|=1,It(e,t,r,n),t.child;case 14:return r=t.type,i=gn(r,t.pendingProps),i=gn(r.type,i),hC(e,t,r,i,n);case 15:return cd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),yg(e,t),t.tag=1,vt(r)?(e=!0,Fg(t)):e=!1,ii(t,n),DA(t,r,i),As(t,r,i,n),fs(null,t,r,!0,e,n);case 19:return pd(e,t,n);case 22:return Ad(e,t,n)}throw Error(E(156,t.tag))};function Xd(e,t){return gA(e,t)}function o0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,r){return new o0(e,t,n,r)}function _I(e){return e=e.prototype,!(!e||!e.isReactComponent)}function g0(e){if(typeof e=="function")return _I(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rI)return 11;if(e===iI)return 14}return 2}function gr(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gg(e,t,n,r,i,o){var g=2;if(r=e,typeof e=="function")_I(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Pr:return Sr(n.children,i,o,t);case nI:g=8,i|=8;break;case _a:return e=Ot(12,n,t,i|2),e.elementType=_a,e.lanes=o,e;case Na:return e=Ot(13,n,t,i),e.elementType=Na,e.lanes=o,e;case Ea:return e=Ot(19,n,t,i),e.elementType=Ea,e.lanes=o,e;case Pc:return wl(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tc:g=10;break e;case Dc:g=9;break e;case rI:g=11;break e;case iI:g=14;break e;case On:g=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Ot(g,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Sr(e,t,n,r){return e=Ot(7,e,r,t),e.lanes=n,e}function wl(e,t,n,r){return e=Ot(22,e,r,t),e.elementType=Pc,e.lanes=n,e.stateNode={isHidden:!1},e}function va(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function ba(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function l0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=na(0),this.expirationTimes=na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=na(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function NI(e,t,n,r,i,o,g,l,a){return e=new l0(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ot(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bI(o),e}function a0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ld(e){if(!e)return ar;e=e._reactInternals;e:{if(Lr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(vt(n))return XA(e,n,t)}return t}function Hd(e,t,n,r,i,o,g,l,a){return e=NI(n,r,!0,e,i,o,g,l,a),e.context=Ld(null),n=e.current,r=ct(),i=or(n),o=Hn(r,i),o.callback=t??null,rr(n,o,i),e.current.lanes=i,Go(e,i,r),bt(e,r),e}function Bl(e,t,n,r){var i=t.current,o=ct(),g=or(i);return n=Ld(n),t.context===null?t.context=n:t.pendingContext=n,t=Hn(o,g),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rr(i,t,g),e!==null&&(cn(e,i,g,o),fg(e,i,g)),g}function Ug(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function WC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function EI(e,t){WC(e,t),(e=e.alternate)&&WC(e,t)}function s0(){return null}var Fd=typeof reportError=="function"?reportError:function(e){console.error(e)};function TI(e){this._internalRoot=e}Zl.prototype.render=TI.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Bl(e,t,null,null)};Zl.prototype.unmount=TI.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){Bl(null,e,null,null)}),t[_n]=null}};function Zl(e){this._internalRoot=e}Zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=cA();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jn.length&&t!==0&&t<Jn[n].priority;n++);Jn.splice(n,0,e),n===0&&dA(e)}};function DI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kC(){}function I0(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var s=Ug(g);o.call(s)}}var g=Hd(t,r,e,0,null,!1,!1,"",kC);return e._reactRootContainer=g,e[_n]=g.current,ao(e.nodeType===8?e.parentNode:e),Rr(),g}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var s=Ug(a);l.call(s)}}var a=NI(e,0,!1,null,null,!1,!1,"",kC);return e._reactRootContainer=a,e[_n]=a.current,ao(e.nodeType===8?e.parentNode:e),Rr(function(){Bl(t,a,n,r)}),a}function Wl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var g=o;if(typeof i=="function"){var l=i;i=function(){var a=Ug(g);l.call(a)}}Bl(t,g,e,i)}else g=I0(n,t,e,i,r);return Ug(g)}uA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ei(t.pendingLanes);n!==0&&(lI(t,n|1),bt(t,Ee()),!(ue&6)&&(Ai=Ee()+500,cr()))}break;case 13:Rr(function(){var r=Nn(e,1);if(r!==null){var i=ct();cn(r,e,1,i)}}),EI(e,1)}};aI=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var n=ct();cn(t,e,134217728,n)}EI(e,134217728)}};CA=function(e){if(e.tag===13){var t=or(e),n=Nn(e,t);if(n!==null){var r=ct();cn(n,e,t,r)}EI(e,t)}};cA=function(){return pe};AA=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};Ua=function(e,t,n){switch(t){case"input":if(Pa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=pl(r);if(!i)throw Error(E(90));xc(r),Pa(r,i)}}}break;case"textarea":Oc(e,n);break;case"select":t=n.value,t!=null&&ei(e,!!n.multiple,t,!1)}};eA=LI;tA=Rr;var u0={usingClientEntryPoint:!1,Events:[Bo,Or,pl,$c,qc,LI]},Fi={findFiberByHostInstance:br,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},C0={bundleType:Fi.bundleType,version:Fi.version,rendererPackageName:Fi.rendererPackageName,rendererConfig:Fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iA(e),e===null?null:e.stateNode},findFiberByHostInstance:Fi.findFiberByHostInstance||s0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ng.isDisabled&&ng.supportsFiber)try{Al=ng.inject(C0),bn=ng}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u0;Ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DI(t))throw Error(E(200));return a0(e,t,null,n)};Ht.createRoot=function(e,t){if(!DI(e))throw Error(E(299));var n=!1,r="",i=Fd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=NI(e,1,!1,null,null,n,!1,r,i),e[_n]=t.current,ao(e.nodeType===8?e.parentNode:e),new TI(t)};Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=iA(t),e=e===null?null:e.stateNode,e};Ht.flushSync=function(e){return Rr(e)};Ht.hydrate=function(e,t,n){if(!Sl(t))throw Error(E(200));return Wl(null,e,t,!0,n)};Ht.hydrateRoot=function(e,t,n){if(!DI(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",g=Fd;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),t=Hd(t,null,e,1,n??null,i,!1,o,g),e[_n]=t.current,ao(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zl(t)};Ht.render=function(e,t,n){if(!Sl(t))throw Error(E(200));return Wl(null,e,t,!1,n)};Ht.unmountComponentAtNode=function(e){if(!Sl(e))throw Error(E(40));return e._reactRootContainer?(Rr(function(){Wl(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1};Ht.unstable_batchedUpdates=LI;Ht.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sl(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Wl(e,t,n,!1,r)};Ht.version="18.2.0-next-9e3b772b8-20220608";function _d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_d)}catch(e){console.error(e)}}_d(),Hc.exports=Ht;var c0=Hc.exports,KC=c0;Ha.createRoot=KC.createRoot,Ha.hydrateRoot=KC.hydrateRoot;var Nd={exports:{}},Ed={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So=_;function A0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var d0=typeof Object.is=="function"?Object.is:A0,h0=So.useSyncExternalStore,f0=So.useRef,p0=So.useEffect,m0=So.useMemo,y0=So.useDebugValue;Ed.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=f0(null);if(o.current===null){var g={hasValue:!1,value:null};o.current=g}else g=o.current;o=m0(function(){function a(y){if(!s){if(s=!0,C=y,y=r(y),i!==void 0&&g.hasValue){var v=g.value;if(i(v,y))return c=v}return c=y}if(v=c,d0(C,y))return v;var b=r(y);return i!==void 0&&i(v,b)?v:(C=y,c=b)}var s=!1,C,c,A=n===void 0?null:n;return[function(){return a(t())},A===null?void 0:function(){return a(A())}]},[t,n,r,i]);var l=h0(e,o[0],o[1]);return p0(function(){g.hasValue=!0,g.value=l},[l]),y0(l),l};Nd.exports=Ed;var v0=Nd.exports,Yt="default"in wu?Re:wu,YC=Symbol.for("react-redux-context"),RC=typeof globalThis<"u"?globalThis:{};function b0(){if(!Yt.createContext)return{};const e=RC[YC]??(RC[YC]=new Map);let t=e.get(Yt.createContext);return t||(t=Yt.createContext(null),e.set(Yt.createContext,t)),t}var sr=b0(),G0=()=>{throw new Error("uSES not initialized!")};function PI(e=sr){return function(){return Yt.useContext(e)}}var Td=PI(),Dd=G0,w0=e=>{Dd=e},B0=(e,t)=>e===t;function Z0(e=sr){const t=e===sr?Td:PI(e),n=(r,i={})=>{const{equalityFn:o=B0,devModeChecks:g={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:a,getServerState:s,stabilityCheck:C,identityFunctionCheck:c}=t();Yt.useRef(!0);const A=Yt.useCallback({[r.name](v){return r(v)}}[r.name],[r,C,g.stabilityCheck]),y=Dd(a.addNestedSub,l.getState,s||l.getState,A,o);return Yt.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var S0=Z0();function W0(e){e()}function k0(){let e=null,t=null;return{clear(){e=null,t=null},notify(){W0(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var VC={notify(){},get:()=>[]};function K0(e,t){let n,r=VC,i=0,o=!1;function g(b){C();const B=r.subscribe(b);let p=!1;return()=>{p||(p=!0,B(),c())}}function l(){r.notify()}function a(){v.onStateChange&&v.onStateChange()}function s(){return o}function C(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=k0())}function c(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=VC)}function A(){o||(o=!0,C())}function y(){o&&(o=!1,c())}const v={addNestedSub:g,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:s,trySubscribe:A,tryUnsubscribe:y,getListeners:()=>r};return v}var Y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R0=Y0?Yt.useLayoutEffect:Yt.useEffect;function V0({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:o="once"}){const g=Yt.useMemo(()=>{const s=K0(e);return{store:e,subscription:s,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:o}},[e,r,i,o]),l=Yt.useMemo(()=>e.getState(),[e]);R0(()=>{const{subscription:s}=g;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),l!==e.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[g,l]);const a=t||sr;return Yt.createElement(a.Provider,{value:g},n)}var X0=V0;function Pd(e=sr){const t=e===sr?Td:PI(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var L0=Pd();function H0(e=sr){const t=e===sr?L0:Pd(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var F0=H0();w0(v0.useSyncExternalStoreWithSelector);const Wo=F0,me=S0;function Qe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _0=typeof Symbol=="function"&&Symbol.observable||"@@observable",XC=_0,Ga=()=>Math.random().toString(36).substring(7).split("").join("."),N0={INIT:`@@redux/INIT${Ga()}`,REPLACE:`@@redux/REPLACE${Ga()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ga()}`},Qg=N0;function MI(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Md(e,t,n){if(typeof e!="function")throw new Error(Qe(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qe(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qe(1));return n(Md)(e,t)}let r=e,i=t,o=new Map,g=o,l=0,a=!1;function s(){g===o&&(g=new Map,o.forEach((B,p)=>{g.set(p,B)}))}function C(){if(a)throw new Error(Qe(3));return i}function c(B){if(typeof B!="function")throw new Error(Qe(4));if(a)throw new Error(Qe(5));let p=!0;s();const f=l++;return g.set(f,B),function(){if(p){if(a)throw new Error(Qe(6));p=!1,s(),g.delete(f),o=null}}}function A(B){if(!MI(B))throw new Error(Qe(7));if(typeof B.type>"u")throw new Error(Qe(8));if(typeof B.type!="string")throw new Error(Qe(17));if(a)throw new Error(Qe(9));try{a=!0,i=r(i,B)}finally{a=!1}return(o=g).forEach(f=>{f()}),B}function y(B){if(typeof B!="function")throw new Error(Qe(10));r=B,A({type:Qg.REPLACE})}function v(){const B=c;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(Qe(11));function f(){const G=p;G.next&&G.next(C())}return f(),{unsubscribe:B(f)}},[XC](){return this}}}return A({type:Qg.INIT}),{dispatch:A,subscribe:c,getState:C,replaceReducer:y,[XC]:v}}function E0(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Qg.INIT})>"u")throw new Error(Qe(12));if(typeof n(void 0,{type:Qg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qe(13))})}function T0(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const g=t[o];typeof e[g]=="function"&&(n[g]=e[g])}const r=Object.keys(n);let i;try{E0(n)}catch(o){i=o}return function(g={},l){if(i)throw i;let a=!1;const s={};for(let C=0;C<r.length;C++){const c=r[C],A=n[c],y=g[c],v=A(y,l);if(typeof v>"u")throw l&&l.type,new Error(Qe(14));s[c]=v,a=a||v!==y}return a=a||r.length!==Object.keys(g).length,a?s:g}}function $g(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function D0(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Qe(15))};const g={getState:i.getState,dispatch:(a,...s)=>o(a,...s)},l=e.map(a=>a(g));return o=$g(...l)(i.dispatch),{...i,dispatch:o}}}function P0(e){return MI(e)&&"type"in e&&typeof e.type=="string"}var xd=Symbol.for("immer-nothing"),LC=Symbol.for("immer-draftable"),Xt=Symbol.for("immer-state");function In(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var di=Object.getPrototypeOf;function Ir(e){return!!e&&!!e[Xt]}function Tn(e){var t;return e?zd(e)||Array.isArray(e)||!!e[LC]||!!((t=e.constructor)!=null&&t[LC])||Kl(e)||Yl(e):!1}var M0=Object.prototype.constructor.toString();function zd(e){if(!e||typeof e!="object")return!1;const t=di(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===M0}function qg(e,t){kl(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function kl(e){const t=e[Xt];return t?t.type_:Array.isArray(e)?1:Kl(e)?2:Yl(e)?3:0}function ks(e,t){return kl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Od(e,t,n){const r=kl(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function x0(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Kl(e){return e instanceof Map}function Yl(e){return e instanceof Set}function pr(e){return e.copy_||e.base_}function Ks(e,t){if(Kl(e))return new Map(e);if(Yl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&zd(e))return di(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Xt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const o=r[i],g=n[o];g.writable===!1&&(g.writable=!0,g.configurable=!0),(g.get||g.set)&&(n[o]={configurable:!0,writable:!0,enumerable:g.enumerable,value:e[o]})}return Object.create(di(e),n)}function xI(e,t=!1){return Rl(e)||Ir(e)||!Tn(e)||(kl(e)>1&&(e.set=e.add=e.clear=e.delete=z0),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>xI(r,!0))),e}function z0(){In(2)}function Rl(e){return Object.isFrozen(e)}var O0={};function Vr(e){const t=O0[e];return t||In(0,e),t}var po;function jd(){return po}function j0(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function HC(e,t){t&&(Vr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ys(e){Rs(e),e.drafts_.forEach(J0),e.drafts_=null}function Rs(e){e===po&&(po=e.parent_)}function FC(e){return po=j0(po,e)}function J0(e){const t=e[Xt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function _C(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Xt].modified_&&(Ys(t),In(4)),Tn(e)&&(e=el(t,e),t.parent_||tl(t,e)),t.patches_&&Vr("Patches").generateReplacementPatches_(n[Xt].base_,e,t.patches_,t.inversePatches_)):e=el(t,n,[]),Ys(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xd?e:void 0}function el(e,t,n){if(Rl(t))return t;const r=t[Xt];if(!r)return qg(t,(i,o)=>NC(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return tl(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,g=!1;r.type_===3&&(o=new Set(i),i.clear(),g=!0),qg(o,(l,a)=>NC(e,r,i,l,a,n,g)),tl(e,i,!1),n&&e.patches_&&Vr("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function NC(e,t,n,r,i,o,g){if(Ir(i)){const l=o&&t&&t.type_!==3&&!ks(t.assigned_,r)?o.concat(r):void 0,a=el(e,i,l);if(Od(n,r,a),Ir(a))e.canAutoFreeze_=!1;else return}else g&&n.add(i);if(Tn(i)&&!Rl(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;el(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&tl(e,i)}}function tl(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xI(t,n)}function U0(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:jd(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=zI;n&&(i=[r],o=mo);const{revoke:g,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=g,l}var zI={get(e,t){if(t===Xt)return e;const n=pr(e);if(!ks(n,t))return Q0(e,n,t);const r=n[t];return e.finalized_||!Tn(r)?r:r===wa(e.base_,t)?(Ba(e),e.copy_[t]=Xs(r,e)):r},has(e,t){return t in pr(e)},ownKeys(e){return Reflect.ownKeys(pr(e))},set(e,t,n){const r=Jd(pr(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=wa(pr(e),t),o=i==null?void 0:i[Xt];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(x0(n,i)&&(n!==void 0||ks(e.base_,t)))return!0;Ba(e),Vs(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return wa(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ba(e),Vs(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=pr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){In(11)},getPrototypeOf(e){return di(e.base_)},setPrototypeOf(){In(12)}},mo={};qg(zI,(e,t)=>{mo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});mo.deleteProperty=function(e,t){return mo.set.call(this,e,t,void 0)};mo.set=function(e,t,n){return zI.set.call(this,e[0],t,n,e[0])};function wa(e,t){const n=e[Xt];return(n?pr(n):e)[t]}function Q0(e,t,n){var i;const r=Jd(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Jd(e,t){if(!(t in e))return;let n=di(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=di(n)}}function Vs(e){e.modified_||(e.modified_=!0,e.parent_&&Vs(e.parent_))}function Ba(e){e.copy_||(e.copy_=Ks(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $0=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const g=this;return function(a=o,...s){return g.produce(a,C=>n.call(this,C,...s))}}typeof n!="function"&&In(6),r!==void 0&&typeof r!="function"&&In(7);let i;if(Tn(t)){const o=FC(this),g=Xs(t,void 0);let l=!0;try{i=n(g),l=!1}finally{l?Ys(o):Rs(o)}return HC(o,r),_C(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===xd&&(i=void 0),this.autoFreeze_&&xI(i,!0),r){const o=[],g=[];Vr("Patches").generateReplacementPatches_(t,i,o,g),r(o,g)}return i}else In(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(g,...l)=>this.produceWithPatches(g,a=>t(a,...l));let r,i;return[this.produce(t,n,(g,l)=>{r=g,i=l}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Tn(e)||In(8),Ir(e)&&(e=Ud(e));const t=FC(this),n=Xs(e,void 0);return n[Xt].isManual_=!0,Rs(t),n}finishDraft(e,t){const n=e&&e[Xt];(!n||!n.isManual_)&&In(9);const{scope_:r}=n;return HC(r,t),_C(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Vr("Patches").applyPatches_;return Ir(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Xs(e,t){const n=Kl(e)?Vr("MapSet").proxyMap_(e,t):Yl(e)?Vr("MapSet").proxySet_(e,t):U0(e,t);return(t?t.scope_:jd()).drafts_.push(n),n}function Ud(e){return Ir(e)||In(10,e),Qd(e)}function Qd(e){if(!Tn(e)||Rl(e))return e;const t=e[Xt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ks(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ks(e,!0);return qg(n,(r,i)=>{Od(n,r,Qd(i))}),t&&(t.finalized_=!1),n}var Lt=new $0,$d=Lt.produce;Lt.produceWithPatches.bind(Lt);Lt.setAutoFreeze.bind(Lt);Lt.setUseStrictShallowCopy.bind(Lt);Lt.applyPatches.bind(Lt);Lt.createDraft.bind(Lt);Lt.finishDraft.bind(Lt);function q0(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ey(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ty(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var EC=e=>Array.isArray(e)?e:[e];function ny(e){const t=Array.isArray(e[0])?e[0]:e;return ty(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function ry(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var iy=class{constructor(e){this.value=e}deref(){return this.value}},oy=typeof WeakRef<"u"?WeakRef:iy,gy=0,TC=1;function rg(){return{s:gy,v:void 0,o:null,p:null}}function OI(e,t={}){let n=rg();const{resultEqualityCheck:r}=t;let i,o=0;function g(){var c;let l=n;const{length:a}=arguments;for(let A=0,y=a;A<y;A++){const v=arguments[A];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const B=b.get(v);B===void 0?(l=rg(),b.set(v,l)):l=B}else{let b=l.p;b===null&&(l.p=b=new Map);const B=b.get(v);B===void 0?(l=rg(),b.set(v,l)):l=B}}const s=l;let C;if(l.s===TC?C=l.v:(C=e.apply(null,arguments),o++),s.s=TC,r){const A=((c=i==null?void 0:i.deref)==null?void 0:c.call(i))??i;A!=null&&r(A,C)&&(C=A,o!==0&&o--),i=typeof C=="object"&&C!==null||typeof C=="function"?new oy(C):C}return s.v=C,C}return g.clearCache=()=>{n=rg(),g.resetResultsCount()},g.resultsCount=()=>o,g.resetResultsCount=()=>{o=0},g}function qd(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,g=0,l,a={},s=i.pop();typeof s=="object"&&(a=s,s=i.pop()),q0(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const C={...n,...a},{memoize:c,memoizeOptions:A=[],argsMemoize:y=OI,argsMemoizeOptions:v=[],devModeChecks:b={}}=C,B=EC(A),p=EC(v),f=ny(i),m=c(function(){return o++,s.apply(null,arguments)},...B),G=y(function(){g++;const F=ry(f,arguments);return l=m.apply(null,F),l},...p);return Object.assign(G,{resultFunc:s,memoizedResultFunc:m,dependencies:f,dependencyRecomputations:()=>g,resetDependencyRecomputations:()=>{g=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:c,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var ly=qd(OI),ay=Object.assign((e,t=ly)=>{ey(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((g,l,a)=>(g[n[a]]=l,g),{}))},{withTypes:()=>ay});function eh(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var sy=eh(),Iy=eh,uy=(...e)=>{const t=qd(...e),n=Object.assign((...r)=>{const i=t(...r),o=(g,...l)=>i(Ir(g)?Ud(g):g,...l);return Object.assign(o,i),o},{withTypes:()=>n});return n};uy(OI);var Cy=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$g:$g.apply(null,arguments)};function hi(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Gt(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>P0(r)&&r.type===e,n}var th=class Di extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Di.prototype)}static get[Symbol.species](){return Di}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Di(...t[0].concat(this)):new Di(...t.concat(this))}};function DC(e){return Tn(e)?$d(e,()=>{}):e}function PC(e,t,n){if(e.has(t)){let i=e.get(t);return n.update&&(i=n.update(i,t,e),e.set(t,i)),i}if(!n.insert)throw new Error(Gt(10));const r=n.insert(t,e);return e.set(t,r),r}function cy(e){return typeof e=="boolean"}var Ay=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let g=new th;return n&&(cy(n)?g.push(sy):g.push(Iy(n.extraArgument))),g},dy="RTK_autoBatch",nh=e=>t=>{setTimeout(t,e)},hy=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nh(10),fy=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,g=!1;const l=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?hy:e.type==="callback"?e.queueNotification:nh(e.timeout),s=()=>{g=!1,o&&(o=!1,l.forEach(C=>C()))};return Object.assign({},r,{subscribe(C){const c=()=>i&&C(),A=r.subscribe(c);return l.add(C),()=>{A(),l.delete(C)}},dispatch(C){var c;try{return i=!((c=C==null?void 0:C.meta)!=null&&c[dy]),o=!i,o&&(g||(g=!0,a(s))),r.dispatch(C)}finally{i=!0}}})},py=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new th(e);return r&&i.push(fy(typeof r=="object"?r:void 0)),i},my=!0;function yy(e){const t=Ay(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:g=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(MI(n))l=T0(n);else throw new Error(Gt(1));let a;typeof r=="function"?a=r(t):a=t();let s=$g;i&&(s=Cy({trace:!my,...typeof i=="object"&&i}));const C=D0(...a),c=py(C);let A=typeof g=="function"?g(c):c();const y=s(...A);return Md(l,o,y)}function rh(e){const t={},n=[];let r;const i={addCase(o,g){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(Gt(28));if(l in t)throw new Error(Gt(29));return t[l]=g,i},addMatcher(o,g){return n.push({matcher:o,reducer:g}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function vy(e){return typeof e=="function"}function by(e,t){let[n,r,i]=rh(t),o;if(vy(e))o=()=>DC(e());else{const l=DC(e);o=()=>l}function g(l=o(),a){let s=[n[a.type],...r.filter(({matcher:C})=>C(a)).map(({reducer:C})=>C)];return s.filter(C=>!!C).length===0&&(s=[i]),s.reduce((C,c)=>{if(c)if(Ir(C)){const y=c(C,a);return y===void 0?C:y}else{if(Tn(C))return $d(C,A=>c(A,a));{const A=c(C,a);if(A===void 0){if(C===null)return C;throw new Error(Gt(9))}return A}}return C},l)}return g.getInitialState=o,g}var Gy="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wy=(e=21)=>{let t="",n=e;for(;n--;)t+=Gy[Math.random()*64|0];return t},By=Symbol.for("rtk-slice-createasyncthunk");function Zy(e,t){return`${e}/${t}`}function Sy({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[By];return function(i){const{name:o,reducerPath:g=o}=i;if(!o)throw new Error(Gt(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(Ky()):i.reducers)||{},a=Object.keys(l),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},C={addCase(m,G){const V=typeof m=="string"?m:m.type;if(!V)throw new Error(Gt(12));if(V in s.sliceCaseReducersByType)throw new Error(Gt(13));return s.sliceCaseReducersByType[V]=G,C},addMatcher(m,G){return s.sliceMatchers.push({matcher:m,reducer:G}),C},exposeAction(m,G){return s.actionCreators[m]=G,C},exposeCaseReducer(m,G){return s.sliceCaseReducersByName[m]=G,C}};a.forEach(m=>{const G=l[m],V={reducerName:m,type:Zy(o,m),createNotation:typeof i.reducers=="function"};Ry(G)?Xy(V,G,C,t):Yy(V,G,C)});function c(){const[m={},G=[],V=void 0]=typeof i.extraReducers=="function"?rh(i.extraReducers):[i.extraReducers],F={...m,...s.sliceCaseReducersByType};return by(i.initialState,Y=>{for(let R in F)Y.addCase(R,F[R]);for(let R of s.sliceMatchers)Y.addMatcher(R.matcher,R.reducer);for(let R of G)Y.addMatcher(R.matcher,R.reducer);V&&Y.addDefaultCase(V)})}const A=m=>m,y=new Map;let v;function b(m,G){return v||(v=c()),v(m,G)}function B(){return v||(v=c()),v.getInitialState()}function p(m,G=!1){function V(Y){let R=Y[m];return typeof R>"u"&&G&&(R=B()),R}function F(Y=A){const R=PC(y,G,{insert:()=>new WeakMap});return PC(R,Y,{insert:()=>{const T={};for(const[Z,K]of Object.entries(i.selectors??{}))T[Z]=Wy(K,Y,B,G);return T}})}return{reducerPath:m,getSelectors:F,get selectors(){return F(V)},selectSlice:V}}const f={name:o,reducer:b,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:B,...p(g),injectInto(m,{reducerPath:G,...V}={}){const F=G??g;return m.inject({reducerPath:F,reducer:b},V),{...f,...p(F,!0)}}};return f}}function Wy(e,t,n,r){function i(o,...g){let l=t(o);return typeof l>"u"&&r&&(l=n()),e(l,...g)}return i.unwrapped=e,i}var ky=Sy();function Ky(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Yy({type:e,reducerName:t,createNotation:n},r,i){let o,g;if("reducer"in r){if(n&&!Vy(r))throw new Error(Gt(17));o=r.reducer,g=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,g?hi(e,g):hi(e))}function Ry(e){return e._reducerDefinitionType==="asyncThunk"}function Vy(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Xy({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Gt(18));const{payloadCreator:o,fulfilled:g,pending:l,rejected:a,settled:s,options:C}=n,c=i(e,o,C);r.exposeAction(t,c),g&&r.addCase(c.fulfilled,g),l&&r.addCase(c.pending,l),a&&r.addCase(c.rejected,a),s&&r.addMatcher(c.settled,s),r.exposeCaseReducer(t,{fulfilled:g||ig,pending:l||ig,rejected:a||ig,settled:s||ig})}function ig(){}var Ly=(e,t)=>{if(typeof e!="function")throw new Error(Gt(32))},jI="listenerMiddleware",Hy=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=hi(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Gt(21));return Ly(o),{predicate:i,type:t,effect:o}},Fy=Object.assign(e=>{const{type:t,predicate:n,effect:r}=Hy(e);return{id:wy(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Gt(22))}}},{withTypes:()=>Fy}),_y=Object.assign(hi(`${jI}/add`),{withTypes:()=>_y});hi(`${jI}/removeAll`);var Ny=Object.assign(hi(`${jI}/remove`),{withTypes:()=>Ny});function Gt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const ih="https://lottie.host/9ac9c440-c19e-4ac9-b60e-869b6d0ef8cb/7h97gYMCNE.lottie",Ey={src:ih,isJson:!0,theme:"",speed:1,autoplay:!0,loop:!0,backgroundColor:"#F3F6F8",currentFrame:0,totalFrames:0,themes:[],animations:[],activeAnimationId:"",activeThemeId:"",segment:[],segmentInput:[1,2],currentState:"idle",mode:"forward",userSrc:"",useFrameInterpolation:!0,loadTime:{lottieWeb:0,dotLottie:0},markers:[],activeMarker:""},oh=ky({name:"viewer",initialState:Ey,reducers:{setSrc:(e,t)=>{e.activeAnimationId="",e.activeMarker="",e.markers=[],e.src=t.payload,e.src.endsWith(".json")||e.src.startsWith("data:application/json")?e.isJson=!0:e.isJson=!1},setIsJson:(e,t)=>{e.isJson=t.payload},setTheme:(e,t)=>{e.theme=t.payload},setSpeed:(e,t)=>{e.speed=t.payload},setAutoplay:(e,t)=>{e.autoplay=t.payload},setLoop:(e,t)=>{e.loop=t.payload},setBackgroundColor:(e,t)=>{e.backgroundColor=t.payload},setCurrentFrame:(e,t)=>{e.currentFrame=t.payload},setTotalFrames:(e,t)=>{e.totalFrames=t.payload,e.segmentInput=[1,t.payload]},setCurrentState:(e,t)=>{e.currentState=t.payload},setMdode:(e,t)=>{e.mode=t.payload},setThemes:(e,t)=>{e.themes=t.payload},setAnimations:(e,t)=>{e.animations=t.payload},setActiveAnimationId:(e,t)=>{e.activeAnimationId=t.payload},setActiveThemeId:(e,t)=>{e.activeThemeId=t.payload},setUserSrc:(e,t)=>{e.userSrc=t.payload},resetUserConfig:e=>{e.userSrc="",e.activeAnimationId="",e.activeMarker="",e.markers=[],e.src=ih,e.src.endsWith(".json")||e.src.startsWith("data:application/json")?e.isJson=!0:e.isJson=!1},setLoadTimeDotLottie:(e,t)=>{e.loadTime.dotLottie=t.payload},setLoadTimeLottieWeb:(e,t)=>{e.loadTime.lottieWeb=t.payload},setSegment:(e,t)=>{e.segment=t.payload},setSegmentInput:(e,t)=>{e.segmentInput=t.payload},setUseFrameInterpolation:(e,t)=>{e.useFrameInterpolation=t.payload},setMarkers:(e,t)=>{e.markers=t.payload},setActiveMarker:(e,t)=>{e.activeMarker=t.payload}}}),{setSrc:nl,setTheme:eB,setSpeed:Ty,setAutoplay:tB,setLoop:Dy,setBackgroundColor:Py,setCurrentFrame:My,setTotalFrames:xy,setCurrentState:og,setMdode:zy,setThemes:MC,setAnimations:xC,setActiveAnimationId:wg,setActiveThemeId:Oy,setUserSrc:Ls,resetUserConfig:jy,setIsJson:nB,setLoadTimeDotLottie:Jy,setLoadTimeLottieWeb:Uy,setSegment:Qy,setSegmentInput:$y,setUseFrameInterpolation:qy,setMarkers:ev,setActiveMarker:tv}=oh.actions,nv=oh.reducer;var gh={exports:{}},rv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",iv=rv,ov=iv;function lh(){}function ah(){}ah.resetWarningCache=lh;var gv=function(){function e(r,i,o,g,l,a){if(a!==ov){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ah,resetWarningCache:lh};return n.PropTypes=n,n};gh.exports=gv();var lv=gh.exports;const ye=Bc(lv);function yi(e,t,n,r){function i(o){return o instanceof n?o:new n(function(g){g(o)})}return new(n||(n=Promise))(function(o,g){function l(C){try{s(r.next(C))}catch(c){g(c)}}function a(C){try{s(r.throw(C))}catch(c){g(c)}}function s(C){C.done?o(C.value):i(C.value).then(l,a)}s((r=r.apply(e,t||[])).next())})}function vi(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,g;return g={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function l(s){return function(C){return a([s,C])}}function a(s){if(r)throw new TypeError("Generator is already executing.");for(;g&&(g=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(o=s[0]&2?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){n.label=s[1];break}if(s[0]===6&&n.label<o[1]){n.label=o[1],o=s;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(s);break}o[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(C){s=[6,C],i=0}finally{r=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function zC(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],g;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){g={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(g)throw g.error}}return o}function OC(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var av=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ko(e,t){var n=sv(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function sv(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),i=av.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var Iv=[".DS_Store","Thumbs.db"];function uv(e){return yi(this,void 0,void 0,function(){return vi(this,function(t){return rl(e)&&Cv(e.dataTransfer)?[2,hv(e.dataTransfer,e.type)]:cv(e)?[2,Av(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,dv(e)]:[2,[]]})})}function Cv(e){return rl(e)}function cv(e){return rl(e)&&rl(e.target)}function rl(e){return typeof e=="object"&&e!==null}function Av(e){return Hs(e.target.files).map(function(t){return ko(t)})}function dv(e){return yi(this,void 0,void 0,function(){var t;return vi(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return ko(r)})]}})})}function hv(e,t){return yi(this,void 0,void 0,function(){var n,r;return vi(this,function(i){switch(i.label){case 0:return e.items?(n=Hs(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(fv))]):[3,2];case 1:return r=i.sent(),[2,jC(sh(r))];case 2:return[2,jC(Hs(e.files).map(function(o){return ko(o)}))]}})})}function jC(e){return e.filter(function(t){return Iv.indexOf(t.name)===-1})}function Hs(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function fv(e){if(typeof e.webkitGetAsEntry!="function")return JC(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Ih(t):JC(e)}function sh(e){return e.reduce(function(t,n){return OC(OC([],zC(t),!1),zC(Array.isArray(n)?sh(n):[n]),!1)},[])}function JC(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=ko(t);return Promise.resolve(n)}function pv(e){return yi(this,void 0,void 0,function(){return vi(this,function(t){return[2,e.isDirectory?Ih(e):mv(e)]})})}function Ih(e){var t=e.createReader();return new Promise(function(n,r){var i=[];function o(){var g=this;t.readEntries(function(l){return yi(g,void 0,void 0,function(){var a,s,C;return vi(this,function(c){switch(c.label){case 0:if(l.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return a=c.sent(),n(a),[3,4];case 3:return s=c.sent(),r(s),[3,4];case 4:return[3,6];case 5:C=Promise.all(l.map(pv)),i.push(C),o(),c.label=6;case 6:return[2]}})})},function(l){r(l)})}o()})}function mv(e){return yi(this,void 0,void 0,function(){return vi(this,function(t){return[2,new Promise(function(n,r){e.file(function(i){var o=ko(i,e.fullPath);n(o)},function(i){r(i)})})]})})}var yv=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(g){var l=g.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):i===l})}return!0};function UC(e){return Gv(e)||bv(e)||Ch(e)||vv()}function vv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bv(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gv(e){if(Array.isArray(e))return Fs(e)}function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(n),!0).forEach(function(r){uh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yo(e,t){return Zv(e)||Bv(e,t)||Ch(e,t)||wv()}function wv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ch(e,t){if(e){if(typeof e=="string")return Fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fs(e,t)}}function Fs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bv(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,g,l;try{for(n=n.call(e);!(i=(g=n.next()).done)&&(r.push(g.value),!(t&&r.length===t));i=!0);}catch(a){o=!0,l=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function Zv(e){if(Array.isArray(e))return e}var ch="file-invalid-type",Ah="file-too-large",dh="file-too-small",hh="too-many-files",il={FileInvalidType:ch,FileTooLarge:Ah,FileTooSmall:dh,TooManyFiles:hh},Sv=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:ch,message:"File type must be ".concat(n)}},qC=function(t){return{code:Ah,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},ec=function(t){return{code:dh,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Wv={code:hh,message:"Too many files"};function fh(e,t){var n=e.type==="application/x-moz-file"||yv(e,t);return[n,n?null:Sv(t)]}function ph(e,t,n){if(yr(e.size))if(yr(t)&&yr(n)){if(e.size>n)return[!1,qC(n)];if(e.size<t)return[!1,ec(t)]}else{if(yr(t)&&e.size<t)return[!1,ec(t)];if(yr(n)&&e.size>n)return[!1,qC(n)]}return[!0,null]}function yr(e){return e!=null}function kv(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,g=e.maxFiles,l=e.validator;return!o&&t.length>1||o&&g>=1&&t.length>g?!1:t.every(function(a){var s=fh(a,n),C=yo(s,1),c=C[0],A=ph(a,r,i),y=yo(A,1),v=y[0],b=l?l(a):null;return c&&v&&!b})}function ol(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function gg(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function tc(e){e.preventDefault()}function Kv(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Yv(e){return e.indexOf("Edge/")!==-1}function Rv(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Kv(e)||Yv(e)}function fn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),g=1;g<i;g++)o[g-1]=arguments[g];return t.some(function(l){return!ol(r)&&l&&l.apply(void 0,[r].concat(o)),ol(r)})}}function Vv(){return"showOpenFilePicker"in window}function Xv(e){if(yr(e)){var t=Object.entries(e).filter(function(n){var r=yo(n,2),i=r[0],o=r[1],g=!0;return mh(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),g=!1),(!Array.isArray(o)||!o.every(yh))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),g=!1),g}).reduce(function(n,r){var i=yo(r,2),o=i[0],g=i[1];return $C($C({},n),{},uh({},o,g))},{});return[{description:"Files",accept:t}]}return e}function Lv(e){if(yr(e))return Object.entries(e).reduce(function(t,n){var r=yo(n,2),i=r[0],o=r[1];return[].concat(UC(t),[i],UC(o))},[]).filter(function(t){return mh(t)||yh(t)}).join(",")}function Hv(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Fv(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function mh(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function yh(e){return/^.*\.[\w]+$/.test(e)}var _v=["children"],Nv=["open"],Ev=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Tv=["refKey","onChange","onClick"];function Dv(e){return xv(e)||Mv(e)||vh(e)||Pv()}function Pv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mv(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xv(e){if(Array.isArray(e))return _s(e)}function Za(e,t){return jv(e)||Ov(e,t)||vh(e,t)||zv()}function zv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vh(e,t){if(e){if(typeof e=="string")return _s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _s(e,t)}}function _s(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ov(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,g,l;try{for(n=n.call(e);!(i=(g=n.next()).done)&&(r.push(g.value),!(t&&r.length===t));i=!0);}catch(a){o=!0,l=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function jv(e){if(Array.isArray(e))return e}function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nc(Object(n),!0).forEach(function(r){Ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gl(e,t){if(e==null)return{};var n=Jv(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jv(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Vl=_.forwardRef(function(e,t){var n=e.children,r=gl(e,_v),i=Uv(r),o=i.open,g=gl(i,Nv);return _.useImperativeHandle(t,function(){return{open:o}},[o]),Re.createElement(_.Fragment,null,n(Ke(Ke({},g),{},{open:o})))});Vl.displayName="Dropzone";var bh={disabled:!1,getFilesFromEvent:uv,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Vl.defaultProps=bh;Vl.propTypes={children:ye.func,accept:ye.objectOf(ye.arrayOf(ye.string)),multiple:ye.bool,preventDropOnDocument:ye.bool,noClick:ye.bool,noKeyboard:ye.bool,noDrag:ye.bool,noDragEventsBubbling:ye.bool,minSize:ye.number,maxSize:ye.number,maxFiles:ye.number,disabled:ye.bool,getFilesFromEvent:ye.func,onFileDialogCancel:ye.func,onFileDialogOpen:ye.func,useFsAccessApi:ye.bool,autoFocus:ye.bool,onDragEnter:ye.func,onDragLeave:ye.func,onDragOver:ye.func,onDrop:ye.func,onDropAccepted:ye.func,onDropRejected:ye.func,onError:ye.func,validator:ye.func};const Gh=Vl;var Es={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Uv(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Ke(Ke({},bh),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,g=t.minSize,l=t.multiple,a=t.maxFiles,s=t.onDragEnter,C=t.onDragLeave,c=t.onDragOver,A=t.onDrop,y=t.onDropAccepted,v=t.onDropRejected,b=t.onFileDialogCancel,B=t.onFileDialogOpen,p=t.useFsAccessApi,f=t.autoFocus,m=t.preventDropOnDocument,G=t.noClick,V=t.noKeyboard,F=t.noDrag,Y=t.noDragEventsBubbling,R=t.onError,T=t.validator,Z=_.useMemo(function(){return Lv(n)},[n]),K=_.useMemo(function(){return Xv(n)},[n]),H=_.useMemo(function(){return typeof B=="function"?B:rc},[B]),N=_.useMemo(function(){return typeof b=="function"?b:rc},[b]),P=_.useRef(null),z=_.useRef(null),Q=_.useReducer(Qv,Es),q=Za(Q,2),X=q[0],M=q[1],j=X.isFocused,le=X.isFileDialogActive,ne=_.useRef(typeof window<"u"&&window.isSecureContext&&p&&Vv()),fe=function(){!ne.current&&le&&setTimeout(function(){if(z.current){var ee=z.current.files;ee.length||(M({type:"closeDialog"}),N())}},300)};_.useEffect(function(){return window.addEventListener("focus",fe,!1),function(){window.removeEventListener("focus",fe,!1)}},[z,le,N,ne]);var re=_.useRef([]),ve=function(ee){P.current&&P.current.contains(ee.target)||(ee.preventDefault(),re.current=[])};_.useEffect(function(){return m&&(document.addEventListener("dragover",tc,!1),document.addEventListener("drop",ve,!1)),function(){m&&(document.removeEventListener("dragover",tc),document.removeEventListener("drop",ve))}},[P,m]),_.useEffect(function(){return!r&&f&&P.current&&P.current.focus(),function(){}},[P,f,r]);var ce=_.useCallback(function(O){R?R(O):console.error(O)},[R]),De=_.useCallback(function(O){O.preventDefault(),O.persist(),_r(O),re.current=[].concat(Dv(re.current),[O.target]),gg(O)&&Promise.resolve(i(O)).then(function(ee){if(!(ol(O)&&!Y)){var We=ee.length,ke=We>0&&kv({files:ee,accept:Z,minSize:g,maxSize:o,multiple:l,maxFiles:a,validator:T}),Ue=We>0&&!ke;M({isDragAccept:ke,isDragReject:Ue,isDragActive:!0,type:"setDraggedFiles"}),s&&s(O)}}).catch(function(ee){return ce(ee)})},[i,s,ce,Y,Z,g,o,l,a,T]),$t=_.useCallback(function(O){O.preventDefault(),O.persist(),_r(O);var ee=gg(O);if(ee&&O.dataTransfer)try{O.dataTransfer.dropEffect="copy"}catch{}return ee&&c&&c(O),!1},[c,Y]),gt=_.useCallback(function(O){O.preventDefault(),O.persist(),_r(O);var ee=re.current.filter(function(ke){return P.current&&P.current.contains(ke)}),We=ee.indexOf(O.target);We!==-1&&ee.splice(We,1),re.current=ee,!(ee.length>0)&&(M({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),gg(O)&&C&&C(O))},[P,C,Y]),Zt=_.useCallback(function(O,ee){var We=[],ke=[];O.forEach(function(Ue){var en=fh(Ue,Z),Nt=Za(en,2),Zi=Nt[0],Pn=Nt[1],Bn=ph(Ue,g,o),Zn=Za(Bn,2),Sn=Zn[0],Nr=Zn[1],dr=T?T(Ue):null;if(Zi&&Sn&&!dr)We.push(Ue);else{var Si=[Pn,Nr];dr&&(Si=Si.concat(dr)),ke.push({file:Ue,errors:Si.filter(function(Fl){return Fl})})}}),(!l&&We.length>1||l&&a>=1&&We.length>a)&&(We.forEach(function(Ue){ke.push({file:Ue,errors:[Wv]})}),We.splice(0)),M({acceptedFiles:We,fileRejections:ke,type:"setFiles"}),A&&A(We,ke,ee),ke.length>0&&v&&v(ke,ee),We.length>0&&y&&y(We,ee)},[M,l,Z,g,o,a,A,y,v,T]),lt=_.useCallback(function(O){O.preventDefault(),O.persist(),_r(O),re.current=[],gg(O)&&Promise.resolve(i(O)).then(function(ee){ol(O)&&!Y||Zt(ee,O)}).catch(function(ee){return ce(ee)}),M({type:"reset"})},[i,Zt,ce,Y]),Pe=_.useCallback(function(){if(ne.current){M({type:"openDialog"}),H();var O={multiple:l,types:K};window.showOpenFilePicker(O).then(function(ee){return i(ee)}).then(function(ee){Zt(ee,null),M({type:"closeDialog"})}).catch(function(ee){Hv(ee)?(N(ee),M({type:"closeDialog"})):Fv(ee)?(ne.current=!1,z.current?(z.current.value=null,z.current.click()):ce(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ce(ee)});return}z.current&&(M({type:"openDialog"}),H(),z.current.value=null,z.current.click())},[M,H,N,p,Zt,ce,K,l]),at=_.useCallback(function(O){!P.current||!P.current.isEqualNode(O.target)||(O.key===" "||O.key==="Enter"||O.keyCode===32||O.keyCode===13)&&(O.preventDefault(),Pe())},[P,Pe]),ht=_.useCallback(function(){M({type:"focus"})},[]),qt=_.useCallback(function(){M({type:"blur"})},[]),ft=_.useCallback(function(){G||(Rv()?setTimeout(Pe,0):Pe())},[G,Pe]),_t=function(ee){return r?null:ee},_e=function(ee){return V?null:_t(ee)},ge=function(ee){return F?null:_t(ee)},_r=function(ee){Y&&ee.stopPropagation()},St=_.useMemo(function(){return function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=O.refKey,We=ee===void 0?"ref":ee,ke=O.role,Ue=O.onKeyDown,en=O.onFocus,Nt=O.onBlur,Zi=O.onClick,Pn=O.onDragEnter,Bn=O.onDragOver,Zn=O.onDragLeave,Sn=O.onDrop,Nr=gl(O,Ev);return Ke(Ke(Ns({onKeyDown:_e(fn(Ue,at)),onFocus:_e(fn(en,ht)),onBlur:_e(fn(Nt,qt)),onClick:_t(fn(Zi,ft)),onDragEnter:ge(fn(Pn,De)),onDragOver:ge(fn(Bn,$t)),onDragLeave:ge(fn(Zn,gt)),onDrop:ge(fn(Sn,lt)),role:typeof ke=="string"&&ke!==""?ke:"presentation"},We,P),!r&&!V?{tabIndex:0}:{}),Nr)}},[P,at,ht,qt,ft,De,$t,gt,lt,V,F,r]),wi=_.useCallback(function(O){O.stopPropagation()},[]),Bi=_.useMemo(function(){return function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=O.refKey,We=ee===void 0?"ref":ee,ke=O.onChange,Ue=O.onClick,en=gl(O,Tv),Nt=Ns({accept:Z,multiple:l,type:"file",style:{display:"none"},onChange:_t(fn(ke,lt)),onClick:_t(fn(Ue,wi)),tabIndex:-1},We,z);return Ke(Ke({},Nt),en)}},[z,n,l,lt,r]);return Ke(Ke({},X),{},{isFocused:j&&!r,getRootProps:St,getInputProps:Bi,rootRef:P,inputRef:z,open:_t(Pe)})}function Qv(e,t){switch(t.type){case"focus":return Ke(Ke({},e),{},{isFocused:!0});case"blur":return Ke(Ke({},e),{},{isFocused:!1});case"openDialog":return Ke(Ke({},Es),{},{isFileDialogActive:!0});case"closeDialog":return Ke(Ke({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ke(Ke({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Ke(Ke({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Ke({},Es);default:return e}}function rc(){}function $v(e){e=e.replace("#","");const t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16),i=(255-t).toString(16).padStart(2,"0"),o=(255-n).toString(16).padStart(2,"0"),g=(255-r).toString(16).padStart(2,"0");return`#${i}${o}${g}`}const qv=({className:e="",onChange:t,value:n,...r})=>{const i=_.useRef(null);return W.jsxs("button",{onClick:()=>{var o;(o=i.current)==null||o.click()},className:`border relative border-subtle rounded-lg bg-subtle w-full p-1 h-9 ${e}`,...r,children:[W.jsx("div",{className:"rounded-lg",style:{backgroundColor:n},children:W.jsx("span",{style:{color:$v(n)},children:n})}),W.jsx("input",{onChange:o=>t(o.target.value),ref:i,type:"color",className:"invisible absolute left-0 bottom-0",defaultValue:n})]})};var wh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ic=Re.createContext&&Re.createContext(wh),eb=["attr","size","title"];function tb(e,t){if(e==null)return{};var n=nb(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ll.apply(this,arguments)}function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oc(Object(n),!0).forEach(function(r){rb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rb(e,t,n){return t=ib(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ib(e){var t=ob(e,"string");return typeof t=="symbol"?t:String(t)}function ob(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bh(e){return e&&e.map((t,n)=>Re.createElement(t.tag,al({key:n},t.attr),Bh(t.child)))}function bi(e){return t=>Re.createElement(gb,ll({attr:al({},e.attr)},t),Bh(e.child))}function gb(e){var t=n=>{var{attr:r,size:i,title:o}=e,g=tb(e,eb),l=i||n.size||"1em",a;return n.className&&(a=n.className),e.className&&(a=(a?a+" ":"")+e.className),Re.createElement("svg",ll({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,g,{className:a,style:al(al({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&Re.createElement("title",null,o),e.children)};return ic!==void 0?Re.createElement(ic.Consumer,null,n=>t(n)):t(wh)}function lb(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function ab(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(e)}function sb(e){return bi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}const lg=({className:e="",items:t,placeholder:n,emptyMessage:r,...i})=>{const o=`border rounded-lg font-bold border-subtle bg-subtle px-2 py-1 h-9 ${e}`,[g,l]=_.useState(()=>n?[{value:"",label:n},...t]:t);return _.useEffect(()=>{l(n?[{value:"",label:n},...t]:t)},[t,n]),t.length===0?W.jsxs("span",{className:"min-h-9 text-gray-500 text-xs flex items-center gap-2 h-10",children:[W.jsx(lb,{}),r]}):W.jsx("select",{className:`${o}`,...i,children:g.map(a=>W.jsx("option",{value:a.value,children:a.label},a.value))})},zn=({className:e="",lablel:t,children:n,...r})=>{const i=`flex flex-col gap-1 w-full ${e}`;return W.jsxs("div",{className:i,children:[W.jsx("label",{className:"text-sm font-bold",...r,children:t}),W.jsx("div",{children:n})]})};var vo={},JI={},UI={},Xl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Direction=void 0,function(t){t.Right="to right",t.Left="to left",t.Down="to bottom",t.Up="to top"}(e.Direction||(e.Direction={}))})(Xl);(function(e){var t=wt&&wt.__spreadArray||function(K,H,N){if(N||arguments.length===2)for(var P=0,z=H.length,Q;P<z;P++)(Q||!(P in H))&&(Q||(Q=Array.prototype.slice.call(H,0,P)),Q[P]=H[P]);return K.concat(Q||Array.prototype.slice.call(H))};Object.defineProperty(e,"__esModule",{value:!0}),e.useThumbOverlap=e.assertUnreachable=e.voidFn=e.getTrackBackground=e.replaceAt=e.schd=e.translate=e.getClosestThumbIndex=e.translateThumbs=e.getPaddingAndBorder=e.getMargin=e.checkInitialOverlap=e.checkValuesAgainstBoundaries=e.checkBoundaries=e.isVertical=e.relativeValue=e.normalizeValue=e.isStepDivisible=e.isTouchEvent=e.getStepDecimals=void 0;var n=_,r=Xl,i=function(K){var H=K.toString().split(".")[1];return H?H.length:0};e.getStepDecimals=i;function o(K){return K.touches&&K.touches.length||K.changedTouches&&K.changedTouches.length}e.isTouchEvent=o;function g(K,H,N){var P=(H-K)/N,z=8,Q=Number(P.toFixed(z));return parseInt(Q.toString(),10)===Q}e.isStepDivisible=g;function l(K,H,N,P,z,Q,q){var X=1e11;if(K=Math.round(K*X)/X,!Q){var M=q[H-1],j=q[H+1];if(M&&M>K)return M;if(j&&j<K)return j}if(K>P)return P;if(K<N)return N;var le=Math.floor(K*X-N*X)%Math.floor(z*X),ne=Math.floor(K*X-Math.abs(le)),fe=le===0?K:ne/X,re=Math.abs(le/X)<z/2?fe:fe+z,ve=(0,e.getStepDecimals)(z);return parseFloat(re.toFixed(ve))}e.normalizeValue=l;function a(K,H,N){return(K-H)/(N-H)}e.relativeValue=a;function s(K){return K===r.Direction.Up||K===r.Direction.Down}e.isVertical=s;function C(K,H,N){if(H>=N)throw new RangeError("min (".concat(H,") is equal/bigger than max (").concat(N,")"));if(K<H)throw new RangeError("value (".concat(K,") is smaller than min (").concat(H,")"));if(K>N)throw new RangeError("value (".concat(K,") is bigger than max (").concat(N,")"))}e.checkBoundaries=C;function c(K,H,N){return K<H?H:K>N?N:K}e.checkValuesAgainstBoundaries=c;function A(K){if(!(K.length<2)&&!K.slice(1).every(function(H,N){return K[N]<=H}))throw new RangeError("values={[".concat(K,"]} needs to be sorted when allowOverlap={false}"))}e.checkInitialOverlap=A;function y(K){var H=window.getComputedStyle(K);return{top:parseInt(H["margin-top"],10),bottom:parseInt(H["margin-bottom"],10),left:parseInt(H["margin-left"],10),right:parseInt(H["margin-right"],10)}}e.getMargin=y;function v(K){var H=window.getComputedStyle(K);return{top:parseInt(H["padding-top"],10)+parseInt(H["border-top-width"],10),bottom:parseInt(H["padding-bottom"],10)+parseInt(H["border-bottom-width"],10),left:parseInt(H["padding-left"],10)+parseInt(H["border-left-width"],10),right:parseInt(H["padding-right"],10)+parseInt(H["border-right-width"],10)}}e.getPaddingAndBorder=v;function b(K,H,N){var P=N?-1:1;K.forEach(function(z,Q){return p(z,P*H[Q].x,H[Q].y)})}e.translateThumbs=b;function B(K,H,N,P){for(var z=0,Q=Z(K[0],H,N,P),q=1;q<K.length;q++){var X=Z(K[q],H,N,P);X<Q&&(Q=X,z=q)}return z}e.getClosestThumbIndex=B;function p(K,H,N){K.style.transform="translate(".concat(H,"px, ").concat(N,"px)")}e.translate=p;var f=function(K){var H=[],N=null,P=function(){for(var z=[],Q=0;Q<arguments.length;Q++)z[Q]=arguments[Q];H=z,!N&&(N=requestAnimationFrame(function(){N=null,K.apply(void 0,H)}))};return P};e.schd=f;function m(K,H,N){var P=K.slice(0);return P[H]=N,P}e.replaceAt=m;function G(K){var H=K.values,N=K.colors,P=K.min,z=K.max,Q=K.direction,q=Q===void 0?r.Direction.Right:Q,X=K.rtl,M=X===void 0?!1:X;M&&q===r.Direction.Right?q=r.Direction.Left:M&&r.Direction.Left&&(q=r.Direction.Right);var j=H.slice(0).sort(function(ne,fe){return ne-fe}).map(function(ne){return(ne-P)/(z-P)*100}),le=j.reduce(function(ne,fe,re){return"".concat(ne,", ").concat(N[re]," ").concat(fe,"%, ").concat(N[re+1]," ").concat(fe,"%")},"");return"linear-gradient(".concat(q,", ").concat(N[0]," 0%").concat(le,", ").concat(N[N.length-1]," 100%)")}e.getTrackBackground=G;function V(){}e.voidFn=V;function F(K){throw new Error("Didn't expect to get here")}e.assertUnreachable=F;var Y=function(K,H,N,P,z){z===void 0&&(z=function(q){return q});var Q=Math.ceil(t([K],Array.from(K.children),!0).reduce(function(q,X){var M=Math.ceil(X.getBoundingClientRect().width);if(X.innerText&&X.innerText.includes(N)&&X.childElementCount===0){var j=X.cloneNode(!0);j.innerHTML=z(H.toFixed(P)),j.style.visibility="hidden",document.body.appendChild(j),M=Math.ceil(j.getBoundingClientRect().width),document.body.removeChild(j)}return M>q?M:q},K.getBoundingClientRect().width));return Q},R=function(K,H,N,P,z,Q,q){q===void 0&&(q=function(j){return j});var X=[],M=function(j){var le=Y(N[j],P[j],z,Q,q),ne=H[j].x;H.forEach(function(fe,re){var ve=fe.x,ce=Y(N[re],P[re],z,Q,q);j!==re&&(ne>=ve&&ne<=ve+ce||ne+le>=ve&&ne+le<=ve+ce)&&(X.includes(re)||(X.push(j),X.push(re),X=t(t([],X,!0),[j,re],!1),M(re)))})};return M(K),Array.from(new Set(X.sort()))},T=function(K,H,N,P,z,Q){P===void 0&&(P=.1),z===void 0&&(z=" - "),Q===void 0&&(Q=function(re){return re});var q=(0,e.getStepDecimals)(P),X=(0,n.useState)({}),M=X[0],j=X[1],le=(0,n.useState)(Q(H[N].toFixed(q))),ne=le[0],fe=le[1];return(0,n.useEffect)(function(){if(K){var re=K.getThumbs();if(re.length<1)return;var ve={},ce=K.getOffsets(),De=R(N,ce,re,H,z,q,Q),$t=Q(H[N].toFixed(q));if(De.length){var gt=De.reduce(function(ht,qt,ft,_t){return ht.length?t(t([],ht,!0),[ce[_t[ft]].x],!1):[ce[_t[ft]].x]},[]);if(Math.min.apply(Math,gt)===ce[N].x){var Zt=[];De.forEach(function(ht){Zt.push(H[ht].toFixed(q))}),$t=Array.from(new Set(Zt.sort(function(ht,qt){return parseFloat(ht)-parseFloat(qt)}))).map(Q).join(z);var lt=Math.min.apply(Math,gt),Pe=Math.max.apply(Math,gt),at=re[De[gt.indexOf(Pe)]].getBoundingClientRect().width;ve.left="".concat(Math.abs(lt-(Pe+at))/2,"px"),ve.transform="translate(-50%, 0)"}else ve.visibility="hidden"}fe($t),j(ve)}},[K,H]),[ne,M]};e.useThumbOverlap=T;function Z(K,H,N,P){var z=K.getBoundingClientRect(),Q=z.left,q=z.top,X=z.width,M=z.height;return s(P)?Math.abs(N-(q+M/2)):Math.abs(H-(Q+X/2))}})(UI);var Ib=wt&&wt.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ub=wt&&wt.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Cb=wt&&wt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cb=wt&&wt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&ub(t,e,n);return Cb(t,e),t},gc=wt&&wt.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(JI,"__esModule",{value:!0});var ag=cb(_),Ie=UI,xe=Xl,Ab=["ArrowRight","ArrowUp","k","PageUp"],db=["ArrowLeft","ArrowDown","j","PageDown"],hb=function(e){Ib(t,e);function t(n){var r=e.call(this,n)||this;if(r.trackRef=ag.createRef(),r.thumbRefs=[],r.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(r.props.values.length).fill(0).map(function(i,o){return o}),isChanged:!1,markOffsets:[]},r.getOffsets=function(){var i=r.props,o=i.direction,g=i.values,l=i.min,a=i.max,s=r.trackRef.current,C=s.getBoundingClientRect(),c=(0,Ie.getPaddingAndBorder)(s);return r.getThumbs().map(function(A,y){var v={x:0,y:0},b=A.getBoundingClientRect(),B=(0,Ie.getMargin)(A);switch(o){case xe.Direction.Right:return v.x=(B.left+c.left)*-1,v.y=((b.height-C.height)/2+c.top)*-1,v.x+=C.width*(0,Ie.relativeValue)(g[y],l,a)-b.width/2,v;case xe.Direction.Left:return v.x=(B.right+c.right)*-1,v.y=((b.height-C.height)/2+c.top)*-1,v.x+=C.width-C.width*(0,Ie.relativeValue)(g[y],l,a)-b.width/2,v;case xe.Direction.Up:return v.x=((b.width-C.width)/2+B.left+c.left)*-1,v.y=-c.left,v.y+=C.height-C.height*(0,Ie.relativeValue)(g[y],l,a)-b.height/2,v;case xe.Direction.Down:return v.x=((b.width-C.width)/2+B.left+c.left)*-1,v.y=-c.left,v.y+=C.height*(0,Ie.relativeValue)(g[y],l,a)-b.height/2,v;default:return(0,Ie.assertUnreachable)(o)}})},r.getThumbs=function(){return r.trackRef&&r.trackRef.current?Array.from(r.trackRef.current.children).filter(function(i){return i.hasAttribute("aria-valuenow")}):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},r.getTargetIndex=function(i){return r.getThumbs().findIndex(function(o){return o===i.target||o.contains(i.target)})},r.addTouchEvents=function(i){document.addEventListener("touchmove",r.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",r.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",r.schdOnEnd,{passive:!1})},r.addMouseEvents=function(i){document.addEventListener("mousemove",r.schdOnMouseMove),document.addEventListener("mouseup",r.schdOnEnd)},r.onMouseDownTrack=function(i){var o;if(i.button===0)if(i.persist(),i.preventDefault(),r.addMouseEvents(i.nativeEvent),r.props.values.length>1&&r.props.draggableTrack){if(r.thumbRefs.some(function(l){var a;return(a=l.current)===null||a===void 0?void 0:a.contains(i.target)}))return;r.setState({draggedTrackPos:[i.clientX,i.clientY]},function(){return r.onMove(i.clientX,i.clientY)})}else{var g=(0,Ie.getClosestThumbIndex)(r.thumbRefs.map(function(l){return l.current}),i.clientX,i.clientY,r.props.direction);(o=r.thumbRefs[g].current)===null||o===void 0||o.focus(),r.setState({draggedThumbIndex:g},function(){return r.onMove(i.clientX,i.clientY)})}},r.onResize=function(){(0,Ie.translateThumbs)(r.getThumbs(),r.getOffsets(),r.props.rtl),r.calculateMarkOffsets()},r.onTouchStartTrack=function(i){var o;if(i.persist(),r.addTouchEvents(i.nativeEvent),r.props.values.length>1&&r.props.draggableTrack){if(r.thumbRefs.some(function(l){var a;return(a=l.current)===null||a===void 0?void 0:a.contains(i.target)}))return;r.setState({draggedTrackPos:[i.touches[0].clientX,i.touches[0].clientY]},function(){return r.onMove(i.touches[0].clientX,i.touches[0].clientY)})}else{var g=(0,Ie.getClosestThumbIndex)(r.thumbRefs.map(function(l){return l.current}),i.touches[0].clientX,i.touches[0].clientY,r.props.direction);(o=r.thumbRefs[g].current)===null||o===void 0||o.focus(),r.setState({draggedThumbIndex:g},function(){return r.onMove(i.touches[0].clientX,i.touches[0].clientY)})}},r.onMouseOrTouchStart=function(i){if(!r.props.disabled){var o=(0,Ie.isTouchEvent)(i);if(!(!o&&i.button!==0)){var g=r.getTargetIndex(i);g!==-1&&(o?r.addTouchEvents(i):r.addMouseEvents(i),r.setState({draggedThumbIndex:g,thumbZIndexes:r.state.thumbZIndexes.map(function(l,a){return a===g?Math.max.apply(Math,r.state.thumbZIndexes):l<=r.state.thumbZIndexes[g]?l:l-1})}))}}},r.onMouseMove=function(i){i.preventDefault(),r.onMove(i.clientX,i.clientY)},r.onTouchMove=function(i){i.preventDefault(),r.onMove(i.touches[0].clientX,i.touches[0].clientY)},r.onKeyDown=function(i){var o=r.props,g=o.values,l=o.onChange,a=o.step,s=o.rtl,C=o.direction,c=r.state.isChanged,A=r.getTargetIndex(i.nativeEvent),y=s||C===xe.Direction.Left||C===xe.Direction.Down?-1:1;A!==-1&&(Ab.includes(i.key)?(i.preventDefault(),r.setState({draggedThumbIndex:A,isChanged:!0}),l((0,Ie.replaceAt)(g,A,r.normalizeValue(g[A]+y*(i.key==="PageUp"?a*10:a),A)))):db.includes(i.key)?(i.preventDefault(),r.setState({draggedThumbIndex:A,isChanged:!0}),l((0,Ie.replaceAt)(g,A,r.normalizeValue(g[A]-y*(i.key==="PageDown"?a*10:a),A)))):i.key==="Tab"?r.setState({draggedThumbIndex:-1},function(){c&&r.fireOnFinalChange()}):c&&r.fireOnFinalChange())},r.onKeyUp=function(i){var o=r.state.isChanged;r.setState({draggedThumbIndex:-1},function(){o&&r.fireOnFinalChange()})},r.onMove=function(i,o){var g=r.state,l=g.draggedThumbIndex,a=g.draggedTrackPos,s=r.props,C=s.direction,c=s.min,A=s.max,y=s.onChange,v=s.values,b=s.step,B=s.rtl;if(l===-1&&a[0]===-1&&a[1]===-1)return null;var p=r.trackRef.current;if(!p)return null;var f=p.getBoundingClientRect(),m=(0,Ie.isVertical)(C)?f.height:f.width;if(a[0]!==-1&&a[1]!==-1){var G=i-a[0],V=o-a[1],F=0;switch(C){case xe.Direction.Right:case xe.Direction.Left:F=G/m*(A-c);break;case xe.Direction.Down:case xe.Direction.Up:F=V/m*(A-c);break;default:(0,Ie.assertUnreachable)(C)}if(B&&(F*=-1),Math.abs(F)>=b/2){for(var Y=0;Y<r.thumbRefs.length;Y++){if(v[Y]===A&&Math.sign(F)===1||v[Y]===c&&Math.sign(F)===-1)return;var R=v[Y]+F;R>A?F=A-v[Y]:R<c&&(F=c-v[Y])}for(var T=v.slice(0),Y=0;Y<r.thumbRefs.length;Y++)T=(0,Ie.replaceAt)(T,Y,r.normalizeValue(v[Y]+F,Y));r.setState({draggedTrackPos:[i,o]}),y(T)}}else{var Z=0;switch(C){case xe.Direction.Right:Z=(i-f.left)/m*(A-c)+c;break;case xe.Direction.Left:Z=(m-(i-f.left))/m*(A-c)+c;break;case xe.Direction.Down:Z=(o-f.top)/m*(A-c)+c;break;case xe.Direction.Up:Z=(m-(o-f.top))/m*(A-c)+c;break;default:(0,Ie.assertUnreachable)(C)}B&&(Z=A+c-Z),Math.abs(v[l]-Z)>=b/2&&y((0,Ie.replaceAt)(v,l,r.normalizeValue(Z,l)))}},r.normalizeValue=function(i,o){var g=r.props,l=g.min,a=g.max,s=g.step,C=g.allowOverlap,c=g.values;return(0,Ie.normalizeValue)(i,o,l,a,s,C,c)},r.onEnd=function(i){if(i.preventDefault(),document.removeEventListener("mousemove",r.schdOnMouseMove),document.removeEventListener("touchmove",r.schdOnTouchMove),document.removeEventListener("mouseup",r.schdOnEnd),document.removeEventListener("touchend",r.schdOnEnd),document.removeEventListener("touchcancel",r.schdOnEnd),r.state.draggedThumbIndex===-1&&r.state.draggedTrackPos[0]===-1&&r.state.draggedTrackPos[1]===-1)return null;r.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},function(){r.fireOnFinalChange()})},r.fireOnFinalChange=function(){r.setState({isChanged:!1});var i=r.props,o=i.onFinalChange,g=i.values;o&&o(g)},r.updateMarkRefs=function(i){if(!i.renderMark){r.numOfMarks=void 0,r.markRefs=void 0;return}r.numOfMarks=(i.max-i.min)/r.props.step,r.markRefs=[];for(var o=0;o<r.numOfMarks+1;o++)r.markRefs[o]=ag.createRef()},r.calculateMarkOffsets=function(){if(!(!r.props.renderMark||!r.trackRef||!r.numOfMarks||!r.markRefs||r.trackRef.current===null)){for(var i=window.getComputedStyle(r.trackRef.current),o=parseInt(i.width,10),g=parseInt(i.height,10),l=parseInt(i.paddingLeft,10),a=parseInt(i.paddingTop,10),s=[],C=0;C<r.numOfMarks+1;C++){var c=9999,A=9999;if(r.markRefs[C].current){var y=r.markRefs[C].current.getBoundingClientRect();c=y.height,A=y.width}r.props.direction===xe.Direction.Left||r.props.direction===xe.Direction.Right?s.push([Math.round(o/r.numOfMarks*C+l-A/2),-Math.round((c-g)/2)]):s.push([Math.round(g/r.numOfMarks*C+a-c/2),-Math.round((A-o)/2)])}r.setState({markOffsets:s})}},n.step===0)throw new Error('"step" property should be a positive number');return r.schdOnMouseMove=(0,Ie.schd)(r.onMouseMove),r.schdOnTouchMove=(0,Ie.schd)(r.onTouchMove),r.schdOnEnd=(0,Ie.schd)(r.onEnd),r.thumbRefs=n.values.map(function(){return ag.createRef()}),r.updateMarkRefs(n),r}return t.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.values,o=r.min,g=r.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",n.onResize)},unobserve:function(){return window.removeEventListener("resize",n.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&(0,Ie.checkInitialOverlap)(this.props.values),this.props.values.forEach(function(l){return(0,Ie.checkBoundaries)(l,n.props.min,n.props.max)}),this.resizeObserver.observe(this.trackRef.current),(0,Ie.translateThumbs)(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),i.forEach(function(l){(0,Ie.isStepDivisible)(o,l,g)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})},t.prototype.componentDidUpdate=function(n,r){var i=this.props,o=i.max,g=i.min,l=i.step,a=i.values,s=i.rtl;(n.max!==o||n.min!==g||n.step!==l)&&this.updateMarkRefs(this.props),(0,Ie.translateThumbs)(this.getThumbs(),this.getOffsets(),s),(n.max!==o||n.min!==g||n.step!==l||r.markOffsets.length!==this.state.markOffsets.length)&&(this.calculateMarkOffsets(),a.forEach(function(C){(0,Ie.isStepDivisible)(g,C,l)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},t.prototype.componentWillUnmount=function(){var n={passive:!1};document.removeEventListener("mousedown",this.onMouseOrTouchStart,n),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},t.prototype.render=function(){var n=this,r=this.props,i=r.renderTrack,o=r.renderThumb,g=r.renderMark,l=g===void 0?function(){return null}:g,a=r.values,s=r.min,C=r.max,c=r.allowOverlap,A=r.disabled,y=this.state,v=y.draggedThumbIndex,b=y.thumbZIndexes,B=y.markOffsets;return i({props:{style:{transform:"scale(1)",cursor:v>-1?"grabbing":this.props.draggableTrack?(0,Ie.isVertical)(this.props.direction)?"ns-resize":"ew-resize":a.length===1&&!A?"pointer":"inherit"},onMouseDown:A?Ie.voidFn:this.onMouseDownTrack,onTouchStart:A?Ie.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:A,children:gc(gc([],B.map(function(p,f,m){return l({props:{style:n.props.direction===xe.Direction.Left||n.props.direction===xe.Direction.Right?{position:"absolute",left:"".concat(p[0],"px"),marginTop:"".concat(p[1],"px")}:{position:"absolute",top:"".concat(p[0],"px"),marginLeft:"".concat(p[1],"px")},key:"mark".concat(f),ref:n.markRefs[f]},index:f})}),!0),a.map(function(p,f){var m=n.state.draggedThumbIndex===f;return o({index:f,value:p,isDragged:m,props:{style:{position:"absolute",zIndex:b[f],cursor:A?"inherit":m?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:f,tabIndex:A?void 0:0,"aria-valuemax":c?C:a[f+1]||C,"aria-valuemin":c?s:a[f-1]||s,"aria-valuenow":p,draggable:!1,ref:n.thumbRefs[f],role:"slider",onKeyDown:A?Ie.voidFn:n.onKeyDown,onKeyUp:A?Ie.voidFn:n.onKeyUp}})}),!0)})},t.defaultProps={step:1,direction:xe.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},t}(ag.Component);JI.default=hb;(function(e){var t=wt&&wt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.checkValuesAgainstBoundaries=e.relativeValue=e.useThumbOverlap=e.Direction=e.getTrackBackground=e.Range=void 0;var n=t(JI);e.Range=n.default;var r=UI;Object.defineProperty(e,"getTrackBackground",{enumerable:!0,get:function(){return r.getTrackBackground}}),Object.defineProperty(e,"useThumbOverlap",{enumerable:!0,get:function(){return r.useThumbOverlap}}),Object.defineProperty(e,"relativeValue",{enumerable:!0,get:function(){return r.relativeValue}}),Object.defineProperty(e,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return r.checkValuesAgainstBoundaries}});var i=Xl;Object.defineProperty(e,"Direction",{enumerable:!0,get:function(){return i.Direction}})})(vo);const lc=({className:e="",min:t,max:n,step:r=1,allowOverlap:i=!1,values:o,onChange:g,...l})=>W.jsxs("div",{className:`flex gap-1 h-9 w-full ${e}`,...l,children:[W.jsx("div",{className:"flex items-center justify-center rounded-lg bg-subtle text-xs border border-subtle w-16 p-1 text-secondary",children:o.join(" - ")}),W.jsx(vo.Range,{min:t,max:n,step:r,allowOverlap:i,values:o,onChange:a=>{g(a)},renderTrack:({props:a,children:s})=>W.jsx("div",{className:"flex-grow flex bg-subtle border border-subtle overflow-hidden rounded-lg",onMouseDown:C=>{a.onMouseDown(C)},onTouchStart:C=>{a.onTouchStart(C)},style:{...a.style},children:W.jsx("div",{ref:a.ref,style:{background:vo.getTrackBackground({values:o,colors:o.length===2?["#F3F6F8","#80cec8","#F3F6F8"]:["#80cec8","#F3F6F8"],min:t,max:n})},className:"self-center w-full h-full",children:s})}),renderThumb:({props:a})=>W.jsx("div",{...a,className:"rounded-lg border border-subtle h-full w-5 bg-white hover:bg-hover",style:{...a.style}})})]}),fb=({className:e="",onChange:t,items:n,value:r})=>W.jsx("div",{className:`h-9 w-min p-1 text-sm flex justify-evenly gap-1 rounded-lg bg-subtle border border-subtle ${e}`,children:W.jsx(W.Fragment,{children:n.map(i=>W.jsx("button",{className:`text-secondary flex justify-center items-center min-w-9 flex-1 p-2 rounded-lg border font-bold ${r==i.value?"bg-white border-subtle":"bg-subtle border-transparent hover:border-subtle text-tertiary"}`,onClick:()=>{t(i.value)},children:i.label},i.value))})});function pb(){const e=me(C=>C.viewer.speed),t=me(C=>C.viewer.animations),n=me(C=>C.viewer.themes),r=me(C=>C.viewer.backgroundColor),i=me(C=>C.viewer.activeAnimationId),o=me(C=>C.viewer.totalFrames),g=me(C=>C.viewer.segmentInput),l=me(C=>C.viewer.useFrameInterpolation),a=me(C=>C.viewer.markers),s=Wo();return W.jsx("div",{className:"flex border p-4 bg-white rounded-lg h-full",children:W.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[W.jsx(zn,{lablel:"backgroundColor",children:W.jsx(qv,{value:r,onChange:C=>{s(Py(C))}})}),W.jsx(zn,{lablel:"Speed",children:W.jsx(lc,{min:.5,max:3,step:.5,values:[e],onChange:C=>{s(Ty(C[0]))}})}),W.jsx(zn,{lablel:"Mode",children:W.jsx(lg,{className:"w-full",onChange:C=>{s(zy(C.target.value))},defaultValue:"3",items:[{value:"forward",label:"Forward"},{value:"reverse",label:"Reverse"},{value:"bounce",label:"Bounce"},{value:"reverse-bounce",label:"Reverse Bounce"}]})}),W.jsx(zn,{lablel:"Segment",children:W.jsxs("div",{className:"flex gap-2",children:[W.jsx(lc,{min:1,max:o||2,step:1,values:g,onChange:C=>{s($y(C))}}),W.jsx("button",{className:"bg-subtle hover:bg-subtle/60 border border-subtle rounded-lg p-1 px-2 font-bold h-9",onClick:()=>{s(Qy(g))},children:"Apply"})]})}),W.jsx(zn,{lablel:"useFrameInterpolation",children:W.jsx(fb,{onChange:C=>{s(qy(C==="true"))},items:[{label:"On",value:"true"},{label:"Off",value:"false"}],value:String(l)})}),W.jsx(zn,{lablel:"Animation",children:W.jsx(lg,{className:"w-full",onChange:C=>{s(wg(C.target.value))},value:i,emptyMessage:"Single animation available for this file",placeholder:"Select an Animation",items:t.length===1?[]:t.map(C=>({value:C,label:C}))})}),W.jsx(zn,{lablel:"Themes",children:W.jsx(lg,{className:"w-full",onChange:C=>{s(Oy(C.target.value))},placeholder:"default theme",emptyMessage:"No themes available for this animation",items:n.map(C=>({value:C.id,label:C.id}))})}),W.jsx(zn,{lablel:"Markers",children:W.jsx(lg,{className:"w-full",onChange:C=>{s(tv(C.target.value))},placeholder:"Select a marker",emptyMessage:"No markers available for this animation",items:a.map(C=>({value:C,label:C}))})})]})})}var mb=Object.create,Zh=Object.defineProperty,yb=Object.getOwnPropertyDescriptor,Sh=Object.getOwnPropertyNames,vb=Object.getPrototypeOf,bb=Object.prototype.hasOwnProperty,Gb=(e,t)=>function(){return t||(0,e[Sh(e)[0]])((t={exports:{}}).exports,t),t.exports},wb=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Sh(t))!bb.call(e,i)&&i!==n&&Zh(e,i,{get:()=>t[i],enumerable:!(r=yb(t,i))||r.enumerable});return e},Wh=(e,t,n)=>(n=e!=null?mb(vb(e)):{},wb(t||!e||!e.__esModule?Zh(n,"default",{value:e,enumerable:!0}):n,e)),kh=Gb({"../../node_modules/.pnpm/debounce@2.0.0/node_modules/debounce/index.js"(e,t){function n(r,i=100,o={}){if(typeof r!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof r}\`.`);if(i<0)throw new RangeError("`wait` must not be negative.");const{immediate:g}=typeof o=="boolean"?{immediate:o}:o;let l,a,s,C,c;function A(){const v=Date.now()-C;if(v<i&&v>=0)s=setTimeout(A,i-v);else if(s=void 0,!g){const b=l,B=a;l=void 0,a=void 0,c=r.apply(b,B)}}const y=function(...v){if(l&&this!==l)throw new Error("Debounced method called with different contexts.");l=this,a=v,C=Date.now();const b=g&&!s;if(s||(s=setTimeout(A,i)),b){const B=l,p=a;l=void 0,a=void 0,c=r.apply(B,p)}return c};return y.clear=()=>{s&&(clearTimeout(s),s=void 0)},y.flush=()=>{if(!s)return;const v=l,b=a;l=void 0,a=void 0,c=r.apply(v,b),clearTimeout(s),s=void 0},y}t.exports.debounce=n,t.exports=n}}),Bb=Object.defineProperty,Zb=(e,t,n)=>t in e?Bb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,be=(e,t,n)=>Zb(e,typeof t!="symbol"?t+"":t,n),Sb=class{requestAnimationFrame(e){return requestAnimationFrame(e)}cancelAnimationFrame(e){cancelAnimationFrame(e)}},Wb=class{constructor(){be(this,"_lastHandleId",0),be(this,"_lastImmediate",null)}requestAnimationFrame(e){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate(()=>{e(Date.now())}),this._lastHandleId}cancelAnimationFrame(e){this._lastImmediate&&clearImmediate(this._lastImmediate)}},kb=class{constructor(){be(this,"_strategy"),this._strategy=typeof requestAnimationFrame=="function"?new Sb:new Wb}requestAnimationFrame(e){return this._strategy.requestAnimationFrame(e)}cancelAnimationFrame(e){this._strategy.cancelAnimationFrame(e)}},vr=typeof window<"u"&&typeof window.document<"u",Sa=new Uint8Array([80,75,3,4]),Kb=["v","ip","op","layers","fr","w","h"],Kh="0.29.2",Yh="@lottiefiles/dotlottie-web",Yb=(()=>{var t;var e=typeof document<"u"?(t=document.currentScript)==null?void 0:t.src:void 0;return function(n={}){var r=n,i,o,g=new Promise((I,u)=>{i=I,o=u}),l=Object.assign({},r),a="./this.program",s="";typeof document<"u"&&document.currentScript&&(s=document.currentScript.src),e&&(s=e),s.startsWith("blob:")?s="":s=s.substr(0,s.replace(/[?#].*/,"").lastIndexOf("/")+1);var C=r.print||console.log.bind(console),c=r.printErr||console.error.bind(console);Object.assign(r,l),l=null,r.thisProgram&&(a=r.thisProgram);var A;r.wasmBinary&&(A=r.wasmBinary);var y,v=!1,b,B,p,f,m,G,V,F;function Y(){var I=y.buffer;r.HEAP8=b=new Int8Array(I),r.HEAP16=p=new Int16Array(I),r.HEAPU8=B=new Uint8Array(I),r.HEAPU16=f=new Uint16Array(I),r.HEAP32=m=new Int32Array(I),r.HEAPU32=G=new Uint32Array(I),r.HEAPF32=V=new Float32Array(I),r.HEAPF64=F=new Float64Array(I)}var R=[],T=[],Z=[];function K(){var I=r.preRun.shift();R.unshift(I)}var H=0,N=null;function P(I){var u;throw(u=r.onAbort)==null||u.call(r,I),I="Aborted("+I+")",c(I),v=!0,I=new WebAssembly.RuntimeError(I+". Build with -sASSERTIONS for more info."),o(I),I}var z=I=>I.startsWith("data:application/octet-stream;base64,"),Q;if(Q="DotLottiePlayer.wasm",!z(Q)){var q=Q;Q=r.locateFile?r.locateFile(q,s):s+q}function X(I){if(I==Q&&A)return new Uint8Array(A);throw"both async and sync fetching of the wasm failed"}function M(I){return A||typeof fetch!="function"?Promise.resolve().then(()=>X(I)):fetch(I,{credentials:"same-origin"}).then(u=>{if(!u.ok)throw`failed to load wasm binary file at '${I}'`;return u.arrayBuffer()}).catch(()=>X(I))}function j(I,u,d){return M(I).then(h=>WebAssembly.instantiate(h,u)).then(d,h=>{c(`failed to asynchronously prepare wasm: ${h}`),P(h)})}function le(I,u){var d=Q;return A||typeof WebAssembly.instantiateStreaming!="function"||z(d)||typeof fetch!="function"?j(d,I,u):fetch(d,{credentials:"same-origin"}).then(h=>WebAssembly.instantiateStreaming(h,I).then(u,function(w){return c(`wasm streaming compile failed: ${w}`),c("falling back to ArrayBuffer instantiation"),j(d,I,u)}))}var ne=I=>{for(;0<I.length;)I.shift()(r)},fe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,re=(I,u,d)=>{var h=u+d;for(d=u;I[d]&&!(d>=h);)++d;if(16<d-u&&I.buffer&&fe)return fe.decode(I.subarray(u,d));for(h="";u<d;){var w=I[u++];if(w&128){var S=I[u++]&63;if((w&224)==192)h+=String.fromCharCode((w&31)<<6|S);else{var D=I[u++]&63;w=(w&240)==224?(w&15)<<12|S<<6|D:(w&7)<<18|S<<12|D<<6|I[u++]&63,65536>w?h+=String.fromCharCode(w):(w-=65536,h+=String.fromCharCode(55296|w>>10,56320|w&1023))}}else h+=String.fromCharCode(w)}return h};class ve{constructor(u){this.ya=u-24}}var ce=0,De=I=>{for(var u=0,d=0;d<I.length;++d){var h=I.charCodeAt(d);127>=h?u++:2047>=h?u+=2:55296<=h&&57343>=h?(u+=4,++d):u+=3}return u},$t=(I,u,d,h)=>{if(0<h){h=d+h-1;for(var w=0;w<I.length;++w){var S=I.charCodeAt(w);if(55296<=S&&57343>=S){var D=I.charCodeAt(++w);S=65536+((S&1023)<<10)|D&1023}if(127>=S){if(d>=h)break;u[d++]=S}else{if(2047>=S){if(d+1>=h)break;u[d++]=192|S>>6}else{if(65535>=S){if(d+2>=h)break;u[d++]=224|S>>12}else{if(d+3>=h)break;u[d++]=240|S>>18,u[d++]=128|S>>12&63}u[d++]=128|S>>6&63}u[d++]=128|S&63}}u[d]=0}},gt={},Zt=I=>{for(;I.length;){var u=I.pop();I.pop()(u)}};function lt(I){return this.fromWireType(G[I>>2])}var Pe={},at={},ht={},qt,ft=(I,u,d)=>{function h(L){if(L=d(L),L.length!==I.length)throw new qt("Mismatched type converter count");for(var J=0;J<I.length;++J)St(I[J],L[J])}I.forEach(function(L){ht[L]=u});var w=Array(u.length),S=[],D=0;u.forEach((L,J)=>{at.hasOwnProperty(L)?w[J]=at[L]:(S.push(L),Pe.hasOwnProperty(L)||(Pe[L]=[]),Pe[L].push(()=>{w[J]=at[L],++D,D===S.length&&h(w)}))}),S.length===0&&h(w)},_t,_e=I=>{for(var u="";B[I];)u+=_t[B[I++]];return u},ge;function _r(I,u,d={}){var h=u.name;if(!I)throw new ge(`type "${h}" must have a positive integer typeid pointer`);if(at.hasOwnProperty(I)){if(d.ib)return;throw new ge(`Cannot register type '${h}' twice`)}at[I]=u,delete ht[I],Pe.hasOwnProperty(I)&&(u=Pe[I],delete Pe[I],u.forEach(w=>w()))}function St(I,u,d={}){if(!("argPackAdvance"in u))throw new TypeError("registerType registeredInstance requires argPackAdvance");return _r(I,u,d)}var wi=I=>{throw new ge(I.ma.za.xa.name+" instance already deleted")},Bi=!1,O=()=>{},ee=(I,u,d)=>u===d?I:d.Ca===void 0?null:(I=ee(I,u,d.Ca),I===null?null:d.ab(I)),We={},ke=[],Ue=()=>{for(;ke.length;){var I=ke.pop();I.ma.Ka=!1,I.delete()}},en,Nt={},Zi=(I,u)=>{if(u===void 0)throw new ge("ptr should not be undefined");for(;I.Ca;)u=I.Na(u),I=I.Ca;return Nt[u]},Pn=(I,u)=>{if(!u.za||!u.ya)throw new qt("makeClassHandle requires ptr and ptrType");if(!!u.Da!=!!u.Aa)throw new qt("Both smartPtrType and smartPtr must be specified");return u.count={value:1},Bn(Object.create(I,{ma:{value:u,writable:!0}}))},Bn=I=>typeof FinalizationRegistry>"u"?(Bn=u=>u,I):(Bi=new FinalizationRegistry(u=>{u=u.ma,--u.count.value,u.count.value===0&&(u.Aa?u.Da.Fa(u.Aa):u.za.xa.Fa(u.ya))}),Bn=u=>{var d=u.ma;return d.Aa&&Bi.register(u,{ma:d},u),u},O=u=>{Bi.unregister(u)},Bn(I));function Zn(){}var Sn=(I,u)=>Object.defineProperty(u,"name",{value:I}),Nr=(I,u,d)=>{if(I[u].Ba===void 0){var h=I[u];I[u]=function(...w){if(!I[u].Ba.hasOwnProperty(w.length))throw new ge(`Function '${d}' called with an invalid number of arguments (${w.length}) - expects one of (${I[u].Ba})!`);return I[u].Ba[w.length].apply(this,w)},I[u].Ba=[],I[u].Ba[h.Oa]=h}},dr=(I,u,d)=>{if(r.hasOwnProperty(I)){if(d===void 0||r[I].Ba!==void 0&&r[I].Ba[d]!==void 0)throw new ge(`Cannot register public name '${I}' twice`);if(Nr(r,I,I),r.hasOwnProperty(d))throw new ge(`Cannot register multiple overloads of a function with the same number of arguments (${d})!`);r[I].Ba[d]=u}else r[I]=u,d!==void 0&&(r[I].vb=d)},Si=I=>{if(I===void 0)return"_unknown";I=I.replace(/[^a-zA-Z0-9_]/g,"$");var u=I.charCodeAt(0);return 48<=u&&57>=u?`_${I}`:I};function Fl(I,u,d,h,w,S,D,L){this.name=I,this.constructor=u,this.La=d,this.Fa=h,this.Ca=w,this.cb=S,this.Na=D,this.ab=L,this.kb=[]}var _l=(I,u,d)=>{for(;u!==d;){if(!u.Na)throw new ge(`Expected null or instance of ${d.name}, got an instance of ${u.name}`);I=u.Na(I),u=u.Ca}return I};function lf(I,u){if(u===null){if(this.Ta)throw new ge(`null is not a valid ${this.name}`);return 0}if(!u.ma)throw new ge(`Cannot pass "${xl(u)}" as a ${this.name}`);if(!u.ma.ya)throw new ge(`Cannot pass deleted object as a pointer of type ${this.name}`);return _l(u.ma.ya,u.ma.za.xa,this.xa)}function af(I,u){if(u===null){if(this.Ta)throw new ge(`null is not a valid ${this.name}`);if(this.Qa){var d=this.Ua();return I!==null&&I.push(this.Fa,d),d}return 0}if(!u||!u.ma)throw new ge(`Cannot pass "${xl(u)}" as a ${this.name}`);if(!u.ma.ya)throw new ge(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.Pa&&u.ma.za.Pa)throw new ge(`Cannot convert argument of type ${u.ma.Da?u.ma.Da.name:u.ma.za.name} to parameter type ${this.name}`);if(d=_l(u.ma.ya,u.ma.za.xa,this.xa),this.Qa){if(u.ma.Aa===void 0)throw new ge("Passing raw pointer to smart pointer is illegal");switch(this.pb){case 0:if(u.ma.Da===this)d=u.ma.Aa;else throw new ge(`Cannot convert argument of type ${u.ma.Da?u.ma.Da.name:u.ma.za.name} to parameter type ${this.name}`);break;case 1:d=u.ma.Aa;break;case 2:if(u.ma.Da===this)d=u.ma.Aa;else{var h=u.clone();d=this.lb(d,Ho(()=>h.delete())),I!==null&&I.push(this.Fa,d)}break;default:throw new ge("Unsupporting sharing policy")}}return d}function sf(I,u){if(u===null){if(this.Ta)throw new ge(`null is not a valid ${this.name}`);return 0}if(!u.ma)throw new ge(`Cannot pass "${xl(u)}" as a ${this.name}`);if(!u.ma.ya)throw new ge(`Cannot pass deleted object as a pointer of type ${this.name}`);if(u.ma.za.Pa)throw new ge(`Cannot convert argument of type ${u.ma.za.name} to parameter type ${this.name}`);return _l(u.ma.ya,u.ma.za.xa,this.xa)}function Wi(I,u,d,h,w,S,D,L,J,x,U){this.name=I,this.xa=u,this.Ta=d,this.Pa=h,this.Qa=w,this.jb=S,this.pb=D,this.Za=L,this.Ua=J,this.lb=x,this.Fa=U,w||u.Ca!==void 0?this.toWireType=af:(this.toWireType=h?lf:sf,this.Ea=null)}var gu=(I,u,d)=>{if(!r.hasOwnProperty(I))throw new qt("Replacing nonexistent public symbol");r[I].Ba!==void 0&&d!==void 0?r[I].Ba[d]=u:(r[I]=u,r[I].Oa=d)},Et,If=(I,u,d=[])=>(I.includes("j")?(I=I.replace(/p/g,"i"),u=(0,r["dynCall_"+I])(u,...d)):u=Et.get(u)(...d),u),uf=(I,u)=>(...d)=>If(I,u,d),st=(I,u)=>{I=_e(I);var d=I.includes("j")?uf(I,u):Et.get(u);if(typeof d!="function")throw new ge(`unknown function pointer with signature ${I}: ${u}`);return d},lu,au=I=>{I=fu(I);var u=_e(I);return kn(I),u},Lo=(I,u)=>{function d(S){w[S]||at[S]||(ht[S]?ht[S].forEach(d):(h.push(S),w[S]=!0))}var h=[],w={};throw u.forEach(d),new lu(`${I}: `+h.map(au).join([", "]))},Nl=(I,u)=>{for(var d=[],h=0;h<I;h++)d.push(G[u+4*h>>2]);return d};function Cf(I){for(var u=1;u<I.length;++u)if(I[u]!==null&&I[u].Ea===void 0)return!0;return!1}function El(I,u,d,h,w){var S=u.length;if(2>S)throw new ge("argTypes array size mismatch! Must at least get return value and 'this' types!");var D=u[1]!==null&&d!==null,L=Cf(u),J=u[0].name!=="void",x=S-2,U=Array(x),se=[],Ae=[];return Sn(I,function(...k){if(k.length!==x)throw new ge(`function ${I} called with ${k.length} arguments, expected ${x}`);if(Ae.length=0,se.length=D?2:1,se[0]=w,D){var te=u[1].toWireType(Ae,this);se[1]=te}for(var ie=0;ie<x;++ie)U[ie]=u[ie+2].toWireType(Ae,k[ie]),se.push(U[ie]);if(k=h(...se),L)Zt(Ae);else for(ie=D?1:2;ie<u.length;ie++){var Me=ie===1?te:U[ie-2];u[ie].Ea!==null&&u[ie].Ea(Me)}return te=J?u[0].fromWireType(k):void 0,te})}var su=I=>{I=I.trim();let u=I.indexOf("(");return u!==-1?I.substr(0,u):I},Tl=[],Wn=[],Dl=I=>{9<I&&--Wn[I+1]===0&&(Wn[I]=void 0,Tl.push(I))},Pl=I=>{if(!I)throw new ge("Cannot use deleted val. handle = "+I);return Wn[I]},Ho=I=>{switch(I){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let u=Tl.pop()||Wn.length;return Wn[u]=I,Wn[u+1]=1,u}},Iu={name:"emscripten::val",fromWireType:I=>{var u=Pl(I);return Dl(I),u},toWireType:(I,u)=>Ho(u),argPackAdvance:8,readValueFromPointer:lt,Ea:null},cf=(I,u,d)=>{switch(u){case 1:return d?function(h){return this.fromWireType(b[h])}:function(h){return this.fromWireType(B[h])};case 2:return d?function(h){return this.fromWireType(p[h>>1])}:function(h){return this.fromWireType(f[h>>1])};case 4:return d?function(h){return this.fromWireType(m[h>>2])}:function(h){return this.fromWireType(G[h>>2])};default:throw new TypeError(`invalid integer width (${u}): ${I}`)}},Ml=(I,u)=>{var d=at[I];if(d===void 0)throw I=`${u} has unknown type ${au(I)}`,new ge(I);return d},xl=I=>{if(I===null)return"null";var u=typeof I;return u==="object"||u==="array"||u==="function"?I.toString():""+I},Af=(I,u)=>{switch(u){case 4:return function(d){return this.fromWireType(V[d>>2])};case 8:return function(d){return this.fromWireType(F[d>>3])};default:throw new TypeError(`invalid float width (${u}): ${I}`)}},df=(I,u,d)=>{switch(u){case 1:return d?h=>b[h]:h=>B[h];case 2:return d?h=>p[h>>1]:h=>f[h>>1];case 4:return d?h=>m[h>>2]:h=>G[h>>2];default:throw new TypeError(`invalid integer width (${u}): ${I}`)}},uu=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,hf=(I,u)=>{for(var d=I>>1,h=d+u/2;!(d>=h)&&f[d];)++d;if(d<<=1,32<d-I&&uu)return uu.decode(B.subarray(I,d));for(d="",h=0;!(h>=u/2);++h){var w=p[I+2*h>>1];if(w==0)break;d+=String.fromCharCode(w)}return d},ff=(I,u,d)=>{if(d??(d=2147483647),2>d)return 0;d-=2;var h=u;d=d<2*I.length?d/2:I.length;for(var w=0;w<d;++w)p[u>>1]=I.charCodeAt(w),u+=2;return p[u>>1]=0,u-h},pf=I=>2*I.length,mf=(I,u)=>{for(var d=0,h="";!(d>=u/4);){var w=m[I+4*d>>2];if(w==0)break;++d,65536<=w?(w-=65536,h+=String.fromCharCode(55296|w>>10,56320|w&1023)):h+=String.fromCharCode(w)}return h},yf=(I,u,d)=>{if(d??(d=2147483647),4>d)return 0;var h=u;d=h+d-4;for(var w=0;w<I.length;++w){var S=I.charCodeAt(w);if(55296<=S&&57343>=S){var D=I.charCodeAt(++w);S=65536+((S&1023)<<10)|D&1023}if(m[u>>2]=S,u+=4,u+4>d)break}return m[u>>2]=0,u-h},vf=I=>{for(var u=0,d=0;d<I.length;++d){var h=I.charCodeAt(d);55296<=h&&57343>=h&&++d,u+=4}return u},zl=[],bf=I=>{var u=zl.length;return zl.push(I),u},Gf=(I,u)=>{for(var d=Array(I),h=0;h<I;++h)d[h]=Ml(G[u+4*h>>2],"parameter "+h);return d},wf=Reflect.construct,Ol={},Cu=()=>{if(!jl){var I={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:a||"./this.program"},u;for(u in Ol)Ol[u]===void 0?delete I[u]:I[u]=Ol[u];var d=[];for(u in I)d.push(`${u}=${I[u]}`);jl=d}return jl},jl,Bf=[null,[],[]],Zf=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return I=>crypto.getRandomValues(I);P("initRandomDevice")},cu=I=>(cu=Zf())(I),Fo=I=>I%4===0&&(I%100!==0||I%400===0),Au=[31,29,31,30,31,30,31,31,30,31,30,31],du=[31,28,31,30,31,30,31,31,30,31,30,31];function Sf(I){var u=Array(De(I)+1);return $t(I,u,0,u.length),u}var Wf=(I,u,d,h)=>{function w(k,te,ie){for(k=typeof k=="number"?k.toString():k||"";k.length<te;)k=ie[0]+k;return k}function S(k,te){return w(k,te,"0")}function D(k,te){function ie(Mn){return 0>Mn?-1:0<Mn?1:0}var Me;return(Me=ie(k.getFullYear()-te.getFullYear()))===0&&(Me=ie(k.getMonth()-te.getMonth()))===0&&(Me=ie(k.getDate()-te.getDate())),Me}function L(k){switch(k.getDay()){case 0:return new Date(k.getFullYear()-1,11,29);case 1:return k;case 2:return new Date(k.getFullYear(),0,3);case 3:return new Date(k.getFullYear(),0,2);case 4:return new Date(k.getFullYear(),0,1);case 5:return new Date(k.getFullYear()-1,11,31);case 6:return new Date(k.getFullYear()-1,11,30)}}function J(k){var te=k.Ia;for(k=new Date(new Date(k.Ja+1900,0,1).getTime());0<te;){var ie=k.getMonth(),Me=(Fo(k.getFullYear())?Au:du)[ie];if(te>Me-k.getDate())te-=Me-k.getDate()+1,k.setDate(1),11>ie?k.setMonth(ie+1):(k.setMonth(0),k.setFullYear(k.getFullYear()+1));else{k.setDate(k.getDate()+te);break}}return ie=new Date(k.getFullYear()+1,0,4),te=L(new Date(k.getFullYear(),0,4)),ie=L(ie),0>=D(te,k)?0>=D(ie,k)?k.getFullYear()+1:k.getFullYear():k.getFullYear()-1}var x=G[h+40>>2];h={sb:m[h>>2],rb:m[h+4>>2],Ra:m[h+8>>2],Va:m[h+12>>2],Sa:m[h+16>>2],Ja:m[h+20>>2],Ga:m[h+24>>2],Ia:m[h+28>>2],wb:m[h+32>>2],qb:m[h+36>>2],tb:x&&x?re(B,x):""},d=d?re(B,d):"",x={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var U in x)d=d.replace(new RegExp(U,"g"),x[U]);var se="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ae="January February March April May June July August September October November December".split(" ");x={"%a":k=>se[k.Ga].substring(0,3),"%A":k=>se[k.Ga],"%b":k=>Ae[k.Sa].substring(0,3),"%B":k=>Ae[k.Sa],"%C":k=>S((k.Ja+1900)/100|0,2),"%d":k=>S(k.Va,2),"%e":k=>w(k.Va,2," "),"%g":k=>J(k).toString().substring(2),"%G":J,"%H":k=>S(k.Ra,2),"%I":k=>(k=k.Ra,k==0?k=12:12<k&&(k-=12),S(k,2)),"%j":k=>{for(var te=0,ie=0;ie<=k.Sa-1;te+=(Fo(k.Ja+1900)?Au:du)[ie++]);return S(k.Va+te,3)},"%m":k=>S(k.Sa+1,2),"%M":k=>S(k.rb,2),"%n":()=>`
`,"%p":k=>0<=k.Ra&&12>k.Ra?"AM":"PM","%S":k=>S(k.sb,2),"%t":()=>"	","%u":k=>k.Ga||7,"%U":k=>S(Math.floor((k.Ia+7-k.Ga)/7),2),"%V":k=>{var te=Math.floor((k.Ia+7-(k.Ga+6)%7)/7);if(2>=(k.Ga+371-k.Ia-2)%7&&te++,te)te==53&&(ie=(k.Ga+371-k.Ia)%7,ie==4||ie==3&&Fo(k.Ja)||(te=1));else{te=52;var ie=(k.Ga+7-k.Ia-1)%7;(ie==4||ie==5&&Fo(k.Ja%400-1))&&te++}return S(te,2)},"%w":k=>k.Ga,"%W":k=>S(Math.floor((k.Ia+7-(k.Ga+6)%7)/7),2),"%y":k=>(k.Ja+1900).toString().substring(2),"%Y":k=>k.Ja+1900,"%z":k=>{k=k.qb;var te=0<=k;return k=Math.abs(k)/60,(te?"+":"-")+("0000"+(k/60*100+k%60)).slice(-4)},"%Z":k=>k.tb,"%%":()=>"%"},d=d.replace(/%%/g,"\0\0");for(U in x)d.includes(U)&&(d=d.replace(new RegExp(U,"g"),x[U](h)));return d=d.replace(/\0\0/g,"%"),U=Sf(d),U.length>u?0:(b.set(U,I),U.length-1)};qt=r.InternalError=class extends Error{constructor(I){super(I),this.name="InternalError"}};for(var hu=Array(256),_o=0;256>_o;++_o)hu[_o]=String.fromCharCode(_o);_t=hu,ge=r.BindingError=class extends Error{constructor(I){super(I),this.name="BindingError"}},Object.assign(Zn.prototype,{isAliasOf:function(I){if(!(this instanceof Zn&&I instanceof Zn))return!1;var u=this.ma.za.xa,d=this.ma.ya;I.ma=I.ma;var h=I.ma.za.xa;for(I=I.ma.ya;u.Ca;)d=u.Na(d),u=u.Ca;for(;h.Ca;)I=h.Na(I),h=h.Ca;return u===h&&d===I},clone:function(){if(this.ma.ya||wi(this),this.ma.Ma)return this.ma.count.value+=1,this;var I=Bn,u=Object,d=u.create,h=Object.getPrototypeOf(this),w=this.ma;return I=I(d.call(u,h,{ma:{value:{count:w.count,Ka:w.Ka,Ma:w.Ma,ya:w.ya,za:w.za,Aa:w.Aa,Da:w.Da}}})),I.ma.count.value+=1,I.ma.Ka=!1,I},delete(){if(this.ma.ya||wi(this),this.ma.Ka&&!this.ma.Ma)throw new ge("Object already scheduled for deletion");O(this);var I=this.ma;--I.count.value,I.count.value===0&&(I.Aa?I.Da.Fa(I.Aa):I.za.xa.Fa(I.ya)),this.ma.Ma||(this.ma.Aa=void 0,this.ma.ya=void 0)},isDeleted:function(){return!this.ma.ya},deleteLater:function(){if(this.ma.ya||wi(this),this.ma.Ka&&!this.ma.Ma)throw new ge("Object already scheduled for deletion");return ke.push(this),ke.length===1&&en&&en(Ue),this.ma.Ka=!0,this}}),r.getInheritedInstanceCount=()=>Object.keys(Nt).length,r.getLiveInheritedInstances=()=>{var I=[],u;for(u in Nt)Nt.hasOwnProperty(u)&&I.push(Nt[u]);return I},r.flushPendingDeletes=Ue,r.setDelayFunction=I=>{en=I,ke.length&&en&&en(Ue)},Object.assign(Wi.prototype,{eb(I){return this.Za&&(I=this.Za(I)),I},Xa(I){var u;(u=this.Fa)==null||u.call(this,I)},argPackAdvance:8,readValueFromPointer:lt,fromWireType:function(I){function u(){return this.Qa?Pn(this.xa.La,{za:this.jb,ya:d,Da:this,Aa:I}):Pn(this.xa.La,{za:this,ya:I})}var d=this.eb(I);if(!d)return this.Xa(I),null;var h=Zi(this.xa,d);if(h!==void 0)return h.ma.count.value===0?(h.ma.ya=d,h.ma.Aa=I,h.clone()):(h=h.clone(),this.Xa(I),h);if(h=this.xa.cb(d),h=We[h],!h)return u.call(this);h=this.Pa?h.$a:h.pointerType;var w=ee(d,this.xa,h.xa);return w===null?u.call(this):this.Qa?Pn(h.xa.La,{za:h,ya:w,Da:this,Aa:I}):Pn(h.xa.La,{za:h,ya:w})}}),lu=r.UnboundTypeError=((I,u)=>{var d=Sn(u,function(h){this.name=u,this.message=h,h=Error(h).stack,h!==void 0&&(this.stack=this.toString()+`
`+h.replace(/^Error(:[^\n]*)?\n/,""))});return d.prototype=Object.create(I.prototype),d.prototype.constructor=d,d.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},d})(Error,"UnboundTypeError"),Wn.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=()=>Wn.length/2-5-Tl.length;var kf={c:(I,u,d,h)=>{P(`Assertion failed: ${I?re(B,I):""}, at: `+[u?u?re(B,u):"":"unknown filename",d,h?h?re(B,h):"":"unknown function"])},m:(I,u,d)=>{var h=new ve(I);throw G[h.ya+16>>2]=0,G[h.ya+4>>2]=u,G[h.ya+8>>2]=d,ce=I,ce},B:function(){return 0},P:()=>{},M:()=>{},R:function(){return 0},N:()=>{},A:function(){},O:()=>{},v:I=>{var u=gt[I];delete gt[I];var d=u.Ua,h=u.Fa,w=u.Ya,S=w.map(D=>D.hb).concat(w.map(D=>D.nb));ft([I],S,D=>{var L={};return w.forEach((J,x)=>{var U=D[x],se=J.fb,Ae=J.gb,k=D[x+w.length],te=J.mb,ie=J.ob;L[J.bb]={read:Me=>U.fromWireType(se(Ae,Me)),write:(Me,Mn)=>{var Wt=[];te(ie,Me,k.toWireType(Wt,Mn)),Zt(Wt)}}}),[{name:u.name,fromWireType:J=>{var x={},U;for(U in L)x[U]=L[U].read(J);return h(J),x},toWireType:(J,x)=>{for(var U in L)if(!(U in x))throw new TypeError(`Missing field: "${U}"`);var se=d();for(U in L)L[U].write(se,x[U]);return J!==null&&J.push(h,se),se},argPackAdvance:8,readValueFromPointer:lt,Ea:h}]})},I:()=>{},Y:(I,u,d,h)=>{u=_e(u),St(I,{name:u,fromWireType:function(w){return!!w},toWireType:function(w,S){return S?d:h},argPackAdvance:8,readValueFromPointer:function(w){return this.fromWireType(B[w])},Ea:null})},r:(I,u,d,h,w,S,D,L,J,x,U,se,Ae)=>{U=_e(U),S=st(w,S),L&&(L=st(D,L)),x&&(x=st(J,x)),Ae=st(se,Ae);var k=Si(U);dr(k,function(){Lo(`Cannot construct ${U} due to unbound types`,[h])}),ft([I,u,d],h?[h]:[],te=>{if(te=te[0],h)var ie=te.xa,Me=ie.La;else Me=Zn.prototype;te=Sn(U,function(...Ul){if(Object.getPrototypeOf(this)!==Mn)throw new ge("Use 'new' to construct "+U);if(Wt.Ha===void 0)throw new ge(U+" has no accessible constructor");var yu=Wt.Ha[Ul.length];if(yu===void 0)throw new ge(`Tried to invoke ctor of ${U} with invalid number of parameters (${Ul.length}) - expected (${Object.keys(Wt.Ha).toString()}) parameters instead!`);return yu.apply(this,Ul)});var Mn=Object.create(Me,{constructor:{value:te}});te.prototype=Mn;var Wt=new Fl(U,te,Mn,Ae,ie,S,L,x);if(Wt.Ca){var ki;(ki=Wt.Ca).Wa??(ki.Wa=[]),Wt.Ca.Wa.push(Wt)}return ie=new Wi(U,Wt,!0,!1,!1),ki=new Wi(U+"*",Wt,!1,!1,!1),Me=new Wi(U+" const*",Wt,!1,!0,!1),We[I]={pointerType:ki,$a:Me},gu(k,te),[ie,ki,Me]})},q:(I,u,d,h,w,S)=>{var D=Nl(u,d);w=st(h,w),ft([],[I],L=>{L=L[0];var J=`constructor ${L.name}`;if(L.xa.Ha===void 0&&(L.xa.Ha=[]),L.xa.Ha[u-1]!==void 0)throw new ge(`Cannot register multiple constructors with identical number of parameters (${u-1}) for class '${L.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return L.xa.Ha[u-1]=()=>{Lo(`Cannot construct ${L.name} due to unbound types`,D)},ft([],D,x=>(x.splice(1,0,null),L.xa.Ha[u-1]=El(J,x,null,w,S),[])),[]})},f:(I,u,d,h,w,S,D,L)=>{var J=Nl(d,h);u=_e(u),u=su(u),S=st(w,S),ft([],[I],x=>{function U(){Lo(`Cannot call ${se} due to unbound types`,J)}x=x[0];var se=`${x.name}.${u}`;u.startsWith("@@")&&(u=Symbol[u.substring(2)]),L&&x.xa.kb.push(u);var Ae=x.xa.La,k=Ae[u];return k===void 0||k.Ba===void 0&&k.className!==x.name&&k.Oa===d-2?(U.Oa=d-2,U.className=x.name,Ae[u]=U):(Nr(Ae,u,se),Ae[u].Ba[d-2]=U),ft([],J,te=>(te=El(se,te,x,S,D),Ae[u].Ba===void 0?(te.Oa=d-2,Ae[u]=te):Ae[u].Ba[d-2]=te,[])),[]})},X:I=>St(I,Iu),x:(I,u,d,h)=>{function w(){}u=_e(u),w.values={},St(I,{name:u,constructor:w,fromWireType:function(S){return this.constructor.values[S]},toWireType:(S,D)=>D.value,argPackAdvance:8,readValueFromPointer:cf(u,d,h),Ea:null}),dr(u,w)},k:(I,u,d)=>{var h=Ml(I,"enum");u=_e(u),I=h.constructor,h=Object.create(h.constructor.prototype,{value:{value:d},constructor:{value:Sn(`${h.name}_${u}`,function(){})}}),I.values[d]=h,I[u]=h},C:(I,u,d)=>{u=_e(u),St(I,{name:u,fromWireType:h=>h,toWireType:(h,w)=>w,argPackAdvance:8,readValueFromPointer:Af(u,d),Ea:null})},E:(I,u,d,h,w,S)=>{var D=Nl(u,d);I=_e(I),I=su(I),w=st(h,w),dr(I,function(){Lo(`Cannot call ${I} due to unbound types`,D)},u-1),ft([],D,L=>(gu(I,El(I,[L[0],null].concat(L.slice(1)),null,w,S),u-1),[]))},l:(I,u,d,h,w)=>{if(u=_e(u),w===-1&&(w=4294967295),w=L=>L,h===0){var S=32-8*d;w=L=>L<<S>>>S}var D=u.includes("unsigned")?function(L,J){return J>>>0}:function(L,J){return J};St(I,{name:u,fromWireType:w,toWireType:D,argPackAdvance:8,readValueFromPointer:df(u,d,h!==0),Ea:null})},g:(I,u,d)=>{function h(S){return new w(b.buffer,G[S+4>>2],G[S>>2])}var w=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][u];d=_e(d),St(I,{name:d,fromWireType:h,argPackAdvance:8,readValueFromPointer:h},{ib:!0})},w:I=>{St(I,Iu)},ca:(I,u,d,h,w,S,D,L,J,x,U,se)=>{d=_e(d),S=st(w,S),L=st(D,L),x=st(J,x),se=st(U,se),ft([I],[u],Ae=>(Ae=Ae[0],[new Wi(d,Ae.xa,!1,!1,!0,Ae,h,S,L,x,se)]))},D:(I,u)=>{u=_e(u);var d=u==="std::string";St(I,{name:u,fromWireType:function(h){var w=G[h>>2],S=h+4;if(d)for(var D=S,L=0;L<=w;++L){var J=S+L;if(L==w||B[J]==0){if(D=D?re(B,D,J-D):"",x===void 0)var x=D;else x+="\0",x+=D;D=J+1}}else{for(x=Array(w),L=0;L<w;++L)x[L]=String.fromCharCode(B[S+L]);x=x.join("")}return kn(h),x},toWireType:function(h,w){w instanceof ArrayBuffer&&(w=new Uint8Array(w));var S=typeof w=="string";if(!(S||w instanceof Uint8Array||w instanceof Uint8ClampedArray||w instanceof Int8Array))throw new ge("Cannot pass non-string to std::string");var D=d&&S?De(w):w.length,L=Jl(4+D+1),J=L+4;if(G[L>>2]=D,d&&S)$t(w,B,J,D+1);else if(S)for(S=0;S<D;++S){var x=w.charCodeAt(S);if(255<x)throw kn(J),new ge("String has UTF-16 code units that do not fit in 8 bits");B[J+S]=x}else for(S=0;S<D;++S)B[J+S]=w[S];return h!==null&&h.push(kn,L),L},argPackAdvance:8,readValueFromPointer:lt,Ea(h){kn(h)}})},u:(I,u,d)=>{if(d=_e(d),u===2)var h=hf,w=ff,S=pf,D=L=>f[L>>1];else u===4&&(h=mf,w=yf,S=vf,D=L=>G[L>>2]);St(I,{name:d,fromWireType:L=>{for(var J=G[L>>2],x,U=L+4,se=0;se<=J;++se){var Ae=L+4+se*u;(se==J||D(Ae)==0)&&(U=h(U,Ae-U),x===void 0?x=U:(x+="\0",x+=U),U=Ae+u)}return kn(L),x},toWireType:(L,J)=>{if(typeof J!="string")throw new ge(`Cannot pass non-string to C++ string type ${d}`);var x=S(J),U=Jl(4+x+u);return G[U>>2]=x/u,w(J,U+4,x+u),L!==null&&L.push(kn,U),U},argPackAdvance:8,readValueFromPointer:lt,Ea(L){kn(L)}})},s:(I,u,d,h,w,S)=>{gt[I]={name:_e(u),Ua:st(d,h),Fa:st(w,S),Ya:[]}},j:(I,u,d,h,w,S,D,L,J,x)=>{gt[I].Ya.push({bb:_e(u),hb:d,fb:st(h,w),gb:S,nb:D,mb:st(L,J),ob:x})},Z:(I,u)=>{u=_e(u),St(I,{ub:!0,name:u,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},J:()=>{throw 1/0},aa:(I,u,d,h)=>(I=zl[I],u=Pl(u),I(null,u,d,h)),F:Dl,$:(I,u,d)=>{var h=Gf(I,u),w=h.shift();I--;var S=Array(I);return u=`methodCaller<(${h.map(D=>D.name).join(", ")}) => ${w.name}>`,bf(Sn(u,(D,L,J,x)=>{for(var U=0,se=0;se<I;++se)S[se]=h[se].readValueFromPointer(x+U),U+=h[se].argPackAdvance;return L=d===1?wf(L,S):L.apply(D,S),D=[],L=w.toWireType(D,L),D.length&&(G[J>>2]=Ho(D)),L}))},ba:I=>{9<I&&(Wn[I+1]+=1)},_:I=>{var u=Pl(I);Zt(u),Dl(I)},o:(I,u)=>(I=Ml(I,"_emval_take_value"),I=I.readValueFromPointer(u),Ho(I)),W:()=>{P("")},V:()=>performance.now(),L:I=>{var u=B.length;if(I>>>=0,2147483648<I)return!1;for(var d=1;4>=d;d*=2){var h=u*(1+.2/d);h=Math.min(h,I+100663296);var w=Math;h=Math.max(I,h);e:{w=(w.min.call(w,2147483648,h+(65536-h%65536)%65536)-y.buffer.byteLength+65535)/65536;try{y.grow(w),Y();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},S:(I,u)=>{var d=0;return Cu().forEach((h,w)=>{var S=u+d;for(w=G[I+4*w>>2]=S,S=0;S<h.length;++S)b[w++]=h.charCodeAt(S);b[w]=0,d+=h.length+1}),0},T:(I,u)=>{var d=Cu();G[I>>2]=d.length;var h=0;return d.forEach(w=>h+=w.length+1),G[u>>2]=h,0},t:()=>52,z:()=>52,H:function(){return 70},Q:(I,u,d,h)=>{for(var w=0,S=0;S<d;S++){var D=G[u>>2],L=G[u+4>>2];u+=8;for(var J=0;J<L;J++){var x=B[D+J],U=Bf[I];x===0||x===10?((I===1?C:c)(re(U,0)),U.length=0):U.push(x)}w+=L}return G[h>>2]=w,0},U:(I,u)=>(cu(B.subarray(I,I+u)),0),i:Xf,d:Vf,e:Rf,p:Lf,y:_f,b:Kf,a:Yf,h:Ff,n:Hf,G:Nf,K:(I,u,d,h)=>Wf(I,u,d,h)},Ne=function(){var d;function I(h){var w;return Ne=h.exports,y=Ne.da,Y(),Et=Ne.ha,T.unshift(Ne.ea),H--,(w=r.monitorRunDependencies)==null||w.call(r,H),H==0&&N&&(h=N,N=null,h()),Ne}var u={a:kf};if(H++,(d=r.monitorRunDependencies)==null||d.call(r,H),r.instantiateWasm)try{return r.instantiateWasm(u,I)}catch(h){c(`Module.instantiateWasm callback failed with error: ${h}`),o(h)}return le(u,function(h){I(h.instance)}).catch(o),{}}(),Jl=I=>(Jl=Ne.fa)(I),fu=I=>(fu=Ne.ga)(I),kn=I=>(kn=Ne.ia)(I),tn=(I,u)=>(tn=Ne.ja)(I,u),nn=I=>(nn=Ne.ka)(I),rn=()=>(rn=Ne.la)();r.dynCall_iijj=(I,u,d,h,w,S)=>(r.dynCall_iijj=Ne.na)(I,u,d,h,w,S),r.dynCall_vijj=(I,u,d,h,w,S)=>(r.dynCall_vijj=Ne.oa)(I,u,d,h,w,S),r.dynCall_jiii=(I,u,d,h)=>(r.dynCall_jiii=Ne.pa)(I,u,d,h),r.dynCall_jii=(I,u,d)=>(r.dynCall_jii=Ne.qa)(I,u,d);var pu=r.dynCall_viiij=(I,u,d,h,w,S)=>(pu=r.dynCall_viiij=Ne.ra)(I,u,d,h,w,S);r.dynCall_jiji=(I,u,d,h,w)=>(r.dynCall_jiji=Ne.sa)(I,u,d,h,w),r.dynCall_viijii=(I,u,d,h,w,S,D)=>(r.dynCall_viijii=Ne.ta)(I,u,d,h,w,S,D),r.dynCall_iiiiij=(I,u,d,h,w,S,D)=>(r.dynCall_iiiiij=Ne.ua)(I,u,d,h,w,S,D),r.dynCall_iiiiijj=(I,u,d,h,w,S,D,L,J)=>(r.dynCall_iiiiijj=Ne.va)(I,u,d,h,w,S,D,L,J),r.dynCall_iiiiiijj=(I,u,d,h,w,S,D,L,J,x)=>(r.dynCall_iiiiiijj=Ne.wa)(I,u,d,h,w,S,D,L,J,x);function Kf(I,u){var d=rn();try{Et.get(I)(u)}catch(h){if(nn(d),h!==h+0)throw h;tn(1,0)}}function Yf(I,u,d){var h=rn();try{Et.get(I)(u,d)}catch(w){if(nn(h),w!==w+0)throw w;tn(1,0)}}function Rf(I,u,d,h){var w=rn();try{return Et.get(I)(u,d,h)}catch(S){if(nn(w),S!==S+0)throw S;tn(1,0)}}function Vf(I,u,d){var h=rn();try{return Et.get(I)(u,d)}catch(w){if(nn(h),w!==w+0)throw w;tn(1,0)}}function Xf(I,u){var d=rn();try{return Et.get(I)(u)}catch(h){if(nn(d),h!==h+0)throw h;tn(1,0)}}function Lf(I,u,d,h,w,S){var D=rn();try{return Et.get(I)(u,d,h,w,S)}catch(L){if(nn(D),L!==L+0)throw L;tn(1,0)}}function Hf(I,u,d,h,w){var S=rn();try{Et.get(I)(u,d,h,w)}catch(D){if(nn(S),D!==D+0)throw D;tn(1,0)}}function Ff(I,u,d,h){var w=rn();try{Et.get(I)(u,d,h)}catch(S){if(nn(w),S!==S+0)throw S;tn(1,0)}}function _f(I){var u=rn();try{Et.get(I)()}catch(d){if(nn(u),d!==d+0)throw d;tn(1,0)}}function Nf(I,u,d,h,w,S){var D=rn();try{pu(I,u,d,h,w,S)}catch(L){if(nn(D),L!==L+0)throw L;tn(1,0)}}var No;N=function I(){No||mu(),No||(N=I)};function mu(){function I(){if(!No&&(No=!0,r.calledRun=!0,!v)){if(ne(T),i(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;){var u=r.postRun.shift();Z.unshift(u)}ne(Z)}}if(!(0<H)){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)K();ne(R),0<H||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),I()},1)):I())}}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return mu(),g}})(),Rb=Yb,sl=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static async _tryLoad(t){return await Rb({locateFile:()=>t})}static async _loadWithBackup(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch(async t=>{let n=`https://unpkg.com/${Yh}@${Kh}/dist/dotlottie-player.wasm`;console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${t.message}`),console.warn(`Attempting to load WASM from backup URL: ${n}`);try{return await this._tryLoad(n)}catch(r){throw console.error(`Primary WASM URL failed: ${t.message}`),console.error(`Backup WASM URL failed: ${r.message}`),new Error("WASM loading failed from all sources.")}})),this._ModulePromise}static async load(){return this._loadWithBackup()}static setWasmUrl(t){this._wasmURL=t,this._ModulePromise=null}};be(sl,"_ModulePromise",null),be(sl,"_wasmURL",`https://cdn.jsdelivr.net/npm/${Yh}@${Kh}/dist/dotlottie-player.wasm`);var Rh=class{constructor(){be(this,"_eventListeners",new Map)}addEventListener(e,t){let n=this._eventListeners.get(e);n||(n=new Set,this._eventListeners.set(e,n)),n.add(t)}removeEventListener(e,t){let n=this._eventListeners.get(e);n&&(t?(n.delete(t),n.size===0&&this._eventListeners.delete(e)):this._eventListeners.delete(e))}dispatch(e){var t;(t=this._eventListeners.get(e.type))==null||t.forEach(n=>n(e))}removeAllEventListeners(){this._eventListeners.clear()}};function Vb(e){return/^#([\da-f]{6}|[\da-f]{8})$/iu.test(e)}function Xb(e){if(!Vb(e))return 0;let t=e.replace("#","");return t=t.length===6?`${t}ff`:t,parseInt(t,16)}function ac(e){if(e.byteLength<4)return!1;let t=new Uint8Array(e.slice(0,Sa.byteLength));for(let n=0;n<Sa.length;n+=1)if(Sa[n]!==t[n])return!1;return!0}function sc(e){return Kb.every(t=>Object.prototype.hasOwnProperty.call(e,t))}function Ic(e){if(typeof e=="string")try{return sc(JSON.parse(e))}catch{return!1}else return sc(e)}var Wa=(e,t)=>e==="reverse"?t.Mode.Reverse:e==="bounce"?t.Mode.Bounce:e==="reverse-bounce"?t.Mode.ReverseBounce:t.Mode.Forward,ka=(e,t)=>e==="contain"?t.Fit.Contain:e==="cover"?t.Fit.Cover:e==="fill"?t.Fit.Fill:e==="fit-height"?t.Fit.FitHeight:e==="fit-width"?t.Fit.FitWidth:t.Fit.None,Ka=(e,t)=>{let n=new t.VectorFloat;return n.push_back(e[0]),n.push_back(e[1]),n},Ya=(e,t)=>{let n=new t.VectorFloat;return e.length!==2||(n.push_back(e[0]),n.push_back(e[1])),n},Vh=class Ze{constructor(t){be(this,"_canvas"),be(this,"_context",null),be(this,"_eventManager"),be(this,"_animationFrameId",null),be(this,"_frameManager"),be(this,"_dotLottieCore",null),be(this,"_renderConfig",{}),be(this,"_isFrozen",!1),be(this,"_backgroundColor",null),this._canvas=t.canvas,this._context=this._canvas.getContext("2d"),this._eventManager=new Rh,this._frameManager=new kb,this._renderConfig=t.renderConfig??{},sl.load().then(n=>{Ze._wasmModule=n,this._dotLottieCore=new n.DotLottiePlayer({autoplay:t.autoplay??!1,backgroundColor:0,loopAnimation:t.loop??!1,mode:Wa(t.mode??"forward",n),segment:Ya(t.segment??[],n),speed:t.speed??1,useFrameInterpolation:t.useFrameInterpolation??!0,marker:t.marker??"",layout:t.layout?{align:Ka(t.layout.align,n),fit:ka(t.layout.fit,n)}:n.createDefaultLayout()}),this._eventManager.dispatch({type:"ready"}),t.data?this._loadFromData(t.data):t.src&&this._loadFromSrc(t.src),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor)}).catch(n=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${n}`)})})}_dispatchError(t){console.error(t),this._eventManager.dispatch({type:"loadError",error:new Error(t)})}async _fetchData(t){let n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch animation data from URL: ${t}. ${n.status}: ${n.statusText}`);let r=await n.arrayBuffer();return ac(r)?r:new TextDecoder().decode(r)}_loadFromData(t){if(this._dotLottieCore===null)return;let n=this._canvas.width,r=this._canvas.height,i=!1;if(typeof t=="string"){if(!Ic(t)){this._dispatchError("Invalid Lottie JSON string: The provided string does not conform to the Lottie JSON format.");return}i=this._dotLottieCore.loadAnimationData(t,n,r)}else if(t instanceof ArrayBuffer){if(!ac(t)){this._dispatchError("Invalid dotLottie ArrayBuffer: The provided ArrayBuffer does not conform to the dotLottie format.");return}i=this._dotLottieCore.loadDotLottieData(t,n,r)}else if(typeof t=="object"){if(!Ic(t)){this._dispatchError("Invalid Lottie JSON object: The provided object does not conform to the Lottie JSON format.");return}i=this._dotLottieCore.loadAnimationData(JSON.stringify(t),n,r)}else{this._dispatchError(`Unsupported data type for animation data. Expected: 
          - string (Lottie JSON),
          - ArrayBuffer (dotLottie),
          - object (Lottie JSON). 
          Received: ${typeof t}`);return}i?(this._eventManager.dispatch({type:"load"}),vr&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()?(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))):console.error("something went wrong, the animation was suppose to autoplay"))):this._dispatchError("Failed to load animation data")}_loadFromSrc(t){this._fetchData(t).then(n=>this._loadFromData(n)).catch(n=>this._dispatchError(`Failed to load animation data from URL: ${t}. ${n}`))}get activeAnimationId(){var t;return(t=this._dotLottieCore)==null?void 0:t.activeAnimationId()}get activeThemeId(){var t;return(t=this._dotLottieCore)==null?void 0:t.activeThemeId()}get layout(){var n;let t=(n=this._dotLottieCore)==null?void 0:n.config().layout;if(t)return{align:[t.align.get(0),t.align.get(1)],fit:(()=>{var r,i,o,g,l,a;switch(t.fit){case((r=Ze._wasmModule)==null?void 0:r.Fit.Contain):return"contain";case((i=Ze._wasmModule)==null?void 0:i.Fit.Cover):return"cover";case((o=Ze._wasmModule)==null?void 0:o.Fit.Fill):return"fill";case((g=Ze._wasmModule)==null?void 0:g.Fit.FitHeight):return"fit-height";case((l=Ze._wasmModule)==null?void 0:l.Fit.FitWidth):return"fit-width";case((a=Ze._wasmModule)==null?void 0:a.Fit.None):return"none";default:return"contain"}})()}}get marker(){var t;return(t=this._dotLottieCore)==null?void 0:t.config().marker}get manifest(){var t;try{let n=(t=this._dotLottieCore)==null?void 0:t.manifestString();if(this._dotLottieCore===null||!n)return null;let r=JSON.parse(n);return Object.keys(r).length===0?null:r}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){var n;let t=(n=this._dotLottieCore)==null?void 0:n.config().segment;if(t&&t.size()===2)return[t.get(0),t.get(1)]}get loop(){var t;return((t=this._dotLottieCore)==null?void 0:t.config().loopAnimation)??!1}get mode(){var n,r,i,o;let t=(n=this._dotLottieCore)==null?void 0:n.config().mode;return t===((r=Ze._wasmModule)==null?void 0:r.Mode.Reverse)?"reverse":t===((i=Ze._wasmModule)==null?void 0:i.Mode.Bounce)?"bounce":t===((o=Ze._wasmModule)==null?void 0:o.Mode.ReverseBounce)?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){var t;return((t=this._dotLottieCore)==null?void 0:t.config().autoplay)??!1}get useFrameInterpolation(){var t;return((t=this._dotLottieCore)==null?void 0:t.config().useFrameInterpolation)??!1}get speed(){var t;return((t=this._dotLottieCore)==null?void 0:t.config().speed)??0}get isReady(){return this._dotLottieCore!==null}get isLoaded(){var t;return((t=this._dotLottieCore)==null?void 0:t.isLoaded())??!1}get isPlaying(){var t;return((t=this._dotLottieCore)==null?void 0:t.isPlaying())??!1}get isPaused(){var t;return((t=this._dotLottieCore)==null?void 0:t.isPaused())??!1}get isStopped(){var t;return((t=this._dotLottieCore)==null?void 0:t.isStopped())??!1}get currentFrame(){var t;return((t=this._dotLottieCore)==null?void 0:t.currentFrame())??0}get loopCount(){var t;return((t=this._dotLottieCore)==null?void 0:t.loopCount())??0}get totalFrames(){var t;return((t=this._dotLottieCore)==null?void 0:t.totalFrames())??0}get duration(){var t;return((t=this._dotLottieCore)==null?void 0:t.duration())??0}get segmentDuration(){var t;return((t=this._dotLottieCore)==null?void 0:t.segmentDuration())??0}get canvas(){return this._canvas}load(t){this._dotLottieCore===null||Ze._wasmModule===null||(this._dotLottieCore.setConfig({autoplay:t.autoplay??!1,backgroundColor:0,loopAnimation:t.loop??!1,mode:Wa(t.mode??"forward",Ze._wasmModule),segment:Ya(t.segment??[],Ze._wasmModule),speed:t.speed??1,useFrameInterpolation:t.useFrameInterpolation??!0,marker:t.marker??"",layout:t.layout?{align:Ka(t.layout.align,Ze._wasmModule),fit:ka(t.layout.fit,Ze._wasmModule)}:Ze._wasmModule.createDefaultLayout()}),t.data?this._loadFromData(t.data):t.src&&this._loadFromSrc(t.src),this.setBackgroundColor(t.backgroundColor??""))}_render(){if(this._dotLottieCore===null||this._context===null)return!1;if(this._dotLottieCore.render()){let t=this._dotLottieCore.buffer(),n=new Uint8ClampedArray(t,0,this._canvas.width*this._canvas.height*4),r=null;return typeof ImageData>"u"?(r=this._context.createImageData(this._canvas.width,this._canvas.height),r.data.set(n)):r=new ImageData(n,this._canvas.width,this._canvas.height),this._context.putImageData(r,0,0),this._eventManager.dispatch({type:"render",currentFrame:this._dotLottieCore.currentFrame()}),!0}return!1}_draw(){if(this._dotLottieCore===null||this._context===null||!this._dotLottieCore.isPlaying())return;let t=this._dotLottieCore.requestFrame();this._dotLottieCore.setFrame(t)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render()&&this._dotLottieCore.isComplete()&&(this._dotLottieCore.config().loopAnimation?this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()}):this._eventManager.dispatch({type:"complete"}))),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))}play(){if(this._dotLottieCore===null)return;let t=this._dotLottieCore.play();this._isFrozen=!1,t&&(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)))}pause(){this._dotLottieCore!==null&&this._dotLottieCore.pause()&&this._eventManager.dispatch({type:"pause"})}stop(){this._dotLottieCore!==null&&this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._eventManager.dispatch({type:"stop"}))}setFrame(t){this._dotLottieCore===null||t<0||t>this._dotLottieCore.totalFrames()||this._dotLottieCore.seek(t)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render())}setSpeed(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),speed:t})}setBackgroundColor(t){this._dotLottieCore!==null&&(vr&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=t:this._dotLottieCore.setConfig({...this._dotLottieCore.config(),backgroundColor:Xb(t)}),this._backgroundColor=t)}setLoop(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),loopAnimation:t})}setUseFrameInterpolation(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),useFrameInterpolation:t})}addEventListener(t,n){this._eventManager.addEventListener(t,n)}removeEventListener(t,n){this._eventManager.removeEventListener(t,n)}destroy(){var t;(t=this._dotLottieCore)==null||t.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners()}freeze(){this._animationFrameId!==null&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=!0,this._eventManager.dispatch({type:"freeze"}))}unfreeze(){this._animationFrameId===null&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=!1,this._eventManager.dispatch({type:"unfreeze"}))}resize(){var t;if(vr&&this._canvas instanceof HTMLCanvasElement){let n=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:r,width:i}=this._canvas.getBoundingClientRect();this._canvas.width=i*n,this._canvas.height=r*n}(t=this._dotLottieCore)!=null&&t.resize(this._canvas.width,this._canvas.height)&&this._render()}setSegment(t,n){this._dotLottieCore===null||Ze._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),segment:Ya([t,n],Ze._wasmModule)})}setMode(t){this._dotLottieCore===null||Ze._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),mode:Wa(t,Ze._wasmModule)})}setRenderConfig(t){this._renderConfig=t}loadAnimation(t){this._dotLottieCore===null||this._dotLottieCore.activeAnimationId()===t||(this._dotLottieCore.loadAnimation(t,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${t}`)}))}setMarker(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),marker:t})}markers(){var n;let t=(n=this._dotLottieCore)==null?void 0:n.markers();if(t){let r=[];for(let i=0;i<t.size();i+=1){let o=t.get(i);r.push({name:o.name,time:o.time,duration:o.duration})}return r}return[]}loadTheme(t){if(this._dotLottieCore===null)return!1;let n=this._dotLottieCore.loadTheme(t);return this._render(),n}loadThemeData(t){if(this._dotLottieCore===null)return!1;let n=this._dotLottieCore.loadThemeData(t);return this._render(),n}setLayout(t){this._dotLottieCore===null||Ze._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),layout:{align:Ka(t.align,Ze._wasmModule),fit:ka(t.fit,Ze._wasmModule)}})}setViewport(t,n,r,i){return this._dotLottieCore===null?!1:this._dotLottieCore.setViewport(t,n,r,i)}static setWasmUrl(t){sl.setWasmUrl(t)}loadStateMachine(t){var n;return((n=this._dotLottieCore)==null?void 0:n.loadStateMachine(t))??!1}startStateMachine(){var n;let t=((n=this._dotLottieCore)==null?void 0:n.startStateMachine())??!1;return t&&this._setupStateMachineListeners(),t}stopStateMachine(){var n;let t=((n=this._dotLottieCore)==null?void 0:n.stopStateMachine())??!1;return t&&this._cleanupStateMachineListeners(),t}_getPointerPosition(t){let n=this._canvas.getBoundingClientRect(),r=this._canvas.width/n.width,i=this._canvas.height/n.height,o=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,g=(t.clientX-n.left)*r/o,l=(t.clientY-n.top)*i/o;return{x:g,y:l}}_onPointerUp(t){let{x:n,y:r}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerUp: ${n} ${r}`)}_onPointerDown(t){let{x:n,y:r}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerDown: ${n} ${r}`)}_onPointerMove(t){let{x:n,y:r}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerMove: ${n} ${r}`)}_onPointerEnter(t){let{x:n,y:r}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerEnter: ${n} ${r}`)}_onPointerLeave(t){let{x:n,y:r}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerExit: ${n} ${r}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}postStateMachineEvent(t){var n;return((n=this._dotLottieCore)==null?void 0:n.postEventPayload(t))??!1}getStateMachineListeners(){if(!this._dotLottieCore)return[];let t=this._dotLottieCore.stateMachineFrameworkSetup(),n=[];for(let r=0;r<t.size();r+=1)n.push(t.get(r));return n}_setupStateMachineListeners(){if(vr&&this._canvas instanceof HTMLCanvasElement&&this._dotLottieCore!==null&&this.isLoaded){let t=this.getStateMachineListeners();t.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),t.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),t.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),t.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),t.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),t.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this))}}_cleanupStateMachineListeners(){vr&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)))}loadStateMachineData(t){var n;return((n=this._dotLottieCore)==null?void 0:n.loadStateMachineData(t))??!1}animationSize(){var r,i;let t=((r=this._dotLottieCore)==null?void 0:r.animationSize().get(0))??0,n=((i=this._dotLottieCore)==null?void 0:i.animationSize().get(1))??0;return{width:t,height:n}}setStateMachineBooleanContext(t,n){var r;return((r=this._dotLottieCore)==null?void 0:r.setStateMachineBooleanContext(t,n))??!1}setStateMachineNumericContext(t,n){var r;return((r=this._dotLottieCore)==null?void 0:r.setStateMachineNumericContext(t,n))??!1}setStateMachineStringContext(t,n){var r;return((r=this._dotLottieCore)==null?void 0:r.setStateMachineStringContext(t,n))??!1}};be(Vh,"_wasmModule",null);var Xh=Vh,Lb=class extends Worker{constructor(){super("data:application/javascript;base64,InVzZSBzdHJpY3QiOwooKCkgPT4gewogIHZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7CiAgdmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlOwogIHZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gInN5bWJvbCIgPyBrZXkgKyAiIiA6IGtleSwgdmFsdWUpOwoKICAvLyBzcmMvYW5pbWF0aW9uLWZyYW1lLW1hbmFnZXIudHMKICB2YXIgV2ViQW5pbWF0aW9uRnJhbWVTdHJhdGVneSA9IGNsYXNzIHsKICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjaykgewogICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKTsKICAgIH0KICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKSB7CiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTsKICAgIH0KICB9OwogIHZhciBOb2RlQW5pbWF0aW9uRnJhbWVTdHJhdGVneSA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfbGFzdEhhbmRsZUlkIiwgMCk7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9sYXN0SW1tZWRpYXRlIiwgbnVsbCk7CiAgICB9CiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spIHsKICAgICAgaWYgKHRoaXMuX2xhc3RIYW5kbGVJZCA+PSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikgewogICAgICAgIHRoaXMuX2xhc3RIYW5kbGVJZCA9IDA7CiAgICAgIH0KICAgICAgdGhpcy5fbGFzdEhhbmRsZUlkICs9IDE7CiAgICAgIHRoaXMuX2xhc3RJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGUoKCkgPT4gewogICAgICAgIGNhbGxiYWNrKERhdGUubm93KCkpOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRoaXMuX2xhc3RIYW5kbGVJZDsKICAgIH0KICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKF9pZCkgewogICAgICBpZiAodGhpcy5fbGFzdEltbWVkaWF0ZSkgewogICAgICAgIGNsZWFySW1tZWRpYXRlKHRoaXMuX2xhc3RJbW1lZGlhdGUpOwogICAgICB9CiAgICB9CiAgfTsKICB2YXIgQW5pbWF0aW9uRnJhbWVNYW5hZ2VyID0gY2xhc3MgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9zdHJhdGVneSIpOwogICAgICB0aGlzLl9zdHJhdGVneSA9IHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09ICJmdW5jdGlvbiIgPyBuZXcgV2ViQW5pbWF0aW9uRnJhbWVTdHJhdGVneSgpIDogbmV3IE5vZGVBbmltYXRpb25GcmFtZVN0cmF0ZWd5KCk7CiAgICB9CiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spIHsKICAgICAgcmV0dXJuIHRoaXMuX3N0cmF0ZWd5LnJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjayk7CiAgICB9CiAgICBjYW5jZWxBbmltYXRpb25GcmFtZShpZCkgewogICAgICB0aGlzLl9zdHJhdGVneS5jYW5jZWxBbmltYXRpb25GcmFtZShpZCk7CiAgICB9CiAgfTsKCiAgLy8gc3JjL2NvbnN0YW50cy50cwogIHZhciBJU19CUk9XU0VSID0gdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gInVuZGVmaW5lZCI7CiAgdmFyIFpJUF9TSUdOQVRVUkUgPSBuZXcgVWludDhBcnJheShbODAsIDc1LCAzLCA0XSk7CiAgdmFyIExPVFRJRV9KU09OX01BTkRBVE9SWV9GSUVMRFMgPSBbInYiLCAiaXAiLCAib3AiLCAibGF5ZXJzIiwgImZyIiwgInciLCAiaCJdOwogIHZhciBQQUNLQUdFX1ZFUlNJT04gPSAiMC4yOS4yIjsKICB2YXIgUEFDS0FHRV9OQU1FID0gIkBsb3R0aWVmaWxlcy9kb3Rsb3R0aWUtd2ViIjsKCiAgLy8gc3JjL2NvcmUvZG90bG90dGllLXBsYXllci5qcwogIHZhciBjcmVhdGVEb3RMb3R0aWVQbGF5ZXJNb2R1bGUgPSAoKCkgPT4gewogICAgdmFyIF9zY3JpcHREaXIgPSB0eXBlb2YgZG9jdW1lbnQgIT0gInVuZGVmaW5lZCIgPyBkb2N1bWVudC5jdXJyZW50U2NyaXB0Py5zcmMgOiB2b2lkIDA7CiAgICByZXR1cm4gZnVuY3Rpb24obW9kdWxlQXJnID0ge30pIHsKICAgICAgdmFyIGsgPSBtb2R1bGVBcmcsIGFhLCBiYSwgcmVhZHlQcm9taXNlID0gbmV3IFByb21pc2UoKGEsIGIpID0+IHsKICAgICAgICBhYSA9IGE7CiAgICAgICAgYmEgPSBiOwogICAgICB9KSwgY2EgPSBPYmplY3QuYXNzaWduKHt9LCBrKSwgZGEgPSAiLi90aGlzLnByb2dyYW0iLCB0ID0gIiI7CiAgICAgICJ1bmRlZmluZWQiICE9IHR5cGVvZiBkb2N1bWVudCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmICh0ID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpOwogICAgICBfc2NyaXB0RGlyICYmICh0ID0gX3NjcmlwdERpcik7CiAgICAgIHQuc3RhcnRzV2l0aCgiYmxvYjoiKSA/IHQgPSAiIiA6IHQgPSB0LnN1YnN0cigwLCB0LnJlcGxhY2UoL1s/I10uKi8sICIiKS5sYXN0SW5kZXhPZigiLyIpICsgMSk7CiAgICAgIHZhciBlYSA9IGsucHJpbnQgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKSwgdyA9IGsucHJpbnRFcnIgfHwgY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpOwogICAgICBPYmplY3QuYXNzaWduKGssIGNhKTsKICAgICAgY2EgPSBudWxsOwogICAgICBrLnRoaXNQcm9ncmFtICYmIChkYSA9IGsudGhpc1Byb2dyYW0pOwogICAgICB2YXIgeDsKICAgICAgay53YXNtQmluYXJ5ICYmICh4ID0gay53YXNtQmluYXJ5KTsKICAgICAgdmFyIGZhLCBoYSA9IGZhbHNlLCB5LCBBLCBCLCBDLCBFLCBGLCBqYSwga2E7CiAgICAgIGZ1bmN0aW9uIGxhKCkgewogICAgICAgIHZhciBhID0gZmEuYnVmZmVyOwogICAgICAgIGsuSEVBUDggPSB5ID0gbmV3IEludDhBcnJheShhKTsKICAgICAgICBrLkhFQVAxNiA9IEIgPSBuZXcgSW50MTZBcnJheShhKTsKICAgICAgICBrLkhFQVBVOCA9IEEgPSBuZXcgVWludDhBcnJheShhKTsKICAgICAgICBrLkhFQVBVMTYgPSBDID0gbmV3IFVpbnQxNkFycmF5KGEpOwogICAgICAgIGsuSEVBUDMyID0gRSA9IG5ldyBJbnQzMkFycmF5KGEpOwogICAgICAgIGsuSEVBUFUzMiA9IEYgPSBuZXcgVWludDMyQXJyYXkoYSk7CiAgICAgICAgay5IRUFQRjMyID0gamEgPSBuZXcgRmxvYXQzMkFycmF5KGEpOwogICAgICAgIGsuSEVBUEY2NCA9IGthID0gbmV3IEZsb2F0NjRBcnJheShhKTsKICAgICAgfQogICAgICB2YXIgbWEgPSBbXSwgbmEgPSBbXSwgb2EgPSBbXTsKICAgICAgZnVuY3Rpb24gcGEoKSB7CiAgICAgICAgdmFyIGEgPSBrLnByZVJ1bi5zaGlmdCgpOwogICAgICAgIG1hLnVuc2hpZnQoYSk7CiAgICAgIH0KICAgICAgdmFyIEcgPSAwLCBxYSA9IG51bGwsIEggPSBudWxsOwogICAgICBmdW5jdGlvbiByYShhKSB7CiAgICAgICAgay5vbkFib3J0Py4oYSk7CiAgICAgICAgYSA9ICJBYm9ydGVkKCIgKyBhICsgIikiOwogICAgICAgIHcoYSk7CiAgICAgICAgaGEgPSB0cnVlOwogICAgICAgIGEgPSBuZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKGEgKyAiLiBCdWlsZCB3aXRoIC1zQVNTRVJUSU9OUyBmb3IgbW9yZSBpbmZvLiIpOwogICAgICAgIGJhKGEpOwogICAgICAgIHRocm93IGE7CiAgICAgIH0KICAgICAgdmFyIHNhID0gKGEpID0+IGEuc3RhcnRzV2l0aCgiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCIpLCBJOwogICAgICBJID0gIkRvdExvdHRpZVBsYXllci53YXNtIjsKICAgICAgaWYgKCFzYShJKSkgewogICAgICAgIHZhciB0YSA9IEk7CiAgICAgICAgSSA9IGsubG9jYXRlRmlsZSA/IGsubG9jYXRlRmlsZSh0YSwgdCkgOiB0ICsgdGE7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gdWEoYSkgewogICAgICAgIGlmIChhID09IEkgJiYgeCkgcmV0dXJuIG5ldyBVaW50OEFycmF5KHgpOwogICAgICAgIHRocm93ICJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCI7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gdmEoYSkgewogICAgICAgIHJldHVybiB4IHx8ICJmdW5jdGlvbiIgIT0gdHlwZW9mIGZldGNoID8gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB1YShhKSkgOiBmZXRjaChhLCB7IGNyZWRlbnRpYWxzOiAic2FtZS1vcmlnaW4iIH0pLnRoZW4oKGIpID0+IHsKICAgICAgICAgIGlmICghYi5vaykgdGhyb3cgYGZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyR7YX0nYDsKICAgICAgICAgIHJldHVybiBiLmFycmF5QnVmZmVyKCk7CiAgICAgICAgfSkuY2F0Y2goKCkgPT4gdWEoYSkpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHdhKGEsIGIsIGMpIHsKICAgICAgICByZXR1cm4gdmEoYSkudGhlbigoZCkgPT4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoZCwgYikpLnRoZW4oYywgKGQpID0+IHsKICAgICAgICAgIHcoYGZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICR7ZH1gKTsKICAgICAgICAgIHJhKGQpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHhhKGEsIGIpIHsKICAgICAgICB2YXIgYyA9IEk7CiAgICAgICAgcmV0dXJuIHggfHwgImZ1bmN0aW9uIiAhPSB0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcgfHwgc2EoYykgfHwgImZ1bmN0aW9uIiAhPSB0eXBlb2YgZmV0Y2ggPyB3YShjLCBhLCBiKSA6IGZldGNoKGMsIHsgY3JlZGVudGlhbHM6ICJzYW1lLW9yaWdpbiIgfSkudGhlbigKICAgICAgICAgIChkKSA9PiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhkLCBhKS50aGVuKGIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgdyhgd2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICR7ZX1gKTsKICAgICAgICAgICAgdygiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKTsKICAgICAgICAgICAgcmV0dXJuIHdhKGMsIGEsIGIpOwogICAgICAgICAgfSkKICAgICAgICApOwogICAgICB9CiAgICAgIHZhciB5YSA9IChhKSA9PiB7CiAgICAgICAgZm9yICg7IDAgPCBhLmxlbmd0aDsgKSBhLnNoaWZ0KCkoayk7CiAgICAgIH0sIHphID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIFRleHREZWNvZGVyID8gbmV3IFRleHREZWNvZGVyKCJ1dGY4IikgOiB2b2lkIDAsIEogPSAoYSwgYiwgYykgPT4gewogICAgICAgIHZhciBkID0gYiArIGM7CiAgICAgICAgZm9yIChjID0gYjsgYVtjXSAmJiAhKGMgPj0gZCk7ICkgKytjOwogICAgICAgIGlmICgxNiA8IGMgLSBiICYmIGEuYnVmZmVyICYmIHphKSByZXR1cm4gemEuZGVjb2RlKGEuc3ViYXJyYXkoYiwgYykpOwogICAgICAgIGZvciAoZCA9ICIiOyBiIDwgYzsgKSB7CiAgICAgICAgICB2YXIgZSA9IGFbYisrXTsKICAgICAgICAgIGlmIChlICYgMTI4KSB7CiAgICAgICAgICAgIHZhciBmID0gYVtiKytdICYgNjM7CiAgICAgICAgICAgIGlmICgxOTIgPT0gKGUgJiAyMjQpKSBkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGUgJiAzMSkgPDwgNiB8IGYpOwogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICB2YXIgbCA9IGFbYisrXSAmIDYzOwogICAgICAgICAgICAgIGUgPSAyMjQgPT0gKGUgJiAyNDApID8gKGUgJiAxNSkgPDwgMTIgfCBmIDw8IDYgfCBsIDogKGUgJiA3KSA8PCAxOCB8IGYgPDwgMTIgfCBsIDw8IDYgfCBhW2IrK10gJiA2MzsKICAgICAgICAgICAgICA2NTUzNiA+IGUgPyBkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoZSkgOiAoZSAtPSA2NTUzNiwgZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2IHwgZSA+PiAxMCwgNTYzMjAgfCBlICYgMTAyMykpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZDsKICAgICAgfTsKICAgICAgY2xhc3MgQWEgewogICAgICAgIGNvbnN0cnVjdG9yKGEpIHsKICAgICAgICAgIHRoaXMueWEgPSBhIC0gMjQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBCYSA9IDAsIENhID0gMCwgRGEgPSAoYSkgPT4gewogICAgICAgIGZvciAodmFyIGIgPSAwLCBjID0gMDsgYyA8IGEubGVuZ3RoOyArK2MpIHsKICAgICAgICAgIHZhciBkID0gYS5jaGFyQ29kZUF0KGMpOwogICAgICAgICAgMTI3ID49IGQgPyBiKysgOiAyMDQ3ID49IGQgPyBiICs9IDIgOiA1NTI5NiA8PSBkICYmIDU3MzQzID49IGQgPyAoYiArPSA0LCArK2MpIDogYiArPSAzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYjsKICAgICAgfSwgRWEgPSAoYSwgYiwgYywgZCkgPT4gewogICAgICAgIGlmICgwIDwgZCkgewogICAgICAgICAgZCA9IGMgKyBkIC0gMTsKICAgICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgYS5sZW5ndGg7ICsrZSkgewogICAgICAgICAgICB2YXIgZiA9IGEuY2hhckNvZGVBdChlKTsKICAgICAgICAgICAgaWYgKDU1Mjk2IDw9IGYgJiYgNTczNDMgPj0gZikgewogICAgICAgICAgICAgIHZhciBsID0gYS5jaGFyQ29kZUF0KCsrZSk7CiAgICAgICAgICAgICAgZiA9IDY1NTM2ICsgKChmICYgMTAyMykgPDwgMTApIHwgbCAmIDEwMjM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKDEyNyA+PSBmKSB7CiAgICAgICAgICAgICAgaWYgKGMgPj0gZCkgYnJlYWs7CiAgICAgICAgICAgICAgYltjKytdID0gZjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAoMjA0NyA+PSBmKSB7CiAgICAgICAgICAgICAgICBpZiAoYyArIDEgPj0gZCkgYnJlYWs7CiAgICAgICAgICAgICAgICBiW2MrK10gPSAxOTIgfCBmID4+IDY7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmICg2NTUzNSA+PSBmKSB7CiAgICAgICAgICAgICAgICAgIGlmIChjICsgMiA+PSBkKSBicmVhazsKICAgICAgICAgICAgICAgICAgYltjKytdID0gMjI0IHwgZiA+PiAxMjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGlmIChjICsgMyA+PSBkKSBicmVhazsKICAgICAgICAgICAgICAgICAgYltjKytdID0gMjQwIHwgZiA+PiAxODsKICAgICAgICAgICAgICAgICAgYltjKytdID0gMTI4IHwgZiA+PiAxMiAmIDYzOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYltjKytdID0gMTI4IHwgZiA+PiA2ICYgNjM7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJbYysrXSA9IDEyOCB8IGYgJiA2MzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgYltjXSA9IDA7CiAgICAgICAgfQogICAgICB9LCBGYSA9IHt9LCBHYSA9IChhKSA9PiB7CiAgICAgICAgZm9yICg7IGEubGVuZ3RoOyApIHsKICAgICAgICAgIHZhciBiID0gYS5wb3AoKTsKICAgICAgICAgIGEucG9wKCkoYik7CiAgICAgICAgfQogICAgICB9OwogICAgICBmdW5jdGlvbiBLKGEpIHsKICAgICAgICByZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUoRlthID4+IDJdKTsKICAgICAgfQogICAgICB2YXIgTCA9IHt9LCBNID0ge30sIEhhID0ge30sIElhLCBQID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBmdW5jdGlvbiBkKGgpIHsKICAgICAgICAgIGggPSBjKGgpOwogICAgICAgICAgaWYgKGgubGVuZ3RoICE9PSBhLmxlbmd0aCkgdGhyb3cgbmV3IElhKCJNaXNtYXRjaGVkIHR5cGUgY29udmVydGVyIGNvdW50Iik7CiAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGEubGVuZ3RoOyArK24pIE8oYVtuXSwgaFtuXSk7CiAgICAgICAgfQogICAgICAgIGEuZm9yRWFjaChmdW5jdGlvbihoKSB7CiAgICAgICAgICBIYVtoXSA9IGI7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGUgPSBBcnJheShiLmxlbmd0aCksIGYgPSBbXSwgbCA9IDA7CiAgICAgICAgYi5mb3JFYWNoKChoLCBuKSA9PiB7CiAgICAgICAgICBNLmhhc093blByb3BlcnR5KGgpID8gZVtuXSA9IE1baF0gOiAoZi5wdXNoKGgpLCBMLmhhc093blByb3BlcnR5KGgpIHx8IChMW2hdID0gW10pLCBMW2hdLnB1c2goKCkgPT4gewogICAgICAgICAgICBlW25dID0gTVtoXTsKICAgICAgICAgICAgKytsOwogICAgICAgICAgICBsID09PSBmLmxlbmd0aCAmJiBkKGUpOwogICAgICAgICAgfSkpOwogICAgICAgIH0pOwogICAgICAgIDAgPT09IGYubGVuZ3RoICYmIGQoZSk7CiAgICAgIH0sIEphLCBRID0gKGEpID0+IHsKICAgICAgICBmb3IgKHZhciBiID0gIiI7IEFbYV07ICkgYiArPSBKYVtBW2ErK11dOwogICAgICAgIHJldHVybiBiOwogICAgICB9LCBSOwogICAgICBmdW5jdGlvbiBLYShhLCBiLCBjID0ge30pIHsKICAgICAgICB2YXIgZCA9IGIubmFtZTsKICAgICAgICBpZiAoIWEpIHRocm93IG5ldyBSKGB0eXBlICIke2R9IiBtdXN0IGhhdmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIHR5cGVpZCBwb2ludGVyYCk7CiAgICAgICAgaWYgKE0uaGFzT3duUHJvcGVydHkoYSkpIHsKICAgICAgICAgIGlmIChjLmliKSByZXR1cm47CiAgICAgICAgICB0aHJvdyBuZXcgUihgQ2Fubm90IHJlZ2lzdGVyIHR5cGUgJyR7ZH0nIHR3aWNlYCk7CiAgICAgICAgfQogICAgICAgIE1bYV0gPSBiOwogICAgICAgIGRlbGV0ZSBIYVthXTsKICAgICAgICBMLmhhc093blByb3BlcnR5KGEpICYmIChiID0gTFthXSwgZGVsZXRlIExbYV0sIGIuZm9yRWFjaCgoZSkgPT4gZSgpKSk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gTyhhLCBiLCBjID0ge30pIHsKICAgICAgICBpZiAoISgiYXJnUGFja0FkdmFuY2UiIGluIGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWdpc3RlclR5cGUgcmVnaXN0ZXJlZEluc3RhbmNlIHJlcXVpcmVzIGFyZ1BhY2tBZHZhbmNlIik7CiAgICAgICAgcmV0dXJuIEthKGEsIGIsIGMpOwogICAgICB9CiAgICAgIHZhciBMYSA9IChhKSA9PiB7CiAgICAgICAgdGhyb3cgbmV3IFIoYS5tYS56YS54YS5uYW1lICsgIiBpbnN0YW5jZSBhbHJlYWR5IGRlbGV0ZWQiKTsKICAgICAgfSwgTWEgPSBmYWxzZSwgT2EgPSAoKSA9PiB7CiAgICAgIH0sIFBhID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBpZiAoYiA9PT0gYykgcmV0dXJuIGE7CiAgICAgICAgaWYgKHZvaWQgMCA9PT0gYy5DYSkgcmV0dXJuIG51bGw7CiAgICAgICAgYSA9IFBhKGEsIGIsIGMuQ2EpOwogICAgICAgIHJldHVybiBudWxsID09PSBhID8gbnVsbCA6IGMuYWIoYSk7CiAgICAgIH0sIFFhID0ge30sIFJhID0gW10sIFNhID0gKCkgPT4gewogICAgICAgIGZvciAoOyBSYS5sZW5ndGg7ICkgewogICAgICAgICAgdmFyIGEgPSBSYS5wb3AoKTsKICAgICAgICAgIGEubWEuS2EgPSBmYWxzZTsKICAgICAgICAgIGFbImRlbGV0ZSJdKCk7CiAgICAgICAgfQogICAgICB9LCBUYSwgVWEgPSB7fSwgVmEgPSAoYSwgYikgPT4gewogICAgICAgIGlmICh2b2lkIDAgPT09IGIpIHRocm93IG5ldyBSKCJwdHIgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQiKTsKICAgICAgICBmb3IgKDsgYS5DYTsgKSBiID0gYS5OYShiKSwgYSA9IGEuQ2E7CiAgICAgICAgcmV0dXJuIFVhW2JdOwogICAgICB9LCBYYSA9IChhLCBiKSA9PiB7CiAgICAgICAgaWYgKCFiLnphIHx8ICFiLnlhKSB0aHJvdyBuZXcgSWEoIm1ha2VDbGFzc0hhbmRsZSByZXF1aXJlcyBwdHIgYW5kIHB0clR5cGUiKTsKICAgICAgICBpZiAoISFiLkRhICE9PSAhIWIuQWEpIHRocm93IG5ldyBJYSgiQm90aCBzbWFydFB0clR5cGUgYW5kIHNtYXJ0UHRyIG11c3QgYmUgc3BlY2lmaWVkIik7CiAgICAgICAgYi5jb3VudCA9IHsgdmFsdWU6IDEgfTsKICAgICAgICByZXR1cm4gV2EoT2JqZWN0LmNyZWF0ZShhLCB7IG1hOiB7IHZhbHVlOiBiLCB3cml0YWJsZTogdHJ1ZSB9IH0pKTsKICAgICAgfSwgV2EgPSAoYSkgPT4gewogICAgICAgIGlmICgidW5kZWZpbmVkIiA9PT0gdHlwZW9mIEZpbmFsaXphdGlvblJlZ2lzdHJ5KSByZXR1cm4gV2EgPSAoYikgPT4gYiwgYTsKICAgICAgICBNYSA9IG5ldyBGaW5hbGl6YXRpb25SZWdpc3RyeSgoYikgPT4gewogICAgICAgICAgYiA9IGIubWE7CiAgICAgICAgICAtLWIuY291bnQudmFsdWU7CiAgICAgICAgICAwID09PSBiLmNvdW50LnZhbHVlICYmIChiLkFhID8gYi5EYS5GYShiLkFhKSA6IGIuemEueGEuRmEoYi55YSkpOwogICAgICAgIH0pOwogICAgICAgIFdhID0gKGIpID0+IHsKICAgICAgICAgIHZhciBjID0gYi5tYTsKICAgICAgICAgIGMuQWEgJiYgTWEucmVnaXN0ZXIoYiwgeyBtYTogYyB9LCBiKTsKICAgICAgICAgIHJldHVybiBiOwogICAgICAgIH07CiAgICAgICAgT2EgPSAoYikgPT4gewogICAgICAgICAgTWEudW5yZWdpc3RlcihiKTsKICAgICAgICB9OwogICAgICAgIHJldHVybiBXYShhKTsKICAgICAgfTsKICAgICAgZnVuY3Rpb24gWWEoKSB7CiAgICAgIH0KICAgICAgdmFyIFphID0gKGEsIGIpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLCAibmFtZSIsIHsgdmFsdWU6IGEgfSksICRhID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBpZiAodm9pZCAwID09PSBhW2JdLkJhKSB7CiAgICAgICAgICB2YXIgZCA9IGFbYl07CiAgICAgICAgICBhW2JdID0gZnVuY3Rpb24oLi4uZSkgewogICAgICAgICAgICBpZiAoIWFbYl0uQmEuaGFzT3duUHJvcGVydHkoZS5sZW5ndGgpKQogICAgICAgICAgICAgIHRocm93IG5ldyBSKAogICAgICAgICAgICAgICAgYEZ1bmN0aW9uICcke2N9JyBjYWxsZWQgd2l0aCBhbiBpbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMgKCR7ZS5sZW5ndGh9KSAtIGV4cGVjdHMgb25lIG9mICgke2FbYl0uQmF9KSFgCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuIGFbYl0uQmFbZS5sZW5ndGhdLmFwcGx5KHRoaXMsIGUpOwogICAgICAgICAgfTsKICAgICAgICAgIGFbYl0uQmEgPSBbXTsKICAgICAgICAgIGFbYl0uQmFbZC5PYV0gPSBkOwogICAgICAgIH0KICAgICAgfSwgYWIgPSAoYSwgYiwgYykgPT4gewogICAgICAgIGlmIChrLmhhc093blByb3BlcnR5KGEpKSB7CiAgICAgICAgICBpZiAodm9pZCAwID09PSBjIHx8IHZvaWQgMCAhPT0ga1thXS5CYSAmJiB2b2lkIDAgIT09IGtbYV0uQmFbY10pCiAgICAgICAgICAgIHRocm93IG5ldyBSKGBDYW5ub3QgcmVnaXN0ZXIgcHVibGljIG5hbWUgJyR7YX0nIHR3aWNlYCk7CiAgICAgICAgICAkYShrLCBhLCBhKTsKICAgICAgICAgIGlmIChrLmhhc093blByb3BlcnR5KGMpKQogICAgICAgICAgICB0aHJvdyBuZXcgUihgQ2Fubm90IHJlZ2lzdGVyIG11bHRpcGxlIG92ZXJsb2FkcyBvZiBhIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgbnVtYmVyIG9mIGFyZ3VtZW50cyAoJHtjfSkhYCk7CiAgICAgICAgICBrW2FdLkJhW2NdID0gYjsKICAgICAgICB9IGVsc2Uga1thXSA9IGIsIHZvaWQgMCAhPT0gYyAmJiAoa1thXS52YiA9IGMpOwogICAgICB9LCBiYiA9IChhKSA9PiB7CiAgICAgICAgaWYgKHZvaWQgMCA9PT0gYSkgcmV0dXJuICJfdW5rbm93biI7CiAgICAgICAgYSA9IGEucmVwbGFjZSgvW15hLXpBLVowLTlfXS9nLCAiJCIpOwogICAgICAgIHZhciBiID0gYS5jaGFyQ29kZUF0KDApOwogICAgICAgIHJldHVybiA0OCA8PSBiICYmIDU3ID49IGIgPyBgXyR7YX1gIDogYTsKICAgICAgfTsKICAgICAgZnVuY3Rpb24gY2IoYSwgYiwgYywgZCwgZSwgZiwgbCwgaCkgewogICAgICAgIHRoaXMubmFtZSA9IGE7CiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGI7CiAgICAgICAgdGhpcy5MYSA9IGM7CiAgICAgICAgdGhpcy5GYSA9IGQ7CiAgICAgICAgdGhpcy5DYSA9IGU7CiAgICAgICAgdGhpcy5jYiA9IGY7CiAgICAgICAgdGhpcy5OYSA9IGw7CiAgICAgICAgdGhpcy5hYiA9IGg7CiAgICAgICAgdGhpcy5rYiA9IFtdOwogICAgICB9CiAgICAgIHZhciBkYiA9IChhLCBiLCBjKSA9PiB7CiAgICAgICAgZm9yICg7IGIgIT09IGM7ICkgewogICAgICAgICAgaWYgKCFiLk5hKSB0aHJvdyBuZXcgUihgRXhwZWN0ZWQgbnVsbCBvciBpbnN0YW5jZSBvZiAke2MubmFtZX0sIGdvdCBhbiBpbnN0YW5jZSBvZiAke2IubmFtZX1gKTsKICAgICAgICAgIGEgPSBiLk5hKGEpOwogICAgICAgICAgYiA9IGIuQ2E7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhOwogICAgICB9OwogICAgICBmdW5jdGlvbiBlYihhLCBiKSB7CiAgICAgICAgaWYgKG51bGwgPT09IGIpIHsKICAgICAgICAgIGlmICh0aGlzLlRhKSB0aHJvdyBuZXcgUihgbnVsbCBpcyBub3QgYSB2YWxpZCAke3RoaXMubmFtZX1gKTsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICBpZiAoIWIubWEpIHRocm93IG5ldyBSKGBDYW5ub3QgcGFzcyAiJHtmYihiKX0iIGFzIGEgJHt0aGlzLm5hbWV9YCk7CiAgICAgICAgaWYgKCFiLm1hLnlhKSB0aHJvdyBuZXcgUihgQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgJHt0aGlzLm5hbWV9YCk7CiAgICAgICAgcmV0dXJuIGRiKGIubWEueWEsIGIubWEuemEueGEsIHRoaXMueGEpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGdiKGEsIGIpIHsKICAgICAgICBpZiAobnVsbCA9PT0gYikgewogICAgICAgICAgaWYgKHRoaXMuVGEpIHRocm93IG5ldyBSKGBudWxsIGlzIG5vdCBhIHZhbGlkICR7dGhpcy5uYW1lfWApOwogICAgICAgICAgaWYgKHRoaXMuUWEpIHsKICAgICAgICAgICAgdmFyIGMgPSB0aGlzLlVhKCk7CiAgICAgICAgICAgIG51bGwgIT09IGEgJiYgYS5wdXNoKHRoaXMuRmEsIGMpOwogICAgICAgICAgICByZXR1cm4gYzsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICBpZiAoIWIgfHwgIWIubWEpIHRocm93IG5ldyBSKGBDYW5ub3QgcGFzcyAiJHtmYihiKX0iIGFzIGEgJHt0aGlzLm5hbWV9YCk7CiAgICAgICAgaWYgKCFiLm1hLnlhKSB0aHJvdyBuZXcgUihgQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgJHt0aGlzLm5hbWV9YCk7CiAgICAgICAgaWYgKCF0aGlzLlBhICYmIGIubWEuemEuUGEpCiAgICAgICAgICB0aHJvdyBuZXcgUigKICAgICAgICAgICAgYENhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgJHtiLm1hLkRhID8gYi5tYS5EYS5uYW1lIDogYi5tYS56YS5uYW1lfSB0byBwYXJhbWV0ZXIgdHlwZSAke3RoaXMubmFtZX1gCiAgICAgICAgICApOwogICAgICAgIGMgPSBkYihiLm1hLnlhLCBiLm1hLnphLnhhLCB0aGlzLnhhKTsKICAgICAgICBpZiAodGhpcy5RYSkgewogICAgICAgICAgaWYgKHZvaWQgMCA9PT0gYi5tYS5BYSkgdGhyb3cgbmV3IFIoIlBhc3NpbmcgcmF3IHBvaW50ZXIgdG8gc21hcnQgcG9pbnRlciBpcyBpbGxlZ2FsIik7CiAgICAgICAgICBzd2l0Y2ggKHRoaXMucGIpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmIChiLm1hLkRhID09PSB0aGlzKSBjID0gYi5tYS5BYTsKICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUigKICAgICAgICAgICAgICAgICAgYENhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgJHtiLm1hLkRhID8gYi5tYS5EYS5uYW1lIDogYi5tYS56YS5uYW1lfSB0byBwYXJhbWV0ZXIgdHlwZSAke3RoaXMubmFtZX1gCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgYyA9IGIubWEuQWE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBpZiAoYi5tYS5EYSA9PT0gdGhpcykgYyA9IGIubWEuQWE7CiAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgZCA9IGIuY2xvbmUoKTsKICAgICAgICAgICAgICAgIGMgPSB0aGlzLmxiKAogICAgICAgICAgICAgICAgICBjLAogICAgICAgICAgICAgICAgICBoYigoKSA9PiBkWyJkZWxldGUiXSgpKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIG51bGwgIT09IGEgJiYgYS5wdXNoKHRoaXMuRmEsIGMpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICB0aHJvdyBuZXcgUigiVW5zdXBwb3J0aW5nIHNoYXJpbmcgcG9saWN5Iik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBjOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGliKGEsIGIpIHsKICAgICAgICBpZiAobnVsbCA9PT0gYikgewogICAgICAgICAgaWYgKHRoaXMuVGEpIHRocm93IG5ldyBSKGBudWxsIGlzIG5vdCBhIHZhbGlkICR7dGhpcy5uYW1lfWApOwogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIGlmICghYi5tYSkgdGhyb3cgbmV3IFIoYENhbm5vdCBwYXNzICIke2ZiKGIpfSIgYXMgYSAke3RoaXMubmFtZX1gKTsKICAgICAgICBpZiAoIWIubWEueWEpIHRocm93IG5ldyBSKGBDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAke3RoaXMubmFtZX1gKTsKICAgICAgICBpZiAoYi5tYS56YS5QYSkgdGhyb3cgbmV3IFIoYENhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgJHtiLm1hLnphLm5hbWV9IHRvIHBhcmFtZXRlciB0eXBlICR7dGhpcy5uYW1lfWApOwogICAgICAgIHJldHVybiBkYihiLm1hLnlhLCBiLm1hLnphLnhhLCB0aGlzLnhhKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBqYihhLCBiLCBjLCBkLCBlLCBmLCBsLCBoLCBuLCBtLCBwKSB7CiAgICAgICAgdGhpcy5uYW1lID0gYTsKICAgICAgICB0aGlzLnhhID0gYjsKICAgICAgICB0aGlzLlRhID0gYzsKICAgICAgICB0aGlzLlBhID0gZDsKICAgICAgICB0aGlzLlFhID0gZTsKICAgICAgICB0aGlzLmpiID0gZjsKICAgICAgICB0aGlzLnBiID0gbDsKICAgICAgICB0aGlzLlphID0gaDsKICAgICAgICB0aGlzLlVhID0gbjsKICAgICAgICB0aGlzLmxiID0gbTsKICAgICAgICB0aGlzLkZhID0gcDsKICAgICAgICBlIHx8IHZvaWQgMCAhPT0gYi5DYSA/IHRoaXMudG9XaXJlVHlwZSA9IGdiIDogKHRoaXMudG9XaXJlVHlwZSA9IGQgPyBlYiA6IGliLCB0aGlzLkVhID0gbnVsbCk7CiAgICAgIH0KICAgICAgdmFyIGtiID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBpZiAoIWsuaGFzT3duUHJvcGVydHkoYSkpIHRocm93IG5ldyBJYSgiUmVwbGFjaW5nIG5vbmV4aXN0ZW50IHB1YmxpYyBzeW1ib2wiKTsKICAgICAgICB2b2lkIDAgIT09IGtbYV0uQmEgJiYgdm9pZCAwICE9PSBjID8ga1thXS5CYVtjXSA9IGIgOiAoa1thXSA9IGIsIGtbYV0uT2EgPSBjKTsKICAgICAgfSwgUywgbGIgPSAoYSwgYiwgYyA9IFtdKSA9PiB7CiAgICAgICAgYS5pbmNsdWRlcygiaiIpID8gKGEgPSBhLnJlcGxhY2UoL3AvZywgImkiKSwgYiA9ICgwLCBrWyJkeW5DYWxsXyIgKyBhXSkoYiwgLi4uYykpIDogYiA9IFMuZ2V0KGIpKC4uLmMpOwogICAgICAgIHJldHVybiBiOwogICAgICB9LCBtYiA9IChhLCBiKSA9PiAoLi4uYykgPT4gbGIoYSwgYiwgYyksIFQgPSAoYSwgYikgPT4gewogICAgICAgIGEgPSBRKGEpOwogICAgICAgIHZhciBjID0gYS5pbmNsdWRlcygiaiIpID8gbWIoYSwgYikgOiBTLmdldChiKTsKICAgICAgICBpZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgYykgdGhyb3cgbmV3IFIoYHVua25vd24gZnVuY3Rpb24gcG9pbnRlciB3aXRoIHNpZ25hdHVyZSAke2F9OiAke2J9YCk7CiAgICAgICAgcmV0dXJuIGM7CiAgICAgIH0sIG5iLCBwYiA9IChhKSA9PiB7CiAgICAgICAgYSA9IG9iKGEpOwogICAgICAgIHZhciBiID0gUShhKTsKICAgICAgICBVKGEpOwogICAgICAgIHJldHVybiBiOwogICAgICB9LCBxYiA9IChhLCBiKSA9PiB7CiAgICAgICAgZnVuY3Rpb24gYyhmKSB7CiAgICAgICAgICBlW2ZdIHx8IE1bZl0gfHwgKEhhW2ZdID8gSGFbZl0uZm9yRWFjaChjKSA6IChkLnB1c2goZiksIGVbZl0gPSB0cnVlKSk7CiAgICAgICAgfQogICAgICAgIHZhciBkID0gW10sIGUgPSB7fTsKICAgICAgICBiLmZvckVhY2goYyk7CiAgICAgICAgdGhyb3cgbmV3IG5iKGAke2F9OiBgICsgZC5tYXAocGIpLmpvaW4oWyIsICJdKSk7CiAgICAgIH0sIHJiID0gKGEsIGIpID0+IHsKICAgICAgICBmb3IgKHZhciBjID0gW10sIGQgPSAwOyBkIDwgYTsgZCsrKSBjLnB1c2goRltiICsgNCAqIGQgPj4gMl0pOwogICAgICAgIHJldHVybiBjOwogICAgICB9OwogICAgICBmdW5jdGlvbiBzYihhKSB7CiAgICAgICAgZm9yICh2YXIgYiA9IDE7IGIgPCBhLmxlbmd0aDsgKytiKSBpZiAobnVsbCAhPT0gYVtiXSAmJiB2b2lkIDAgPT09IGFbYl0uRWEpIHJldHVybiB0cnVlOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBmdW5jdGlvbiB0YihhLCBiLCBjLCBkLCBlKSB7CiAgICAgICAgdmFyIGYgPSBiLmxlbmd0aDsKICAgICAgICBpZiAoMiA+IGYpIHRocm93IG5ldyBSKCJhcmdUeXBlcyBhcnJheSBzaXplIG1pc21hdGNoISBNdXN0IGF0IGxlYXN0IGdldCByZXR1cm4gdmFsdWUgYW5kICd0aGlzJyB0eXBlcyEiKTsKICAgICAgICB2YXIgbCA9IG51bGwgIT09IGJbMV0gJiYgbnVsbCAhPT0gYywgaCA9IHNiKGIpLCBuID0gInZvaWQiICE9PSBiWzBdLm5hbWUsIG0gPSBmIC0gMiwgcCA9IEFycmF5KG0pLCB1ID0gW10sIHYgPSBbXTsKICAgICAgICByZXR1cm4gWmEoYSwgZnVuY3Rpb24oLi4uZykgewogICAgICAgICAgaWYgKGcubGVuZ3RoICE9PSBtKSB0aHJvdyBuZXcgUihgZnVuY3Rpb24gJHthfSBjYWxsZWQgd2l0aCAke2cubGVuZ3RofSBhcmd1bWVudHMsIGV4cGVjdGVkICR7bX1gKTsKICAgICAgICAgIHYubGVuZ3RoID0gMDsKICAgICAgICAgIHUubGVuZ3RoID0gbCA/IDIgOiAxOwogICAgICAgICAgdVswXSA9IGU7CiAgICAgICAgICBpZiAobCkgewogICAgICAgICAgICB2YXIgcSA9IGJbMV0udG9XaXJlVHlwZSh2LCB0aGlzKTsKICAgICAgICAgICAgdVsxXSA9IHE7CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IG07ICsrcikgcFtyXSA9IGJbciArIDJdLnRvV2lyZVR5cGUodiwgZ1tyXSksIHUucHVzaChwW3JdKTsKICAgICAgICAgIGcgPSBkKC4uLnUpOwogICAgICAgICAgaWYgKGgpIEdhKHYpOwogICAgICAgICAgZWxzZQogICAgICAgICAgICBmb3IgKHIgPSBsID8gMSA6IDI7IHIgPCBiLmxlbmd0aDsgcisrKSB7CiAgICAgICAgICAgICAgdmFyIHogPSAxID09PSByID8gcSA6IHBbciAtIDJdOwogICAgICAgICAgICAgIG51bGwgIT09IGJbcl0uRWEgJiYgYltyXS5FYSh6KTsKICAgICAgICAgICAgfQogICAgICAgICAgcSA9IG4gPyBiWzBdLmZyb21XaXJlVHlwZShnKSA6IHZvaWQgMDsKICAgICAgICAgIHJldHVybiBxOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHZhciB1YiA9IChhKSA9PiB7CiAgICAgICAgYSA9IGEudHJpbSgpOwogICAgICAgIGNvbnN0IGIgPSBhLmluZGV4T2YoIigiKTsKICAgICAgICByZXR1cm4gLTEgIT09IGIgPyBhLnN1YnN0cigwLCBiKSA6IGE7CiAgICAgIH0sIHZiID0gW10sIFYgPSBbXSwgd2IgPSAoYSkgPT4gewogICAgICAgIDkgPCBhICYmIDAgPT09IC0tVlthICsgMV0gJiYgKFZbYV0gPSB2b2lkIDAsIHZiLnB1c2goYSkpOwogICAgICB9LCB5YiA9IChhKSA9PiB7CiAgICAgICAgaWYgKCFhKSB0aHJvdyBuZXcgUigiQ2Fubm90IHVzZSBkZWxldGVkIHZhbC4gaGFuZGxlID0gIiArIGEpOwogICAgICAgIHJldHVybiBWW2FdOwogICAgICB9LCBoYiA9IChhKSA9PiB7CiAgICAgICAgc3dpdGNoIChhKSB7CiAgICAgICAgICBjYXNlIHZvaWQgMDoKICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICBjYXNlIG51bGw6CiAgICAgICAgICAgIHJldHVybiA0OwogICAgICAgICAgY2FzZSB0cnVlOgogICAgICAgICAgICByZXR1cm4gNjsKICAgICAgICAgIGNhc2UgZmFsc2U6CiAgICAgICAgICAgIHJldHVybiA4OwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgY29uc3QgYiA9IHZiLnBvcCgpIHx8IFYubGVuZ3RoOwogICAgICAgICAgICBWW2JdID0gYTsKICAgICAgICAgICAgVltiICsgMV0gPSAxOwogICAgICAgICAgICByZXR1cm4gYjsKICAgICAgICB9CiAgICAgIH0sIHpiID0gewogICAgICAgIG5hbWU6ICJlbXNjcmlwdGVuOjp2YWwiLAogICAgICAgIGZyb21XaXJlVHlwZTogKGEpID0+IHsKICAgICAgICAgIHZhciBiID0geWIoYSk7CiAgICAgICAgICB3YihhKTsKICAgICAgICAgIHJldHVybiBiOwogICAgICAgIH0sCiAgICAgICAgdG9XaXJlVHlwZTogKGEsIGIpID0+IGhiKGIpLAogICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgIHJlYWRWYWx1ZUZyb21Qb2ludGVyOiBLLAogICAgICAgIEVhOiBudWxsCiAgICAgIH0sIEFiID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBzd2l0Y2ggKGIpIHsKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgcmV0dXJuIGMgPyBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKHlbZF0pOwogICAgICAgICAgICB9IDogZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShBW2RdKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIGMgPyBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKEJbZCA+PiAxXSk7CiAgICAgICAgICAgIH0gOiBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKENbZCA+PiAxXSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHJldHVybiBjID8gZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShFW2QgPj4gMl0pOwogICAgICAgICAgICB9IDogZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShGW2QgPj4gMl0pOwogICAgICAgICAgICB9OwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgaW52YWxpZCBpbnRlZ2VyIHdpZHRoICgke2J9KTogJHthfWApOwogICAgICAgIH0KICAgICAgfSwgQmIgPSAoYSwgYikgPT4gewogICAgICAgIHZhciBjID0gTVthXTsKICAgICAgICBpZiAodm9pZCAwID09PSBjKSB0aHJvdyBhID0gYCR7Yn0gaGFzIHVua25vd24gdHlwZSAke3BiKGEpfWAsIG5ldyBSKGEpOwogICAgICAgIHJldHVybiBjOwogICAgICB9LCBmYiA9IChhKSA9PiB7CiAgICAgICAgaWYgKG51bGwgPT09IGEpIHJldHVybiAibnVsbCI7CiAgICAgICAgdmFyIGIgPSB0eXBlb2YgYTsKICAgICAgICByZXR1cm4gIm9iamVjdCIgPT09IGIgfHwgImFycmF5IiA9PT0gYiB8fCAiZnVuY3Rpb24iID09PSBiID8gYS50b1N0cmluZygpIDogIiIgKyBhOwogICAgICB9LCBDYiA9IChhLCBiKSA9PiB7CiAgICAgICAgc3dpdGNoIChiKSB7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihjKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKGphW2MgPj4gMl0pOwogICAgICAgICAgICB9OwogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oYykgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShrYVtjID4+IDNdKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGludmFsaWQgZmxvYXQgd2lkdGggKCR7Yn0pOiAke2F9YCk7CiAgICAgICAgfQogICAgICB9LCBEYiA9IChhLCBiLCBjKSA9PiB7CiAgICAgICAgc3dpdGNoIChiKSB7CiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIHJldHVybiBjID8gKGQpID0+IHlbZF0gOiAoZCkgPT4gQVtkXTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIGMgPyAoZCkgPT4gQltkID4+IDFdIDogKGQpID0+IENbZCA+PiAxXTsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgcmV0dXJuIGMgPyAoZCkgPT4gRVtkID4+IDJdIDogKGQpID0+IEZbZCA+PiAyXTsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGludmFsaWQgaW50ZWdlciB3aWR0aCAoJHtifSk6ICR7YX1gKTsKICAgICAgICB9CiAgICAgIH0sIEViID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIFRleHREZWNvZGVyID8gbmV3IFRleHREZWNvZGVyKCJ1dGYtMTZsZSIpIDogdm9pZCAwLCBGYiA9IChhLCBiKSA9PiB7CiAgICAgICAgdmFyIGMgPSBhID4+IDE7CiAgICAgICAgZm9yICh2YXIgZCA9IGMgKyBiIC8gMjsgIShjID49IGQpICYmIENbY107ICkgKytjOwogICAgICAgIGMgPDw9IDE7CiAgICAgICAgaWYgKDMyIDwgYyAtIGEgJiYgRWIpIHJldHVybiBFYi5kZWNvZGUoQS5zdWJhcnJheShhLCBjKSk7CiAgICAgICAgYyA9ICIiOwogICAgICAgIGZvciAoZCA9IDA7ICEoZCA+PSBiIC8gMik7ICsrZCkgewogICAgICAgICAgdmFyIGUgPSBCW2EgKyAyICogZCA+PiAxXTsKICAgICAgICAgIGlmICgwID09IGUpIGJyZWFrOwogICAgICAgICAgYyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYzsKICAgICAgfSwgR2IgPSAoYSwgYiwgYykgPT4gewogICAgICAgIGMgPz8gKGMgPSAyMTQ3NDgzNjQ3KTsKICAgICAgICBpZiAoMiA+IGMpIHJldHVybiAwOwogICAgICAgIGMgLT0gMjsKICAgICAgICB2YXIgZCA9IGI7CiAgICAgICAgYyA9IGMgPCAyICogYS5sZW5ndGggPyBjIC8gMiA6IGEubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgYzsgKytlKSBCW2IgPj4gMV0gPSBhLmNoYXJDb2RlQXQoZSksIGIgKz0gMjsKICAgICAgICBCW2IgPj4gMV0gPSAwOwogICAgICAgIHJldHVybiBiIC0gZDsKICAgICAgfSwgSGIgPSAoYSkgPT4gMiAqIGEubGVuZ3RoLCBJYiA9IChhLCBiKSA9PiB7CiAgICAgICAgZm9yICh2YXIgYyA9IDAsIGQgPSAiIjsgIShjID49IGIgLyA0KTsgKSB7CiAgICAgICAgICB2YXIgZSA9IEVbYSArIDQgKiBjID4+IDJdOwogICAgICAgICAgaWYgKDAgPT0gZSkgYnJlYWs7CiAgICAgICAgICArK2M7CiAgICAgICAgICA2NTUzNiA8PSBlID8gKGUgLT0gNjU1MzYsIGQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NiB8IGUgPj4gMTAsIDU2MzIwIHwgZSAmIDEwMjMpKSA6IGQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGQ7CiAgICAgIH0sIEpiID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBjID8/IChjID0gMjE0NzQ4MzY0Nyk7CiAgICAgICAgaWYgKDQgPiBjKSByZXR1cm4gMDsKICAgICAgICB2YXIgZCA9IGI7CiAgICAgICAgYyA9IGQgKyBjIC0gNDsKICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IGEubGVuZ3RoOyArK2UpIHsKICAgICAgICAgIHZhciBmID0gYS5jaGFyQ29kZUF0KGUpOwogICAgICAgICAgaWYgKDU1Mjk2IDw9IGYgJiYgNTczNDMgPj0gZikgewogICAgICAgICAgICB2YXIgbCA9IGEuY2hhckNvZGVBdCgrK2UpOwogICAgICAgICAgICBmID0gNjU1MzYgKyAoKGYgJiAxMDIzKSA8PCAxMCkgfCBsICYgMTAyMzsKICAgICAgICAgIH0KICAgICAgICAgIEVbYiA+PiAyXSA9IGY7CiAgICAgICAgICBiICs9IDQ7CiAgICAgICAgICBpZiAoYiArIDQgPiBjKSBicmVhazsKICAgICAgICB9CiAgICAgICAgRVtiID4+IDJdID0gMDsKICAgICAgICByZXR1cm4gYiAtIGQ7CiAgICAgIH0sIEtiID0gKGEpID0+IHsKICAgICAgICBmb3IgKHZhciBiID0gMCwgYyA9IDA7IGMgPCBhLmxlbmd0aDsgKytjKSB7CiAgICAgICAgICB2YXIgZCA9IGEuY2hhckNvZGVBdChjKTsKICAgICAgICAgIDU1Mjk2IDw9IGQgJiYgNTczNDMgPj0gZCAmJiArK2M7CiAgICAgICAgICBiICs9IDQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiBiOwogICAgICB9LCBMYiA9IFtdLCBNYiA9IChhKSA9PiB7CiAgICAgICAgdmFyIGIgPSBMYi5sZW5ndGg7CiAgICAgICAgTGIucHVzaChhKTsKICAgICAgICByZXR1cm4gYjsKICAgICAgfSwgTmIgPSAoYSwgYikgPT4gewogICAgICAgIGZvciAodmFyIGMgPSBBcnJheShhKSwgZCA9IDA7IGQgPCBhOyArK2QpIGNbZF0gPSBCYihGW2IgKyA0ICogZCA+PiAyXSwgInBhcmFtZXRlciAiICsgZCk7CiAgICAgICAgcmV0dXJuIGM7CiAgICAgIH0sIE9iID0gUmVmbGVjdC5jb25zdHJ1Y3QsIFBiID0ge30sIFJiID0gKCkgPT4gewogICAgICAgIGlmICghUWIpIHsKICAgICAgICAgIHZhciBhID0gewogICAgICAgICAgICBVU0VSOiAid2ViX3VzZXIiLAogICAgICAgICAgICBMT0dOQU1FOiAid2ViX3VzZXIiLAogICAgICAgICAgICBQQVRIOiAiLyIsCiAgICAgICAgICAgIFBXRDogIi8iLAogICAgICAgICAgICBIT01FOiAiL2hvbWUvd2ViX3VzZXIiLAogICAgICAgICAgICBMQU5HOiAoIm9iamVjdCIgPT0gdHlwZW9mIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IubGFuZ3VhZ2VzICYmIG5hdmlnYXRvci5sYW5ndWFnZXNbMF0gfHwgIkMiKS5yZXBsYWNlKAogICAgICAgICAgICAgICItIiwKICAgICAgICAgICAgICAiXyIKICAgICAgICAgICAgKSArICIuVVRGLTgiLAogICAgICAgICAgICBfOiBkYSB8fCAiLi90aGlzLnByb2dyYW0iCiAgICAgICAgICB9LCBiOwogICAgICAgICAgZm9yIChiIGluIFBiKSB2b2lkIDAgPT09IFBiW2JdID8gZGVsZXRlIGFbYl0gOiBhW2JdID0gUGJbYl07CiAgICAgICAgICB2YXIgYyA9IFtdOwogICAgICAgICAgZm9yIChiIGluIGEpIGMucHVzaChgJHtifT0ke2FbYl19YCk7CiAgICAgICAgICBRYiA9IGM7CiAgICAgICAgfQogICAgICAgIHJldHVybiBRYjsKICAgICAgfSwgUWIsIFNiID0gW251bGwsIFtdLCBbXV0sIFRiID0gKCkgPT4gewogICAgICAgIGlmICgib2JqZWN0IiA9PSB0eXBlb2YgY3J5cHRvICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpCiAgICAgICAgICByZXR1cm4gKGEpID0+IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYSk7CiAgICAgICAgcmEoImluaXRSYW5kb21EZXZpY2UiKTsKICAgICAgfSwgVWIgPSAoYSkgPT4gKFViID0gVGIoKSkoYSksIFZiID0gKGEpID0+IDAgPT09IGEgJSA0ICYmICgwICE9PSBhICUgMTAwIHx8IDAgPT09IGEgJSA0MDApLCBXYiA9IFszMSwgMjksIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXSwgWGIgPSBbMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07CiAgICAgIGZ1bmN0aW9uIFliKGEpIHsKICAgICAgICB2YXIgYiA9IEFycmF5KERhKGEpICsgMSk7CiAgICAgICAgRWEoYSwgYiwgMCwgYi5sZW5ndGgpOwogICAgICAgIHJldHVybiBiOwogICAgICB9CiAgICAgIHZhciBaYiA9IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgZnVuY3Rpb24gZShnLCBxLCByKSB7CiAgICAgICAgICBmb3IgKGcgPSAibnVtYmVyIiA9PSB0eXBlb2YgZyA/IGcudG9TdHJpbmcoKSA6IGcgfHwgIiI7IGcubGVuZ3RoIDwgcTsgKSBnID0gclswXSArIGc7CiAgICAgICAgICByZXR1cm4gZzsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZihnLCBxKSB7CiAgICAgICAgICByZXR1cm4gZShnLCBxLCAiMCIpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBsKGcsIHEpIHsKICAgICAgICAgIGZ1bmN0aW9uIHIoTikgewogICAgICAgICAgICByZXR1cm4gMCA+IE4gPyAtMSA6IDAgPCBOID8gMSA6IDA7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgejsKICAgICAgICAgIDAgPT09ICh6ID0gcihnLmdldEZ1bGxZZWFyKCkgLSBxLmdldEZ1bGxZZWFyKCkpKSAmJiAwID09PSAoeiA9IHIoZy5nZXRNb250aCgpIC0gcS5nZXRNb250aCgpKSkgJiYgKHogPSByKGcuZ2V0RGF0ZSgpIC0gcS5nZXREYXRlKCkpKTsKICAgICAgICAgIHJldHVybiB6OwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBoKGcpIHsKICAgICAgICAgIHN3aXRjaCAoZy5nZXREYXkoKSkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGcuZ2V0RnVsbFllYXIoKSAtIDEsIDExLCAyOSk7CiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICByZXR1cm4gZzsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShnLmdldEZ1bGxZZWFyKCksIDAsIDMpOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGcuZ2V0RnVsbFllYXIoKSwgMCwgMik7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZy5nZXRGdWxsWWVhcigpLCAwLCAxKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShnLmdldEZ1bGxZZWFyKCkgLSAxLCAxMSwgMzEpOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGcuZ2V0RnVsbFllYXIoKSAtIDEsIDExLCAzMCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIG4oZykgewogICAgICAgICAgdmFyIHEgPSBnLklhOwogICAgICAgICAgZm9yIChnID0gbmV3IERhdGUobmV3IERhdGUoZy5KYSArIDE5MDAsIDAsIDEpLmdldFRpbWUoKSk7IDAgPCBxOyApIHsKICAgICAgICAgICAgdmFyIHIgPSBnLmdldE1vbnRoKCksIHogPSAoVmIoZy5nZXRGdWxsWWVhcigpKSA/IFdiIDogWGIpW3JdOwogICAgICAgICAgICBpZiAocSA+IHogLSBnLmdldERhdGUoKSkKICAgICAgICAgICAgICBxIC09IHogLSBnLmdldERhdGUoKSArIDEsIGcuc2V0RGF0ZSgxKSwgMTEgPiByID8gZy5zZXRNb250aChyICsgMSkgOiAoZy5zZXRNb250aCgwKSwgZy5zZXRGdWxsWWVhcihnLmdldEZ1bGxZZWFyKCkgKyAxKSk7CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgIGcuc2V0RGF0ZShnLmdldERhdGUoKSArIHEpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByID0gbmV3IERhdGUoZy5nZXRGdWxsWWVhcigpICsgMSwgMCwgNCk7CiAgICAgICAgICBxID0gaChuZXcgRGF0ZShnLmdldEZ1bGxZZWFyKCksIDAsIDQpKTsKICAgICAgICAgIHIgPSBoKHIpOwogICAgICAgICAgcmV0dXJuIDAgPj0gbChxLCBnKSA/IDAgPj0gbChyLCBnKSA/IGcuZ2V0RnVsbFllYXIoKSArIDEgOiBnLmdldEZ1bGxZZWFyKCkgOiBnLmdldEZ1bGxZZWFyKCkgLSAxOwogICAgICAgIH0KICAgICAgICB2YXIgbSA9IEZbZCArIDQwID4+IDJdOwogICAgICAgIGQgPSB7CiAgICAgICAgICBzYjogRVtkID4+IDJdLAogICAgICAgICAgcmI6IEVbZCArIDQgPj4gMl0sCiAgICAgICAgICBSYTogRVtkICsgOCA+PiAyXSwKICAgICAgICAgIFZhOiBFW2QgKyAxMiA+PiAyXSwKICAgICAgICAgIFNhOiBFW2QgKyAxNiA+PiAyXSwKICAgICAgICAgIEphOiBFW2QgKyAyMCA+PiAyXSwKICAgICAgICAgIEdhOiBFW2QgKyAyNCA+PiAyXSwKICAgICAgICAgIElhOiBFW2QgKyAyOCA+PiAyXSwKICAgICAgICAgIHdiOiBFW2QgKyAzMiA+PiAyXSwKICAgICAgICAgIHFiOiBFW2QgKyAzNiA+PiAyXSwKICAgICAgICAgIHRiOiBtID8gbSA/IEooQSwgbSkgOiAiIiA6ICIiCiAgICAgICAgfTsKICAgICAgICBjID0gYyA/IEooQSwgYykgOiAiIjsKICAgICAgICBtID0gewogICAgICAgICAgIiVjIjogIiVhICViICVkICVIOiVNOiVTICVZIiwKICAgICAgICAgICIlRCI6ICIlbS8lZC8leSIsCiAgICAgICAgICAiJUYiOiAiJVktJW0tJWQiLAogICAgICAgICAgIiVoIjogIiViIiwKICAgICAgICAgICIlciI6ICIlSTolTTolUyAlcCIsCiAgICAgICAgICAiJVIiOiAiJUg6JU0iLAogICAgICAgICAgIiVUIjogIiVIOiVNOiVTIiwKICAgICAgICAgICIleCI6ICIlbS8lZC8leSIsCiAgICAgICAgICAiJVgiOiAiJUg6JU06JVMiLAogICAgICAgICAgIiVFYyI6ICIlYyIsCiAgICAgICAgICAiJUVDIjogIiVDIiwKICAgICAgICAgICIlRXgiOiAiJW0vJWQvJXkiLAogICAgICAgICAgIiVFWCI6ICIlSDolTTolUyIsCiAgICAgICAgICAiJUV5IjogIiV5IiwKICAgICAgICAgICIlRVkiOiAiJVkiLAogICAgICAgICAgIiVPZCI6ICIlZCIsCiAgICAgICAgICAiJU9lIjogIiVlIiwKICAgICAgICAgICIlT0giOiAiJUgiLAogICAgICAgICAgIiVPSSI6ICIlSSIsCiAgICAgICAgICAiJU9tIjogIiVtIiwKICAgICAgICAgICIlT00iOiAiJU0iLAogICAgICAgICAgIiVPUyI6ICIlUyIsCiAgICAgICAgICAiJU91IjogIiV1IiwKICAgICAgICAgICIlT1UiOiAiJVUiLAogICAgICAgICAgIiVPViI6ICIlViIsCiAgICAgICAgICAiJU93IjogIiV3IiwKICAgICAgICAgICIlT1ciOiAiJVciLAogICAgICAgICAgIiVPeSI6ICIleSIKICAgICAgICB9OwogICAgICAgIGZvciAodmFyIHAgaW4gbSkgYyA9IGMucmVwbGFjZShuZXcgUmVnRXhwKHAsICJnIiksIG1bcF0pOwogICAgICAgIHZhciB1ID0gIlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5Ii5zcGxpdCgiICIpLCB2ID0gIkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXIiLnNwbGl0KCIgIik7CiAgICAgICAgbSA9IHsKICAgICAgICAgICIlYSI6IChnKSA9PiB1W2cuR2FdLnN1YnN0cmluZygwLCAzKSwKICAgICAgICAgICIlQSI6IChnKSA9PiB1W2cuR2FdLAogICAgICAgICAgIiViIjogKGcpID0+IHZbZy5TYV0uc3Vic3RyaW5nKDAsIDMpLAogICAgICAgICAgIiVCIjogKGcpID0+IHZbZy5TYV0sCiAgICAgICAgICAiJUMiOiAoZykgPT4gZigoZy5KYSArIDE5MDApIC8gMTAwIHwgMCwgMiksCiAgICAgICAgICAiJWQiOiAoZykgPT4gZihnLlZhLCAyKSwKICAgICAgICAgICIlZSI6IChnKSA9PiBlKGcuVmEsIDIsICIgIiksCiAgICAgICAgICAiJWciOiAoZykgPT4gbihnKS50b1N0cmluZygpLnN1YnN0cmluZygyKSwKICAgICAgICAgICIlRyI6IG4sCiAgICAgICAgICAiJUgiOiAoZykgPT4gZihnLlJhLCAyKSwKICAgICAgICAgICIlSSI6IChnKSA9PiB7CiAgICAgICAgICAgIGcgPSBnLlJhOwogICAgICAgICAgICAwID09IGcgPyBnID0gMTIgOiAxMiA8IGcgJiYgKGcgLT0gMTIpOwogICAgICAgICAgICByZXR1cm4gZihnLCAyKTsKICAgICAgICAgIH0sCiAgICAgICAgICAiJWoiOiAoZykgPT4gewogICAgICAgICAgICBmb3IgKHZhciBxID0gMCwgciA9IDA7IHIgPD0gZy5TYSAtIDE7IHEgKz0gKFZiKGcuSmEgKyAxOTAwKSA/IFdiIDogWGIpW3IrK10pIDsKICAgICAgICAgICAgcmV0dXJuIGYoZy5WYSArIHEsIDMpOwogICAgICAgICAgfSwKICAgICAgICAgICIlbSI6IChnKSA9PiBmKGcuU2EgKyAxLCAyKSwKICAgICAgICAgICIlTSI6IChnKSA9PiBmKGcucmIsIDIpLAogICAgICAgICAgIiVuIjogKCkgPT4gIlxuIiwKICAgICAgICAgICIlcCI6IChnKSA9PiAwIDw9IGcuUmEgJiYgMTIgPiBnLlJhID8gIkFNIiA6ICJQTSIsCiAgICAgICAgICAiJVMiOiAoZykgPT4gZihnLnNiLCAyKSwKICAgICAgICAgICIldCI6ICgpID0+ICIJIiwKICAgICAgICAgICIldSI6IChnKSA9PiBnLkdhIHx8IDcsCiAgICAgICAgICAiJVUiOiAoZykgPT4gZihNYXRoLmZsb29yKChnLklhICsgNyAtIGcuR2EpIC8gNyksIDIpLAogICAgICAgICAgIiVWIjogKGcpID0+IHsKICAgICAgICAgICAgdmFyIHEgPSBNYXRoLmZsb29yKChnLklhICsgNyAtIChnLkdhICsgNikgJSA3KSAvIDcpOwogICAgICAgICAgICAyID49IChnLkdhICsgMzcxIC0gZy5JYSAtIDIpICUgNyAmJiBxKys7CiAgICAgICAgICAgIGlmIChxKSA1MyA9PSBxICYmIChyID0gKGcuR2EgKyAzNzEgLSBnLklhKSAlIDcsIDQgPT0gciB8fCAzID09IHIgJiYgVmIoZy5KYSkgfHwgKHEgPSAxKSk7CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgIHEgPSA1MjsKICAgICAgICAgICAgICB2YXIgciA9IChnLkdhICsgNyAtIGcuSWEgLSAxKSAlIDc7CiAgICAgICAgICAgICAgKDQgPT0gciB8fCA1ID09IHIgJiYgVmIoZy5KYSAlIDQwMCAtIDEpKSAmJiBxKys7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGYocSwgMik7CiAgICAgICAgICB9LAogICAgICAgICAgIiV3IjogKGcpID0+IGcuR2EsCiAgICAgICAgICAiJVciOiAoZykgPT4gZihNYXRoLmZsb29yKChnLklhICsgNyAtIChnLkdhICsgNikgJSA3KSAvIDcpLCAyKSwKICAgICAgICAgICIleSI6IChnKSA9PiAoZy5KYSArIDE5MDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpLAogICAgICAgICAgIiVZIjogKGcpID0+IGcuSmEgKyAxOTAwLAogICAgICAgICAgIiV6IjogKGcpID0+IHsKICAgICAgICAgICAgZyA9IGcucWI7CiAgICAgICAgICAgIHZhciBxID0gMCA8PSBnOwogICAgICAgICAgICBnID0gTWF0aC5hYnMoZykgLyA2MDsKICAgICAgICAgICAgcmV0dXJuIChxID8gIisiIDogIi0iKSArIFN0cmluZygiMDAwMCIgKyAoZyAvIDYwICogMTAwICsgZyAlIDYwKSkuc2xpY2UoLTQpOwogICAgICAgICAgfSwKICAgICAgICAgICIlWiI6IChnKSA9PiBnLnRiLAogICAgICAgICAgIiUlIjogKCkgPT4gIiUiCiAgICAgICAgfTsKICAgICAgICBjID0gYy5yZXBsYWNlKC8lJS9nLCAiXDBcMCIpOwogICAgICAgIGZvciAocCBpbiBtKSBjLmluY2x1ZGVzKHApICYmIChjID0gYy5yZXBsYWNlKG5ldyBSZWdFeHAocCwgImciKSwgbVtwXShkKSkpOwogICAgICAgIGMgPSBjLnJlcGxhY2UoL1wwXDAvZywgIiUiKTsKICAgICAgICBwID0gWWIoYyk7CiAgICAgICAgaWYgKHAubGVuZ3RoID4gYikgcmV0dXJuIDA7CiAgICAgICAgeS5zZXQocCwgYSk7CiAgICAgICAgcmV0dXJuIHAubGVuZ3RoIC0gMTsKICAgICAgfTsKICAgICAgSWEgPSBrLkludGVybmFsRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHsKICAgICAgICBjb25zdHJ1Y3RvcihhKSB7CiAgICAgICAgICBzdXBlcihhKTsKICAgICAgICAgIHRoaXMubmFtZSA9ICJJbnRlcm5hbEVycm9yIjsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGZvciAodmFyICRiID0gQXJyYXkoMjU2KSwgYWMgPSAwOyAyNTYgPiBhYzsgKythYykgJGJbYWNdID0gU3RyaW5nLmZyb21DaGFyQ29kZShhYyk7CiAgICAgIEphID0gJGI7CiAgICAgIFIgPSBrLkJpbmRpbmdFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3IgewogICAgICAgIGNvbnN0cnVjdG9yKGEpIHsKICAgICAgICAgIHN1cGVyKGEpOwogICAgICAgICAgdGhpcy5uYW1lID0gIkJpbmRpbmdFcnJvciI7CiAgICAgICAgfQogICAgICB9OwogICAgICBPYmplY3QuYXNzaWduKFlhLnByb3RvdHlwZSwgewogICAgICAgIGlzQWxpYXNPZjogZnVuY3Rpb24oYSkgewogICAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFlhICYmIGEgaW5zdGFuY2VvZiBZYSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgIHZhciBiID0gdGhpcy5tYS56YS54YSwgYyA9IHRoaXMubWEueWE7CiAgICAgICAgICBhLm1hID0gYS5tYTsKICAgICAgICAgIHZhciBkID0gYS5tYS56YS54YTsKICAgICAgICAgIGZvciAoYSA9IGEubWEueWE7IGIuQ2E7ICkgYyA9IGIuTmEoYyksIGIgPSBiLkNhOwogICAgICAgICAgZm9yICg7IGQuQ2E7ICkgYSA9IGQuTmEoYSksIGQgPSBkLkNhOwogICAgICAgICAgcmV0dXJuIGIgPT09IGQgJiYgYyA9PT0gYTsKICAgICAgICB9LAogICAgICAgIGNsb25lOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHRoaXMubWEueWEgfHwgTGEodGhpcyk7CiAgICAgICAgICBpZiAodGhpcy5tYS5NYSkgcmV0dXJuIHRoaXMubWEuY291bnQudmFsdWUgKz0gMSwgdGhpczsKICAgICAgICAgIHZhciBhID0gV2EsIGIgPSBPYmplY3QsIGMgPSBiLmNyZWF0ZSwgZCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSwgZSA9IHRoaXMubWE7CiAgICAgICAgICBhID0gYSgKICAgICAgICAgICAgYy5jYWxsKGIsIGQsIHsKICAgICAgICAgICAgICBtYTogeyB2YWx1ZTogeyBjb3VudDogZS5jb3VudCwgS2E6IGUuS2EsIE1hOiBlLk1hLCB5YTogZS55YSwgemE6IGUuemEsIEFhOiBlLkFhLCBEYTogZS5EYSB9IH0KICAgICAgICAgICAgfSkKICAgICAgICAgICk7CiAgICAgICAgICBhLm1hLmNvdW50LnZhbHVlICs9IDE7CiAgICAgICAgICBhLm1hLkthID0gZmFsc2U7CiAgICAgICAgICByZXR1cm4gYTsKICAgICAgICB9LAogICAgICAgIFsiZGVsZXRlIl0oKSB7CiAgICAgICAgICB0aGlzLm1hLnlhIHx8IExhKHRoaXMpOwogICAgICAgICAgaWYgKHRoaXMubWEuS2EgJiYgIXRoaXMubWEuTWEpIHRocm93IG5ldyBSKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIik7CiAgICAgICAgICBPYSh0aGlzKTsKICAgICAgICAgIHZhciBhID0gdGhpcy5tYTsKICAgICAgICAgIC0tYS5jb3VudC52YWx1ZTsKICAgICAgICAgIDAgPT09IGEuY291bnQudmFsdWUgJiYgKGEuQWEgPyBhLkRhLkZhKGEuQWEpIDogYS56YS54YS5GYShhLnlhKSk7CiAgICAgICAgICB0aGlzLm1hLk1hIHx8ICh0aGlzLm1hLkFhID0gdm9pZCAwLCB0aGlzLm1hLnlhID0gdm9pZCAwKTsKICAgICAgICB9LAogICAgICAgIGlzRGVsZXRlZDogZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gIXRoaXMubWEueWE7CiAgICAgICAgfSwKICAgICAgICBkZWxldGVMYXRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgICB0aGlzLm1hLnlhIHx8IExhKHRoaXMpOwogICAgICAgICAgaWYgKHRoaXMubWEuS2EgJiYgIXRoaXMubWEuTWEpIHRocm93IG5ldyBSKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIik7CiAgICAgICAgICBSYS5wdXNoKHRoaXMpOwogICAgICAgICAgMSA9PT0gUmEubGVuZ3RoICYmIFRhICYmIFRhKFNhKTsKICAgICAgICAgIHRoaXMubWEuS2EgPSB0cnVlOwogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgay5nZXRJbmhlcml0ZWRJbnN0YW5jZUNvdW50ID0gKCkgPT4gT2JqZWN0LmtleXMoVWEpLmxlbmd0aDsKICAgICAgay5nZXRMaXZlSW5oZXJpdGVkSW5zdGFuY2VzID0gKCkgPT4gewogICAgICAgIHZhciBhID0gW10sIGI7CiAgICAgICAgZm9yIChiIGluIFVhKSBVYS5oYXNPd25Qcm9wZXJ0eShiKSAmJiBhLnB1c2goVWFbYl0pOwogICAgICAgIHJldHVybiBhOwogICAgICB9OwogICAgICBrLmZsdXNoUGVuZGluZ0RlbGV0ZXMgPSBTYTsKICAgICAgay5zZXREZWxheUZ1bmN0aW9uID0gKGEpID0+IHsKICAgICAgICBUYSA9IGE7CiAgICAgICAgUmEubGVuZ3RoICYmIFRhICYmIFRhKFNhKTsKICAgICAgfTsKICAgICAgT2JqZWN0LmFzc2lnbihqYi5wcm90b3R5cGUsIHsKICAgICAgICBlYihhKSB7CiAgICAgICAgICB0aGlzLlphICYmIChhID0gdGhpcy5aYShhKSk7CiAgICAgICAgICByZXR1cm4gYTsKICAgICAgICB9LAogICAgICAgIFhhKGEpIHsKICAgICAgICAgIHRoaXMuRmE/LihhKTsKICAgICAgICB9LAogICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgIHJlYWRWYWx1ZUZyb21Qb2ludGVyOiBLLAogICAgICAgIGZyb21XaXJlVHlwZTogZnVuY3Rpb24oYSkgewogICAgICAgICAgZnVuY3Rpb24gYigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuUWEgPyBYYSh0aGlzLnhhLkxhLCB7IHphOiB0aGlzLmpiLCB5YTogYywgRGE6IHRoaXMsIEFhOiBhIH0pIDogWGEodGhpcy54YS5MYSwgeyB6YTogdGhpcywgeWE6IGEgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgYyA9IHRoaXMuZWIoYSk7CiAgICAgICAgICBpZiAoIWMpIHJldHVybiB0aGlzLlhhKGEpLCBudWxsOwogICAgICAgICAgdmFyIGQgPSBWYSh0aGlzLnhhLCBjKTsKICAgICAgICAgIGlmICh2b2lkIDAgIT09IGQpIHsKICAgICAgICAgICAgaWYgKDAgPT09IGQubWEuY291bnQudmFsdWUpIHJldHVybiBkLm1hLnlhID0gYywgZC5tYS5BYSA9IGEsIGQuY2xvbmUoKTsKICAgICAgICAgICAgZCA9IGQuY2xvbmUoKTsKICAgICAgICAgICAgdGhpcy5YYShhKTsKICAgICAgICAgICAgcmV0dXJuIGQ7CiAgICAgICAgICB9CiAgICAgICAgICBkID0gdGhpcy54YS5jYihjKTsKICAgICAgICAgIGQgPSBRYVtkXTsKICAgICAgICAgIGlmICghZCkgcmV0dXJuIGIuY2FsbCh0aGlzKTsKICAgICAgICAgIGQgPSB0aGlzLlBhID8gZC4kYSA6IGQucG9pbnRlclR5cGU7CiAgICAgICAgICB2YXIgZSA9IFBhKGMsIHRoaXMueGEsIGQueGEpOwogICAgICAgICAgcmV0dXJuIG51bGwgPT09IGUgPyBiLmNhbGwodGhpcykgOiB0aGlzLlFhID8gWGEoZC54YS5MYSwgeyB6YTogZCwgeWE6IGUsIERhOiB0aGlzLCBBYTogYSB9KSA6IFhhKGQueGEuTGEsIHsgemE6IGQsIHlhOiBlIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIG5iID0gay5VbmJvdW5kVHlwZUVycm9yID0gKChhLCBiKSA9PiB7CiAgICAgICAgdmFyIGMgPSBaYShiLCBmdW5jdGlvbihkKSB7CiAgICAgICAgICB0aGlzLm5hbWUgPSBiOwogICAgICAgICAgdGhpcy5tZXNzYWdlID0gZDsKICAgICAgICAgIGQgPSBFcnJvcihkKS5zdGFjazsKICAgICAgICAgIHZvaWQgMCAhPT0gZCAmJiAodGhpcy5zdGFjayA9IHRoaXMudG9TdHJpbmcoKSArICJcbiIgKyBkLnJlcGxhY2UoL15FcnJvcig6W15cbl0qKT9cbi8sICIiKSk7CiAgICAgICAgfSk7CiAgICAgICAgYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKTsKICAgICAgICBjLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGM7CiAgICAgICAgYy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiB2b2lkIDAgPT09IHRoaXMubWVzc2FnZSA/IHRoaXMubmFtZSA6IGAke3RoaXMubmFtZX06ICR7dGhpcy5tZXNzYWdlfWA7CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gYzsKICAgICAgfSkoRXJyb3IsICJVbmJvdW5kVHlwZUVycm9yIik7CiAgICAgIFYucHVzaCgwLCAxLCB2b2lkIDAsIDEsIG51bGwsIDEsIHRydWUsIDEsIGZhbHNlLCAxKTsKICAgICAgay5jb3VudF9lbXZhbF9oYW5kbGVzID0gKCkgPT4gVi5sZW5ndGggLyAyIC0gNSAtIHZiLmxlbmd0aDsKICAgICAgdmFyIG1jID0gewogICAgICAgIGM6IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgICByYSgKICAgICAgICAgICAgYEFzc2VydGlvbiBmYWlsZWQ6ICR7YSA/IEooQSwgYSkgOiAiIn0sIGF0OiBgICsgW2IgPyBiID8gSihBLCBiKSA6ICIiIDogInVua25vd24gZmlsZW5hbWUiLCBjLCBkID8gZCA/IEooQSwgZCkgOiAiIiA6ICJ1bmtub3duIGZ1bmN0aW9uIl0KICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgICBtOiAoYSwgYiwgYykgPT4gewogICAgICAgICAgdmFyIGQgPSBuZXcgQWEoYSk7CiAgICAgICAgICBGW2QueWEgKyAxNiA+PiAyXSA9IDA7CiAgICAgICAgICBGW2QueWEgKyA0ID4+IDJdID0gYjsKICAgICAgICAgIEZbZC55YSArIDggPj4gMl0gPSBjOwogICAgICAgICAgQmEgPSBhOwogICAgICAgICAgQ2ErKzsKICAgICAgICAgIHRocm93IEJhOwogICAgICAgIH0sCiAgICAgICAgQjogZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9LAogICAgICAgIFA6ICgpID0+IHsKICAgICAgICB9LAogICAgICAgIE06ICgpID0+IHsKICAgICAgICB9LAogICAgICAgIFI6IGZ1bmN0aW9uKCkgewogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfSwKICAgICAgICBOOiAoKSA9PiB7CiAgICAgICAgfSwKICAgICAgICBBOiBmdW5jdGlvbigpIHsKICAgICAgICB9LAogICAgICAgIE86ICgpID0+IHsKICAgICAgICB9LAogICAgICAgIHY6IChhKSA9PiB7CiAgICAgICAgICB2YXIgYiA9IEZhW2FdOwogICAgICAgICAgZGVsZXRlIEZhW2FdOwogICAgICAgICAgdmFyIGMgPSBiLlVhLCBkID0gYi5GYSwgZSA9IGIuWWEsIGYgPSBlLm1hcCgobCkgPT4gbC5oYikuY29uY2F0KGUubWFwKChsKSA9PiBsLm5iKSk7CiAgICAgICAgICBQKFthXSwgZiwgKGwpID0+IHsKICAgICAgICAgICAgdmFyIGggPSB7fTsKICAgICAgICAgICAgZS5mb3JFYWNoKChuLCBtKSA9PiB7CiAgICAgICAgICAgICAgdmFyIHAgPSBsW21dLCB1ID0gbi5mYiwgdiA9IG4uZ2IsIGcgPSBsW20gKyBlLmxlbmd0aF0sIHEgPSBuLm1iLCByID0gbi5vYjsKICAgICAgICAgICAgICBoW24uYmJdID0gewogICAgICAgICAgICAgICAgcmVhZDogKHopID0+IHAuZnJvbVdpcmVUeXBlKHUodiwgeikpLAogICAgICAgICAgICAgICAgd3JpdGU6ICh6LCBOKSA9PiB7CiAgICAgICAgICAgICAgICAgIHZhciBEID0gW107CiAgICAgICAgICAgICAgICAgIHEociwgeiwgZy50b1dpcmVUeXBlKEQsIE4pKTsKICAgICAgICAgICAgICAgICAgR2EoRCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogYi5uYW1lLAogICAgICAgICAgICAgICAgZnJvbVdpcmVUeXBlOiAobikgPT4gewogICAgICAgICAgICAgICAgICB2YXIgbSA9IHt9LCBwOwogICAgICAgICAgICAgICAgICBmb3IgKHAgaW4gaCkgbVtwXSA9IGhbcF0ucmVhZChuKTsKICAgICAgICAgICAgICAgICAgZChuKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdG9XaXJlVHlwZTogKG4sIG0pID0+IHsKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBoKSBpZiAoIShwIGluIG0pKSB0aHJvdyBuZXcgVHlwZUVycm9yKGBNaXNzaW5nIGZpZWxkOiAiJHtwfSJgKTsKICAgICAgICAgICAgICAgICAgdmFyIHUgPSBjKCk7CiAgICAgICAgICAgICAgICAgIGZvciAocCBpbiBoKSBoW3BdLndyaXRlKHUsIG1bcF0pOwogICAgICAgICAgICAgICAgICBudWxsICE9PSBuICYmIG4ucHVzaChkLCB1KTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHU7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYXJnUGFja0FkdmFuY2U6IDgsCiAgICAgICAgICAgICAgICByZWFkVmFsdWVGcm9tUG9pbnRlcjogSywKICAgICAgICAgICAgICAgIEVhOiBkCiAgICAgICAgICAgICAgfQogICAgICAgICAgICBdOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBJOiAoKSA9PiB7CiAgICAgICAgfSwKICAgICAgICBZOiAoYSwgYiwgYywgZCkgPT4gewogICAgICAgICAgYiA9IFEoYik7CiAgICAgICAgICBPKGEsIHsKICAgICAgICAgICAgbmFtZTogYiwKICAgICAgICAgICAgZnJvbVdpcmVUeXBlOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgcmV0dXJuICEhZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9XaXJlVHlwZTogZnVuY3Rpb24oZSwgZikgewogICAgICAgICAgICAgIHJldHVybiBmID8gYyA6IGQ7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgICAgICByZWFkVmFsdWVGcm9tUG9pbnRlcjogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShBW2VdKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgRWE6IG51bGwKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgcjogKGEsIGIsIGMsIGQsIGUsIGYsIGwsIGgsIG4sIG0sIHAsIHUsIHYpID0+IHsKICAgICAgICAgIHAgPSBRKHApOwogICAgICAgICAgZiA9IFQoZSwgZik7CiAgICAgICAgICBoICYmIChoID0gVChsLCBoKSk7CiAgICAgICAgICBtICYmIChtID0gVChuLCBtKSk7CiAgICAgICAgICB2ID0gVCh1LCB2KTsKICAgICAgICAgIHZhciBnID0gYmIocCk7CiAgICAgICAgICBhYihnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcWIoYENhbm5vdCBjb25zdHJ1Y3QgJHtwfSBkdWUgdG8gdW5ib3VuZCB0eXBlc2AsIFtkXSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIFAoW2EsIGIsIGNdLCBkID8gW2RdIDogW10sIChxKSA9PiB7CiAgICAgICAgICAgIHEgPSBxWzBdOwogICAgICAgICAgICBpZiAoZCkgewogICAgICAgICAgICAgIHZhciByID0gcS54YTsKICAgICAgICAgICAgICB2YXIgeiA9IHIuTGE7CiAgICAgICAgICAgIH0gZWxzZSB6ID0gWWEucHJvdG90eXBlOwogICAgICAgICAgICBxID0gWmEocCwgZnVuY3Rpb24oLi4uTmEpIHsKICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpICE9PSBOKSB0aHJvdyBuZXcgUigiVXNlICduZXcnIHRvIGNvbnN0cnVjdCAiICsgcCk7CiAgICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gRC5IYSkgdGhyb3cgbmV3IFIocCArICIgaGFzIG5vIGFjY2Vzc2libGUgY29uc3RydWN0b3IiKTsKICAgICAgICAgICAgICB2YXIgeGIgPSBELkhhW05hLmxlbmd0aF07CiAgICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0geGIpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUigKICAgICAgICAgICAgICAgICAgYFRyaWVkIHRvIGludm9rZSBjdG9yIG9mICR7cH0gd2l0aCBpbnZhbGlkIG51bWJlciBvZiBwYXJhbWV0ZXJzICgke05hLmxlbmd0aH0pIC0gZXhwZWN0ZWQgKCR7T2JqZWN0LmtleXMoRC5IYSkudG9TdHJpbmcoKX0pIHBhcmFtZXRlcnMgaW5zdGVhZCFgCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIHJldHVybiB4Yi5hcHBseSh0aGlzLCBOYSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgTiA9IE9iamVjdC5jcmVhdGUoeiwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogcSB9IH0pOwogICAgICAgICAgICBxLnByb3RvdHlwZSA9IE47CiAgICAgICAgICAgIHZhciBEID0gbmV3IGNiKHAsIHEsIE4sIHYsIHIsIGYsIGgsIG0pOwogICAgICAgICAgICBpZiAoRC5DYSkgewogICAgICAgICAgICAgIHZhciBpYTsKICAgICAgICAgICAgICAoaWEgPSBELkNhKS5XYSA/PyAoaWEuV2EgPSBbXSk7CiAgICAgICAgICAgICAgRC5DYS5XYS5wdXNoKEQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHIgPSBuZXcgamIocCwgRCwgdHJ1ZSwgZmFsc2UsIGZhbHNlKTsKICAgICAgICAgICAgaWEgPSBuZXcgamIocCArICIqIiwgRCwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7CiAgICAgICAgICAgIHogPSBuZXcgamIocCArICIgY29uc3QqIiwgRCwgZmFsc2UsIHRydWUsIGZhbHNlKTsKICAgICAgICAgICAgUWFbYV0gPSB7IHBvaW50ZXJUeXBlOiBpYSwgJGE6IHogfTsKICAgICAgICAgICAga2IoZywgcSk7CiAgICAgICAgICAgIHJldHVybiBbciwgaWEsIHpdOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBxOiAoYSwgYiwgYywgZCwgZSwgZikgPT4gewogICAgICAgICAgdmFyIGwgPSByYihiLCBjKTsKICAgICAgICAgIGUgPSBUKGQsIGUpOwogICAgICAgICAgUChbXSwgW2FdLCAoaCkgPT4gewogICAgICAgICAgICBoID0gaFswXTsKICAgICAgICAgICAgdmFyIG4gPSBgY29uc3RydWN0b3IgJHtoLm5hbWV9YDsKICAgICAgICAgICAgdm9pZCAwID09PSBoLnhhLkhhICYmIChoLnhhLkhhID0gW10pOwogICAgICAgICAgICBpZiAodm9pZCAwICE9PSBoLnhhLkhhW2IgLSAxXSkKICAgICAgICAgICAgICB0aHJvdyBuZXcgUigKICAgICAgICAgICAgICAgIGBDYW5ub3QgcmVnaXN0ZXIgbXVsdGlwbGUgY29uc3RydWN0b3JzIHdpdGggaWRlbnRpY2FsIG51bWJlciBvZiBwYXJhbWV0ZXJzICgke2IgLSAxfSkgZm9yIGNsYXNzICcke2gubmFtZX0nISBPdmVybG9hZCByZXNvbHV0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHBlcmZvcm1lZCB1c2luZyB0aGUgcGFyYW1ldGVyIGNvdW50LCBub3QgYWN0dWFsIHR5cGUgaW5mbyFgCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgaC54YS5IYVtiIC0gMV0gPSAoKSA9PiB7CiAgICAgICAgICAgICAgcWIoYENhbm5vdCBjb25zdHJ1Y3QgJHtoLm5hbWV9IGR1ZSB0byB1bmJvdW5kIHR5cGVzYCwgbCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIFAoW10sIGwsIChtKSA9PiB7CiAgICAgICAgICAgICAgbS5zcGxpY2UoMSwgMCwgbnVsbCk7CiAgICAgICAgICAgICAgaC54YS5IYVtiIC0gMV0gPSB0YihuLCBtLCBudWxsLCBlLCBmKTsKICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGY6IChhLCBiLCBjLCBkLCBlLCBmLCBsLCBoKSA9PiB7CiAgICAgICAgICB2YXIgbiA9IHJiKGMsIGQpOwogICAgICAgICAgYiA9IFEoYik7CiAgICAgICAgICBiID0gdWIoYik7CiAgICAgICAgICBmID0gVChlLCBmKTsKICAgICAgICAgIFAoW10sIFthXSwgKG0pID0+IHsKICAgICAgICAgICAgZnVuY3Rpb24gcCgpIHsKICAgICAgICAgICAgICBxYihgQ2Fubm90IGNhbGwgJHt1fSBkdWUgdG8gdW5ib3VuZCB0eXBlc2AsIG4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG0gPSBtWzBdOwogICAgICAgICAgICB2YXIgdSA9IGAke20ubmFtZX0uJHtifWA7CiAgICAgICAgICAgIGIuc3RhcnRzV2l0aCgiQEAiKSAmJiAoYiA9IFN5bWJvbFtiLnN1YnN0cmluZygyKV0pOwogICAgICAgICAgICBoICYmIG0ueGEua2IucHVzaChiKTsKICAgICAgICAgICAgdmFyIHYgPSBtLnhhLkxhLCBnID0gdltiXTsKICAgICAgICAgICAgdm9pZCAwID09PSBnIHx8IHZvaWQgMCA9PT0gZy5CYSAmJiBnLmNsYXNzTmFtZSAhPT0gbS5uYW1lICYmIGcuT2EgPT09IGMgLSAyID8gKHAuT2EgPSBjIC0gMiwgcC5jbGFzc05hbWUgPSBtLm5hbWUsIHZbYl0gPSBwKSA6ICgkYSh2LCBiLCB1KSwgdltiXS5CYVtjIC0gMl0gPSBwKTsKICAgICAgICAgICAgUChbXSwgbiwgKHEpID0+IHsKICAgICAgICAgICAgICBxID0gdGIodSwgcSwgbSwgZiwgbCk7CiAgICAgICAgICAgICAgdm9pZCAwID09PSB2W2JdLkJhID8gKHEuT2EgPSBjIC0gMiwgdltiXSA9IHEpIDogdltiXS5CYVtjIC0gMl0gPSBxOwogICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgWDogKGEpID0+IE8oYSwgemIpLAogICAgICAgIHg6IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgICBmdW5jdGlvbiBlKCkgewogICAgICAgICAgfQogICAgICAgICAgYiA9IFEoYik7CiAgICAgICAgICBlLnZhbHVlcyA9IHt9OwogICAgICAgICAgTyhhLCB7CiAgICAgICAgICAgIG5hbWU6IGIsCiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiBlLAogICAgICAgICAgICBmcm9tV2lyZVR5cGU6IGZ1bmN0aW9uKGYpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci52YWx1ZXNbZl07CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvV2lyZVR5cGU6IChmLCBsKSA9PiBsLnZhbHVlLAogICAgICAgICAgICBhcmdQYWNrQWR2YW5jZTogOCwKICAgICAgICAgICAgcmVhZFZhbHVlRnJvbVBvaW50ZXI6IEFiKGIsIGMsIGQpLAogICAgICAgICAgICBFYTogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgICBhYihiLCBlKTsKICAgICAgICB9LAogICAgICAgIGs6IChhLCBiLCBjKSA9PiB7CiAgICAgICAgICB2YXIgZCA9IEJiKGEsICJlbnVtIik7CiAgICAgICAgICBiID0gUShiKTsKICAgICAgICAgIGEgPSBkLmNvbnN0cnVjdG9yOwogICAgICAgICAgZCA9IE9iamVjdC5jcmVhdGUoZC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHsKICAgICAgICAgICAgdmFsdWU6IHsgdmFsdWU6IGMgfSwKICAgICAgICAgICAgY29uc3RydWN0b3I6IHsgdmFsdWU6IFphKGAke2QubmFtZX1fJHtifWAsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICB9KSB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGEudmFsdWVzW2NdID0gZDsKICAgICAgICAgIGFbYl0gPSBkOwogICAgICAgIH0sCiAgICAgICAgQzogKGEsIGIsIGMpID0+IHsKICAgICAgICAgIGIgPSBRKGIpOwogICAgICAgICAgTyhhLCB7CiAgICAgICAgICAgIG5hbWU6IGIsCiAgICAgICAgICAgIGZyb21XaXJlVHlwZTogKGQpID0+IGQsCiAgICAgICAgICAgIHRvV2lyZVR5cGU6IChkLCBlKSA9PiBlLAogICAgICAgICAgICBhcmdQYWNrQWR2YW5jZTogOCwKICAgICAgICAgICAgcmVhZFZhbHVlRnJvbVBvaW50ZXI6IENiKGIsIGMpLAogICAgICAgICAgICBFYTogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBFOiAoYSwgYiwgYywgZCwgZSwgZikgPT4gewogICAgICAgICAgdmFyIGwgPSByYihiLCBjKTsKICAgICAgICAgIGEgPSBRKGEpOwogICAgICAgICAgYSA9IHViKGEpOwogICAgICAgICAgZSA9IFQoZCwgZSk7CiAgICAgICAgICBhYigKICAgICAgICAgICAgYSwKICAgICAgICAgICAgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgcWIoYENhbm5vdCBjYWxsICR7YX0gZHVlIHRvIHVuYm91bmQgdHlwZXNgLCBsKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYiAtIDEKICAgICAgICAgICk7CiAgICAgICAgICBQKFtdLCBsLCAoaCkgPT4gewogICAgICAgICAgICBrYihhLCB0YihhLCBbaFswXSwgbnVsbF0uY29uY2F0KGguc2xpY2UoMSkpLCBudWxsLCBlLCBmKSwgYiAtIDEpOwogICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGw6IChhLCBiLCBjLCBkLCBlKSA9PiB7CiAgICAgICAgICBiID0gUShiKTsKICAgICAgICAgIC0xID09PSBlICYmIChlID0gNDI5NDk2NzI5NSk7CiAgICAgICAgICBlID0gKGgpID0+IGg7CiAgICAgICAgICBpZiAoMCA9PT0gZCkgewogICAgICAgICAgICB2YXIgZiA9IDMyIC0gOCAqIGM7CiAgICAgICAgICAgIGUgPSAoaCkgPT4gaCA8PCBmID4+PiBmOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGwgPSBiLmluY2x1ZGVzKCJ1bnNpZ25lZCIpID8gZnVuY3Rpb24oaCwgbikgewogICAgICAgICAgICByZXR1cm4gbiA+Pj4gMDsKICAgICAgICAgIH0gOiBmdW5jdGlvbihoLCBuKSB7CiAgICAgICAgICAgIHJldHVybiBuOwogICAgICAgICAgfTsKICAgICAgICAgIE8oYSwgewogICAgICAgICAgICBuYW1lOiBiLAogICAgICAgICAgICBmcm9tV2lyZVR5cGU6IGUsCiAgICAgICAgICAgIHRvV2lyZVR5cGU6IGwsCiAgICAgICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgICAgICByZWFkVmFsdWVGcm9tUG9pbnRlcjogRGIoYiwgYywgMCAhPT0gZCksCiAgICAgICAgICAgIEVhOiBudWxsCiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGc6IChhLCBiLCBjKSA9PiB7CiAgICAgICAgICBmdW5jdGlvbiBkKGYpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBlKHkuYnVmZmVyLCBGW2YgKyA0ID4+IDJdLCBGW2YgPj4gMl0pOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGUgPSBbSW50OEFycmF5LCBVaW50OEFycmF5LCBJbnQxNkFycmF5LCBVaW50MTZBcnJheSwgSW50MzJBcnJheSwgVWludDMyQXJyYXksIEZsb2F0MzJBcnJheSwgRmxvYXQ2NEFycmF5XVtiXTsKICAgICAgICAgIGMgPSBRKGMpOwogICAgICAgICAgTyhhLCB7IG5hbWU6IGMsIGZyb21XaXJlVHlwZTogZCwgYXJnUGFja0FkdmFuY2U6IDgsIHJlYWRWYWx1ZUZyb21Qb2ludGVyOiBkIH0sIHsgaWI6IHRydWUgfSk7CiAgICAgICAgfSwKICAgICAgICB3OiAoYSkgPT4gewogICAgICAgICAgTyhhLCB6Yik7CiAgICAgICAgfSwKICAgICAgICBjYTogKGEsIGIsIGMsIGQsIGUsIGYsIGwsIGgsIG4sIG0sIHAsIHUpID0+IHsKICAgICAgICAgIGMgPSBRKGMpOwogICAgICAgICAgZiA9IFQoZSwgZik7CiAgICAgICAgICBoID0gVChsLCBoKTsKICAgICAgICAgIG0gPSBUKG4sIG0pOwogICAgICAgICAgdSA9IFQocCwgdSk7CiAgICAgICAgICBQKFthXSwgW2JdLCAodikgPT4gewogICAgICAgICAgICB2ID0gdlswXTsKICAgICAgICAgICAgcmV0dXJuIFtuZXcgamIoYywgdi54YSwgZmFsc2UsIGZhbHNlLCB0cnVlLCB2LCBkLCBmLCBoLCBtLCB1KV07CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIEQ6IChhLCBiKSA9PiB7CiAgICAgICAgICBiID0gUShiKTsKICAgICAgICAgIHZhciBjID0gInN0ZDo6c3RyaW5nIiA9PT0gYjsKICAgICAgICAgIE8oYSwgewogICAgICAgICAgICBuYW1lOiBiLAogICAgICAgICAgICBmcm9tV2lyZVR5cGU6IGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgICB2YXIgZSA9IEZbZCA+PiAyXSwgZiA9IGQgKyA0OwogICAgICAgICAgICAgIGlmIChjKQogICAgICAgICAgICAgICAgZm9yICh2YXIgbCA9IGYsIGggPSAwOyBoIDw9IGU7ICsraCkgewogICAgICAgICAgICAgICAgICB2YXIgbiA9IGYgKyBoOwogICAgICAgICAgICAgICAgICBpZiAoaCA9PSBlIHx8IDAgPT0gQVtuXSkgewogICAgICAgICAgICAgICAgICAgIGwgPSBsID8gSihBLCBsLCBuIC0gbCkgOiAiIjsKICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSBtKSB2YXIgbSA9IGw7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBtICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMCksIG0gKz0gbDsKICAgICAgICAgICAgICAgICAgICBsID0gbiArIDE7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIG0gPSBBcnJheShlKTsKICAgICAgICAgICAgICAgIGZvciAoaCA9IDA7IGggPCBlOyArK2gpIG1baF0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKEFbZiArIGhdKTsKICAgICAgICAgICAgICAgIG0gPSBtLmpvaW4oIiIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBVKGQpOwogICAgICAgICAgICAgIHJldHVybiBtOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b1dpcmVUeXBlOiBmdW5jdGlvbihkLCBlKSB7CiAgICAgICAgICAgICAgZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyICYmIChlID0gbmV3IFVpbnQ4QXJyYXkoZSkpOwogICAgICAgICAgICAgIHZhciBmID0gInN0cmluZyIgPT0gdHlwZW9mIGU7CiAgICAgICAgICAgICAgaWYgKCEoZiB8fCBlIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBlIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkgfHwgZSBpbnN0YW5jZW9mIEludDhBcnJheSkpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUigiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBzdGQ6OnN0cmluZyIpOwogICAgICAgICAgICAgIHZhciBsID0gYyAmJiBmID8gRGEoZSkgOiBlLmxlbmd0aDsKICAgICAgICAgICAgICB2YXIgaCA9IGJjKDQgKyBsICsgMSksIG4gPSBoICsgNDsKICAgICAgICAgICAgICBGW2ggPj4gMl0gPSBsOwogICAgICAgICAgICAgIGlmIChjICYmIGYpIEVhKGUsIEEsIG4sIGwgKyAxKTsKICAgICAgICAgICAgICBlbHNlIGlmIChmKQogICAgICAgICAgICAgICAgZm9yIChmID0gMDsgZiA8IGw7ICsrZikgewogICAgICAgICAgICAgICAgICB2YXIgbSA9IGUuY2hhckNvZGVBdChmKTsKICAgICAgICAgICAgICAgICAgaWYgKDI1NSA8IG0pIHRocm93IFUobiksIG5ldyBSKCJTdHJpbmcgaGFzIFVURi0xNiBjb2RlIHVuaXRzIHRoYXQgZG8gbm90IGZpdCBpbiA4IGJpdHMiKTsKICAgICAgICAgICAgICAgICAgQVtuICsgZl0gPSBtOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGVsc2UgZm9yIChmID0gMDsgZiA8IGw7ICsrZikgQVtuICsgZl0gPSBlW2ZdOwogICAgICAgICAgICAgIG51bGwgIT09IGQgJiYgZC5wdXNoKFUsIGgpOwogICAgICAgICAgICAgIHJldHVybiBoOwogICAgICAgICAgICB9LAogICAgICAgICAgICBhcmdQYWNrQWR2YW5jZTogOCwKICAgICAgICAgICAgcmVhZFZhbHVlRnJvbVBvaW50ZXI6IEssCiAgICAgICAgICAgIEVhKGQpIHsKICAgICAgICAgICAgICBVKGQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHU6IChhLCBiLCBjKSA9PiB7CiAgICAgICAgICBjID0gUShjKTsKICAgICAgICAgIGlmICgyID09PSBiKSB7CiAgICAgICAgICAgIHZhciBkID0gRmI7CiAgICAgICAgICAgIHZhciBlID0gR2I7CiAgICAgICAgICAgIHZhciBmID0gSGI7CiAgICAgICAgICAgIHZhciBsID0gKGgpID0+IENbaCA+PiAxXTsKICAgICAgICAgIH0gZWxzZSA0ID09PSBiICYmIChkID0gSWIsIGUgPSBKYiwgZiA9IEtiLCBsID0gKGgpID0+IEZbaCA+PiAyXSk7CiAgICAgICAgICBPKGEsIHsKICAgICAgICAgICAgbmFtZTogYywKICAgICAgICAgICAgZnJvbVdpcmVUeXBlOiAoaCkgPT4gewogICAgICAgICAgICAgIGZvciAodmFyIG4gPSBGW2ggPj4gMl0sIG0sIHAgPSBoICsgNCwgdSA9IDA7IHUgPD0gbjsgKyt1KSB7CiAgICAgICAgICAgICAgICB2YXIgdiA9IGggKyA0ICsgdSAqIGI7CiAgICAgICAgICAgICAgICBpZiAodSA9PSBuIHx8IDAgPT0gbCh2KSkKICAgICAgICAgICAgICAgICAgcCA9IGQocCwgdiAtIHApLCB2b2lkIDAgPT09IG0gPyBtID0gcCA6IChtICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMCksIG0gKz0gcCksIHAgPSB2ICsgYjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgVShoKTsKICAgICAgICAgICAgICByZXR1cm4gbTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9XaXJlVHlwZTogKGgsIG4pID0+IHsKICAgICAgICAgICAgICBpZiAoInN0cmluZyIgIT0gdHlwZW9mIG4pIHRocm93IG5ldyBSKGBDYW5ub3QgcGFzcyBub24tc3RyaW5nIHRvIEMrKyBzdHJpbmcgdHlwZSAke2N9YCk7CiAgICAgICAgICAgICAgdmFyIG0gPSBmKG4pLCBwID0gYmMoNCArIG0gKyBiKTsKICAgICAgICAgICAgICBGW3AgPj4gMl0gPSBtIC8gYjsKICAgICAgICAgICAgICBlKG4sIHAgKyA0LCBtICsgYik7CiAgICAgICAgICAgICAgbnVsbCAhPT0gaCAmJiBoLnB1c2goVSwgcCk7CiAgICAgICAgICAgICAgcmV0dXJuIHA7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgICAgICByZWFkVmFsdWVGcm9tUG9pbnRlcjogSywKICAgICAgICAgICAgRWEoaCkgewogICAgICAgICAgICAgIFUoaCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgczogKGEsIGIsIGMsIGQsIGUsIGYpID0+IHsKICAgICAgICAgIEZhW2FdID0geyBuYW1lOiBRKGIpLCBVYTogVChjLCBkKSwgRmE6IFQoZSwgZiksIFlhOiBbXSB9OwogICAgICAgIH0sCiAgICAgICAgajogKGEsIGIsIGMsIGQsIGUsIGYsIGwsIGgsIG4sIG0pID0+IHsKICAgICAgICAgIEZhW2FdLllhLnB1c2goeyBiYjogUShiKSwgaGI6IGMsIGZiOiBUKGQsIGUpLCBnYjogZiwgbmI6IGwsIG1iOiBUKGgsIG4pLCBvYjogbSB9KTsKICAgICAgICB9LAogICAgICAgIFo6IChhLCBiKSA9PiB7CiAgICAgICAgICBiID0gUShiKTsKICAgICAgICAgIE8oYSwgeyB1YjogdHJ1ZSwgbmFtZTogYiwgYXJnUGFja0FkdmFuY2U6IDAsIGZyb21XaXJlVHlwZTogKCkgPT4gewogICAgICAgICAgfSwgdG9XaXJlVHlwZTogKCkgPT4gewogICAgICAgICAgfSB9KTsKICAgICAgICB9LAogICAgICAgIEo6ICgpID0+IHsKICAgICAgICAgIHRocm93IEluZmluaXR5OwogICAgICAgIH0sCiAgICAgICAgYWE6IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgICBhID0gTGJbYV07CiAgICAgICAgICBiID0geWIoYik7CiAgICAgICAgICByZXR1cm4gYShudWxsLCBiLCBjLCBkKTsKICAgICAgICB9LAogICAgICAgIEY6IHdiLAogICAgICAgICQ6IChhLCBiLCBjKSA9PiB7CiAgICAgICAgICB2YXIgZCA9IE5iKGEsIGIpLCBlID0gZC5zaGlmdCgpOwogICAgICAgICAgYS0tOwogICAgICAgICAgdmFyIGYgPSBBcnJheShhKTsKICAgICAgICAgIGIgPSBgbWV0aG9kQ2FsbGVyPCgke2QubWFwKChsKSA9PiBsLm5hbWUpLmpvaW4oIiwgIil9KSA9PiAke2UubmFtZX0+YDsKICAgICAgICAgIHJldHVybiBNYigKICAgICAgICAgICAgWmEoYiwgKGwsIGgsIG4sIG0pID0+IHsKICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMCwgdSA9IDA7IHUgPCBhOyArK3UpIGZbdV0gPSBkW3VdLnJlYWRWYWx1ZUZyb21Qb2ludGVyKG0gKyBwKSwgcCArPSBkW3VdLmFyZ1BhY2tBZHZhbmNlOwogICAgICAgICAgICAgIGggPSAxID09PSBjID8gT2IoaCwgZikgOiBoLmFwcGx5KGwsIGYpOwogICAgICAgICAgICAgIGwgPSBbXTsKICAgICAgICAgICAgICBoID0gZS50b1dpcmVUeXBlKGwsIGgpOwogICAgICAgICAgICAgIGwubGVuZ3RoICYmIChGW24gPj4gMl0gPSBoYihsKSk7CiAgICAgICAgICAgICAgcmV0dXJuIGg7CiAgICAgICAgICAgIH0pCiAgICAgICAgICApOwogICAgICAgIH0sCiAgICAgICAgYmE6IChhKSA9PiB7CiAgICAgICAgICA5IDwgYSAmJiAoVlthICsgMV0gKz0gMSk7CiAgICAgICAgfSwKICAgICAgICBfOiAoYSkgPT4gewogICAgICAgICAgdmFyIGIgPSB5YihhKTsKICAgICAgICAgIEdhKGIpOwogICAgICAgICAgd2IoYSk7CiAgICAgICAgfSwKICAgICAgICBvOiAoYSwgYikgPT4gewogICAgICAgICAgYSA9IEJiKGEsICJfZW12YWxfdGFrZV92YWx1ZSIpOwogICAgICAgICAgYSA9IGEucmVhZFZhbHVlRnJvbVBvaW50ZXIoYik7CiAgICAgICAgICByZXR1cm4gaGIoYSk7CiAgICAgICAgfSwKICAgICAgICBXOiAoKSA9PiB7CiAgICAgICAgICByYSgiIik7CiAgICAgICAgfSwKICAgICAgICBWOiAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKSwKICAgICAgICBMOiAoYSkgPT4gewogICAgICAgICAgdmFyIGIgPSBBLmxlbmd0aDsKICAgICAgICAgIGEgPj4+PSAwOwogICAgICAgICAgaWYgKDIxNDc0ODM2NDggPCBhKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICBmb3IgKHZhciBjID0gMTsgNCA+PSBjOyBjICo9IDIpIHsKICAgICAgICAgICAgdmFyIGQgPSBiICogKDEgKyAwLjIgLyBjKTsKICAgICAgICAgICAgZCA9IE1hdGgubWluKGQsIGEgKyAxMDA2NjMyOTYpOwogICAgICAgICAgICB2YXIgZSA9IE1hdGg7CiAgICAgICAgICAgIGQgPSBNYXRoLm1heChhLCBkKTsKICAgICAgICAgICAgYTogewogICAgICAgICAgICAgIGUgPSAoZS5taW4uY2FsbChlLCAyMTQ3NDgzNjQ4LCBkICsgKDY1NTM2IC0gZCAlIDY1NTM2KSAlIDY1NTM2KSAtIGZhLmJ1ZmZlci5ieXRlTGVuZ3RoICsgNjU1MzUpIC8gNjU1MzY7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGZhLmdyb3coZSk7CiAgICAgICAgICAgICAgICBsYSgpOwogICAgICAgICAgICAgICAgdmFyIGYgPSAxOwogICAgICAgICAgICAgICAgYnJlYWsgYTsKICAgICAgICAgICAgICB9IGNhdGNoIChsKSB7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGYgPSB2b2lkIDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGYpIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgUzogKGEsIGIpID0+IHsKICAgICAgICAgIHZhciBjID0gMDsKICAgICAgICAgIFJiKCkuZm9yRWFjaCgoZCwgZSkgPT4gewogICAgICAgICAgICB2YXIgZiA9IGIgKyBjOwogICAgICAgICAgICBlID0gRlthICsgNCAqIGUgPj4gMl0gPSBmOwogICAgICAgICAgICBmb3IgKGYgPSAwOyBmIDwgZC5sZW5ndGg7ICsrZikgeVtlKytdID0gZC5jaGFyQ29kZUF0KGYpOwogICAgICAgICAgICB5W2VdID0gMDsKICAgICAgICAgICAgYyArPSBkLmxlbmd0aCArIDE7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0sCiAgICAgICAgVDogKGEsIGIpID0+IHsKICAgICAgICAgIHZhciBjID0gUmIoKTsKICAgICAgICAgIEZbYSA+PiAyXSA9IGMubGVuZ3RoOwogICAgICAgICAgdmFyIGQgPSAwOwogICAgICAgICAgYy5mb3JFYWNoKChlKSA9PiBkICs9IGUubGVuZ3RoICsgMSk7CiAgICAgICAgICBGW2IgPj4gMl0gPSBkOwogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfSwKICAgICAgICB0OiAoKSA9PiA1MiwKICAgICAgICB6OiAoKSA9PiA1MiwKICAgICAgICBIOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiA3MDsKICAgICAgICB9LAogICAgICAgIFE6IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgICBmb3IgKHZhciBlID0gMCwgZiA9IDA7IGYgPCBjOyBmKyspIHsKICAgICAgICAgICAgdmFyIGwgPSBGW2IgPj4gMl0sIGggPSBGW2IgKyA0ID4+IDJdOwogICAgICAgICAgICBiICs9IDg7CiAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgaDsgbisrKSB7CiAgICAgICAgICAgICAgdmFyIG0gPSBBW2wgKyBuXSwgcCA9IFNiW2FdOwogICAgICAgICAgICAgIDAgPT09IG0gfHwgMTAgPT09IG0gPyAoKDEgPT09IGEgPyBlYSA6IHcpKEoocCwgMCkpLCBwLmxlbmd0aCA9IDApIDogcC5wdXNoKG0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGUgKz0gaDsKICAgICAgICAgIH0KICAgICAgICAgIEZbZCA+PiAyXSA9IGU7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9LAogICAgICAgIFU6IChhLCBiKSA9PiB7CiAgICAgICAgICBVYihBLnN1YmFycmF5KGEsIGEgKyBiKSk7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9LAogICAgICAgIGk6IGNjLAogICAgICAgIGQ6IGRjLAogICAgICAgIGU6IGVjLAogICAgICAgIHA6IGZjLAogICAgICAgIHk6IGdjLAogICAgICAgIGI6IGhjLAogICAgICAgIGE6IGljLAogICAgICAgIGg6IGpjLAogICAgICAgIG46IGtjLAogICAgICAgIEc6IGxjLAogICAgICAgIEs6IChhLCBiLCBjLCBkKSA9PiBaYihhLCBiLCBjLCBkKQogICAgICB9LCBXID0gZnVuY3Rpb24oKSB7CiAgICAgICAgZnVuY3Rpb24gYShjKSB7CiAgICAgICAgICBXID0gYy5leHBvcnRzOwogICAgICAgICAgZmEgPSBXLmRhOwogICAgICAgICAgbGEoKTsKICAgICAgICAgIFMgPSBXLmhhOwogICAgICAgICAgbmEudW5zaGlmdChXLmVhKTsKICAgICAgICAgIEctLTsKICAgICAgICAgIGsubW9uaXRvclJ1bkRlcGVuZGVuY2llcz8uKEcpOwogICAgICAgICAgMCA9PSBHICYmIChudWxsICE9PSBxYSAmJiAoY2xlYXJJbnRlcnZhbChxYSksIHFhID0gbnVsbCksIEggJiYgKGMgPSBILCBIID0gbnVsbCwgYygpKSk7CiAgICAgICAgICByZXR1cm4gVzsKICAgICAgICB9CiAgICAgICAgdmFyIGIgPSB7IGE6IG1jIH07CiAgICAgICAgRysrOwogICAgICAgIGsubW9uaXRvclJ1bkRlcGVuZGVuY2llcz8uKEcpOwogICAgICAgIGlmIChrLmluc3RhbnRpYXRlV2FzbSkKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBrLmluc3RhbnRpYXRlV2FzbShiLCBhKTsKICAgICAgICAgIH0gY2F0Y2ggKGMpIHsKICAgICAgICAgICAgdyhgTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogJHtjfWApLCBiYShjKTsKICAgICAgICAgIH0KICAgICAgICB4YShiLCBmdW5jdGlvbihjKSB7CiAgICAgICAgICBhKGMuaW5zdGFuY2UpOwogICAgICAgIH0pLmNhdGNoKGJhKTsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0oKSwgYmMgPSAoYSkgPT4gKGJjID0gVy5mYSkoYSksIG9iID0gKGEpID0+IChvYiA9IFcuZ2EpKGEpLCBVID0gKGEpID0+IChVID0gVy5pYSkoYSksIFggPSAoYSwgYikgPT4gKFggPSBXLmphKShhLCBiKSwgWSA9IChhKSA9PiAoWSA9IFcua2EpKGEpLCBaID0gKCkgPT4gKFogPSBXLmxhKSgpOwogICAgICBrLmR5bkNhbGxfaWlqaiA9IChhLCBiLCBjLCBkLCBlLCBmKSA9PiAoay5keW5DYWxsX2lpamogPSBXLm5hKShhLCBiLCBjLCBkLCBlLCBmKTsKICAgICAgay5keW5DYWxsX3ZpamogPSAoYSwgYiwgYywgZCwgZSwgZikgPT4gKGsuZHluQ2FsbF92aWpqID0gVy5vYSkoYSwgYiwgYywgZCwgZSwgZik7CiAgICAgIGsuZHluQ2FsbF9qaWlpID0gKGEsIGIsIGMsIGQpID0+IChrLmR5bkNhbGxfamlpaSA9IFcucGEpKGEsIGIsIGMsIGQpOwogICAgICBrLmR5bkNhbGxfamlpID0gKGEsIGIsIGMpID0+IChrLmR5bkNhbGxfamlpID0gVy5xYSkoYSwgYiwgYyk7CiAgICAgIHZhciBuYyA9IGsuZHluQ2FsbF92aWlpaiA9IChhLCBiLCBjLCBkLCBlLCBmKSA9PiAobmMgPSBrLmR5bkNhbGxfdmlpaWogPSBXLnJhKShhLCBiLCBjLCBkLCBlLCBmKTsKICAgICAgay5keW5DYWxsX2ppamkgPSAoYSwgYiwgYywgZCwgZSkgPT4gKGsuZHluQ2FsbF9qaWppID0gVy5zYSkoYSwgYiwgYywgZCwgZSk7CiAgICAgIGsuZHluQ2FsbF92aWlqaWkgPSAoYSwgYiwgYywgZCwgZSwgZiwgbCkgPT4gKGsuZHluQ2FsbF92aWlqaWkgPSBXLnRhKShhLCBiLCBjLCBkLCBlLCBmLCBsKTsKICAgICAgay5keW5DYWxsX2lpaWlpaiA9IChhLCBiLCBjLCBkLCBlLCBmLCBsKSA9PiAoay5keW5DYWxsX2lpaWlpaiA9IFcudWEpKGEsIGIsIGMsIGQsIGUsIGYsIGwpOwogICAgICBrLmR5bkNhbGxfaWlpaWlqaiA9IChhLCBiLCBjLCBkLCBlLCBmLCBsLCBoLCBuKSA9PiAoay5keW5DYWxsX2lpaWlpamogPSBXLnZhKShhLCBiLCBjLCBkLCBlLCBmLCBsLCBoLCBuKTsKICAgICAgay5keW5DYWxsX2lpaWlpaWpqID0gKGEsIGIsIGMsIGQsIGUsIGYsIGwsIGgsIG4sIG0pID0+IChrLmR5bkNhbGxfaWlpaWlpamogPSBXLndhKShhLCBiLCBjLCBkLCBlLCBmLCBsLCBoLCBuLCBtKTsKICAgICAgZnVuY3Rpb24gaGMoYSwgYikgewogICAgICAgIHZhciBjID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICBTLmdldChhKShiKTsKICAgICAgICB9IGNhdGNoIChkKSB7CiAgICAgICAgICBZKGMpOwogICAgICAgICAgaWYgKGQgIT09IGQgKyAwKSB0aHJvdyBkOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gaWMoYSwgYiwgYykgewogICAgICAgIHZhciBkID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICBTLmdldChhKShiLCBjKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBZKGQpOwogICAgICAgICAgaWYgKGUgIT09IGUgKyAwKSB0aHJvdyBlOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gZWMoYSwgYiwgYywgZCkgewogICAgICAgIHZhciBlID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gUy5nZXQoYSkoYiwgYywgZCk7CiAgICAgICAgfSBjYXRjaCAoZikgewogICAgICAgICAgWShlKTsKICAgICAgICAgIGlmIChmICE9PSBmICsgMCkgdGhyb3cgZjsKICAgICAgICAgIFgoMSwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGRjKGEsIGIsIGMpIHsKICAgICAgICB2YXIgZCA9IFooKTsKICAgICAgICB0cnkgewogICAgICAgICAgcmV0dXJuIFMuZ2V0KGEpKGIsIGMpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIFkoZCk7CiAgICAgICAgICBpZiAoZSAhPT0gZSArIDApIHRocm93IGU7CiAgICAgICAgICBYKDEsIDApOwogICAgICAgIH0KICAgICAgfQogICAgICBmdW5jdGlvbiBjYyhhLCBiKSB7CiAgICAgICAgdmFyIGMgPSBaKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiBTLmdldChhKShiKTsKICAgICAgICB9IGNhdGNoIChkKSB7CiAgICAgICAgICBZKGMpOwogICAgICAgICAgaWYgKGQgIT09IGQgKyAwKSB0aHJvdyBkOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gZmMoYSwgYiwgYywgZCwgZSwgZikgewogICAgICAgIHZhciBsID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gUy5nZXQoYSkoYiwgYywgZCwgZSwgZik7CiAgICAgICAgfSBjYXRjaCAoaCkgewogICAgICAgICAgWShsKTsKICAgICAgICAgIGlmIChoICE9PSBoICsgMCkgdGhyb3cgaDsKICAgICAgICAgIFgoMSwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGtjKGEsIGIsIGMsIGQsIGUpIHsKICAgICAgICB2YXIgZiA9IFooKTsKICAgICAgICB0cnkgewogICAgICAgICAgUy5nZXQoYSkoYiwgYywgZCwgZSk7CiAgICAgICAgfSBjYXRjaCAobCkgewogICAgICAgICAgWShmKTsKICAgICAgICAgIGlmIChsICE9PSBsICsgMCkgdGhyb3cgbDsKICAgICAgICAgIFgoMSwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGpjKGEsIGIsIGMsIGQpIHsKICAgICAgICB2YXIgZSA9IFooKTsKICAgICAgICB0cnkgewogICAgICAgICAgUy5nZXQoYSkoYiwgYywgZCk7CiAgICAgICAgfSBjYXRjaCAoZikgewogICAgICAgICAgWShlKTsKICAgICAgICAgIGlmIChmICE9PSBmICsgMCkgdGhyb3cgZjsKICAgICAgICAgIFgoMSwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGdjKGEpIHsKICAgICAgICB2YXIgYiA9IFooKTsKICAgICAgICB0cnkgewogICAgICAgICAgUy5nZXQoYSkoKTsKICAgICAgICB9IGNhdGNoIChjKSB7CiAgICAgICAgICBZKGIpOwogICAgICAgICAgaWYgKGMgIT09IGMgKyAwKSB0aHJvdyBjOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gbGMoYSwgYiwgYywgZCwgZSwgZikgewogICAgICAgIHZhciBsID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICBuYyhhLCBiLCBjLCBkLCBlLCBmKTsKICAgICAgICB9IGNhdGNoIChoKSB7CiAgICAgICAgICBZKGwpOwogICAgICAgICAgaWYgKGggIT09IGggKyAwKSB0aHJvdyBoOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdmFyIG9jOwogICAgICBIID0gZnVuY3Rpb24gcGMoKSB7CiAgICAgICAgb2MgfHwgcWMoKTsKICAgICAgICBvYyB8fCAoSCA9IHBjKTsKICAgICAgfTsKICAgICAgZnVuY3Rpb24gcWMoKSB7CiAgICAgICAgZnVuY3Rpb24gYSgpIHsKICAgICAgICAgIGlmICghb2MgJiYgKG9jID0gdHJ1ZSwgay5jYWxsZWRSdW4gPSB0cnVlLCAhaGEpKSB7CiAgICAgICAgICAgIHlhKG5hKTsKICAgICAgICAgICAgYWEoayk7CiAgICAgICAgICAgIGlmIChrLm9uUnVudGltZUluaXRpYWxpemVkKSBrLm9uUnVudGltZUluaXRpYWxpemVkKCk7CiAgICAgICAgICAgIGlmIChrLnBvc3RSdW4pCiAgICAgICAgICAgICAgZm9yICgiZnVuY3Rpb24iID09IHR5cGVvZiBrLnBvc3RSdW4gJiYgKGsucG9zdFJ1biA9IFtrLnBvc3RSdW5dKTsgay5wb3N0UnVuLmxlbmd0aDsgKSB7CiAgICAgICAgICAgICAgICB2YXIgYiA9IGsucG9zdFJ1bi5zaGlmdCgpOwogICAgICAgICAgICAgICAgb2EudW5zaGlmdChiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIHlhKG9hKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCEoMCA8IEcpKSB7CiAgICAgICAgICBpZiAoay5wcmVSdW4pIGZvciAoImZ1bmN0aW9uIiA9PSB0eXBlb2Ygay5wcmVSdW4gJiYgKGsucHJlUnVuID0gW2sucHJlUnVuXSk7IGsucHJlUnVuLmxlbmd0aDsgKSBwYSgpOwogICAgICAgICAgeWEobWEpOwogICAgICAgICAgMCA8IEcgfHwgKGsuc2V0U3RhdHVzID8gKGsuc2V0U3RhdHVzKCJSdW5uaW5nLi4uIiksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgay5zZXRTdGF0dXMoIiIpOwogICAgICAgICAgICB9LCAxKTsKICAgICAgICAgICAgYSgpOwogICAgICAgICAgfSwgMSkpIDogYSgpKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGsucHJlSW5pdCkKICAgICAgICBmb3IgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIGsucHJlSW5pdCAmJiAoay5wcmVJbml0ID0gW2sucHJlSW5pdF0pOyAwIDwgay5wcmVJbml0Lmxlbmd0aDsgKSBrLnByZUluaXQucG9wKCkoKTsKICAgICAgcWMoKTsKICAgICAgcmV0dXJuIHJlYWR5UHJvbWlzZTsKICAgIH07CiAgfSkoKTsKICB2YXIgZG90bG90dGllX3BsYXllcl9kZWZhdWx0ID0gY3JlYXRlRG90TG90dGllUGxheWVyTW9kdWxlOwoKICAvLyBzcmMvY29yZS9kb3Rsb3R0aWUtd2FzbS1sb2FkZXIudHMKICB2YXIgRG90TG90dGllV2FzbUxvYWRlciA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlJlbmRlcmVyTG9hZGVyIGlzIGEgc3RhdGljIGNsYXNzIGFuZCBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLiIpOwogICAgfQogICAgc3RhdGljIGFzeW5jIF90cnlMb2FkKHVybCkgewogICAgICBjb25zdCBtb2R1bGUgPSBhd2FpdCBkb3Rsb3R0aWVfcGxheWVyX2RlZmF1bHQoeyBsb2NhdGVGaWxlOiAoKSA9PiB1cmwgfSk7CiAgICAgIHJldHVybiBtb2R1bGU7CiAgICB9CiAgICAvKioKICAgICAqIFRyaWVzIHRvIGxvYWQgdGhlIFdBU00gbW9kdWxlIGZyb20gdGhlIHByaW1hcnkgVVJMLCBmYWxsaW5nIGJhY2sgdG8gYSBiYWNrdXAgVVJMIGlmIG5lY2Vzc2FyeS4KICAgICAqIFRocm93cyBhbiBlcnJvciBpZiBib3RoIFVSTHMgZmFpbCB0byBsb2FkIHRoZSBtb2R1bGUuCiAgICAgKiBAcmV0dXJucyBQcm9taXNlPE1vZHVsZT4gLSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgbG9hZGVkIG1vZHVsZS4KICAgICAqLwogICAgc3RhdGljIGFzeW5jIF9sb2FkV2l0aEJhY2t1cCgpIHsKICAgICAgaWYgKCF0aGlzLl9Nb2R1bGVQcm9taXNlKSB7CiAgICAgICAgdGhpcy5fTW9kdWxlUHJvbWlzZSA9IHRoaXMuX3RyeUxvYWQodGhpcy5fd2FzbVVSTCkuY2F0Y2goYXN5bmMgKGluaXRpYWxFcnJvcikgPT4gewogICAgICAgICAgY29uc3QgYmFja3VwVXJsID0gYGh0dHBzOi8vdW5wa2cuY29tLyR7UEFDS0FHRV9OQU1FfUAke1BBQ0tBR0VfVkVSU0lPTn0vZGlzdC9kb3Rsb3R0aWUtcGxheWVyLndhc21gOwogICAgICAgICAgY29uc29sZS53YXJuKGBQcmltYXJ5IFdBU00gbG9hZCBmYWlsZWQgZnJvbSAke3RoaXMuX3dhc21VUkx9LiBFcnJvcjogJHtpbml0aWFsRXJyb3IubWVzc2FnZX1gKTsKICAgICAgICAgIGNvbnNvbGUud2FybihgQXR0ZW1wdGluZyB0byBsb2FkIFdBU00gZnJvbSBiYWNrdXAgVVJMOiAke2JhY2t1cFVybH1gKTsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl90cnlMb2FkKGJhY2t1cFVybCk7CiAgICAgICAgICB9IGNhdGNoIChiYWNrdXBFcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGBQcmltYXJ5IFdBU00gVVJMIGZhaWxlZDogJHtpbml0aWFsRXJyb3IubWVzc2FnZX1gKTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQmFja3VwIFdBU00gVVJMIGZhaWxlZDogJHtiYWNrdXBFcnJvci5tZXNzYWdlfWApOwogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIldBU00gbG9hZGluZyBmYWlsZWQgZnJvbSBhbGwgc291cmNlcy4iKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5fTW9kdWxlUHJvbWlzZTsKICAgIH0KICAgIC8qKgogICAgICogUHVibGljIG1ldGhvZCB0byBsb2FkIHRoZSBXZWJBc3NlbWJseSBtb2R1bGUuCiAgICAgKiBVdGlsaXplcyBhIHByaW1hcnkgYW5kIGJhY2t1cCBVUkwgZm9yIHJvYnVzdG5lc3MuCiAgICAgKiBAcmV0dXJucyBQcm9taXNlPE1vZHVsZT4gLSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgbG9hZGVkIG1vZHVsZS4KICAgICAqLwogICAgc3RhdGljIGFzeW5jIGxvYWQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9sb2FkV2l0aEJhY2t1cCgpOwogICAgfQogICAgLyoqCiAgICAgKiBTZXRzIGEgbmV3IFVSTCBmb3IgdGhlIFdBU00gZmlsZSBhbmQgaW52YWxpZGF0ZXMgdGhlIGN1cnJlbnQgbW9kdWxlIHByb21pc2UuCiAgICAgKgogICAgICogQHBhcmFtIHN0cmluZyAtICBUaGUgbmV3IFVSTCBmb3IgdGhlIFdBU00gZmlsZS4KICAgICAqLwogICAgc3RhdGljIHNldFdhc21VcmwodXJsKSB7CiAgICAgIHRoaXMuX3dhc21VUkwgPSB1cmw7CiAgICAgIHRoaXMuX01vZHVsZVByb21pc2UgPSBudWxsOwogICAgfQogIH07CiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvbgogIF9fcHVibGljRmllbGQoRG90TG90dGllV2FzbUxvYWRlciwgIl9Nb2R1bGVQcm9taXNlIiwgbnVsbCk7CiAgLy8gVVJMIGZvciB0aGUgV0FTTSBmaWxlLCBjb25zdHJ1Y3RlZCB1c2luZyBwYWNrYWdlIGluZm9ybWF0aW9uCiAgX19wdWJsaWNGaWVsZChEb3RMb3R0aWVXYXNtTG9hZGVyLCAiX3dhc21VUkwiLCBgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS8ke1BBQ0tBR0VfTkFNRX1AJHtQQUNLQUdFX1ZFUlNJT059L2Rpc3QvZG90bG90dGllLXBsYXllci53YXNtYCk7CgogIC8vIHNyYy9ldmVudC1tYW5hZ2VyLnRzCiAgdmFyIEV2ZW50TWFuYWdlciA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfZXZlbnRMaXN0ZW5lcnMiLCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTsKICAgIH0KICAgIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50TGlzdGVuZXJzLmdldCh0eXBlKTsKICAgICAgaWYgKCFsaXN0ZW5lcnMpIHsKICAgICAgICBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpOwogICAgICAgIHRoaXMuX2V2ZW50TGlzdGVuZXJzLnNldCh0eXBlLCBsaXN0ZW5lcnMpOwogICAgICB9CiAgICAgIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpOwogICAgfQogICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudExpc3RlbmVycy5nZXQodHlwZSk7CiAgICAgIGlmICghbGlzdGVuZXJzKSByZXR1cm47CiAgICAgIGlmIChsaXN0ZW5lcikgewogICAgICAgIGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpOwogICAgICAgIGlmIChsaXN0ZW5lcnMuc2l6ZSA9PT0gMCkgewogICAgICAgICAgdGhpcy5fZXZlbnRMaXN0ZW5lcnMuZGVsZXRlKHR5cGUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9ldmVudExpc3RlbmVycy5kZWxldGUodHlwZSk7CiAgICAgIH0KICAgIH0KICAgIGRpc3BhdGNoKGV2ZW50KSB7CiAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50TGlzdGVuZXJzLmdldChldmVudC50eXBlKTsKICAgICAgbGlzdGVuZXJzPy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoZXZlbnQpKTsKICAgIH0KICAgIHJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCkgewogICAgICB0aGlzLl9ldmVudExpc3RlbmVycy5jbGVhcigpOwogICAgfQogIH07CgogIC8vIHNyYy91dGlscy50cwogIGZ1bmN0aW9uIGlzSGV4Q29sb3IoY29sb3IpIHsKICAgIHJldHVybiAvXiMoW1xkYS1mXXs2fXxbXGRhLWZdezh9KSQvaXUudGVzdChjb2xvcik7CiAgfQogIGZ1bmN0aW9uIGhleFN0cmluZ1RvUkdCQUludChjb2xvckhleCkgewogICAgaWYgKCFpc0hleENvbG9yKGNvbG9ySGV4KSkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGxldCBoZXggPSBjb2xvckhleC5yZXBsYWNlKCIjIiwgIiIpOwogICAgaGV4ID0gaGV4Lmxlbmd0aCA9PT0gNiA/IGAke2hleH1mZmAgOiBoZXg7CiAgICByZXR1cm4gcGFyc2VJbnQoaGV4LCAxNik7CiAgfQogIGZ1bmN0aW9uIGlzRG90TG90dGllKGZpbGVEYXRhKSB7CiAgICBpZiAoZmlsZURhdGEuYnl0ZUxlbmd0aCA8IDQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgY29uc3QgZmlsZVNpZ25hdHVyZSA9IG5ldyBVaW50OEFycmF5KGZpbGVEYXRhLnNsaWNlKDAsIFpJUF9TSUdOQVRVUkUuYnl0ZUxlbmd0aCkpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBaSVBfU0lHTkFUVVJFLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgIGlmIChaSVBfU0lHTkFUVVJFW2ldICE9PSBmaWxlU2lnbmF0dXJlW2ldKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgZnVuY3Rpb24gaXNMb3R0aWVKU09OKGpzb24pIHsKICAgIHJldHVybiBMT1RUSUVfSlNPTl9NQU5EQVRPUllfRklFTERTLmV2ZXJ5KChmaWVsZCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGpzb24sIGZpZWxkKSk7CiAgfQogIGZ1bmN0aW9uIGlzTG90dGllKGZpbGVEYXRhKSB7CiAgICBpZiAodHlwZW9mIGZpbGVEYXRhID09PSAic3RyaW5nIikgewogICAgICB0cnkgewogICAgICAgIHJldHVybiBpc0xvdHRpZUpTT04oSlNPTi5wYXJzZShmaWxlRGF0YSkpOwogICAgICB9IGNhdGNoIChfZSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGlzTG90dGllSlNPTihmaWxlRGF0YSk7CiAgICB9CiAgfQoKICAvLyBzcmMvZG90bG90dGllLnRzCiAgdmFyIGNyZWF0ZUNvcmVNb2RlID0gKG1vZGUsIG1vZHVsZSkgPT4gewogICAgaWYgKG1vZGUgPT09ICJyZXZlcnNlIikgewogICAgICByZXR1cm4gbW9kdWxlLk1vZGUuUmV2ZXJzZTsKICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gImJvdW5jZSIpIHsKICAgICAgcmV0dXJuIG1vZHVsZS5Nb2RlLkJvdW5jZTsKICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gInJldmVyc2UtYm91bmNlIikgewogICAgICByZXR1cm4gbW9kdWxlLk1vZGUuUmV2ZXJzZUJvdW5jZTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBtb2R1bGUuTW9kZS5Gb3J3YXJkOwogICAgfQogIH07CiAgdmFyIGNyZWF0ZUNvcmVGaXQgPSAoZml0LCBtb2R1bGUpID0+IHsKICAgIGlmIChmaXQgPT09ICJjb250YWluIikgewogICAgICByZXR1cm4gbW9kdWxlLkZpdC5Db250YWluOwogICAgfSBlbHNlIGlmIChmaXQgPT09ICJjb3ZlciIpIHsKICAgICAgcmV0dXJuIG1vZHVsZS5GaXQuQ292ZXI7CiAgICB9IGVsc2UgaWYgKGZpdCA9PT0gImZpbGwiKSB7CiAgICAgIHJldHVybiBtb2R1bGUuRml0LkZpbGw7CiAgICB9IGVsc2UgaWYgKGZpdCA9PT0gImZpdC1oZWlnaHQiKSB7CiAgICAgIHJldHVybiBtb2R1bGUuRml0LkZpdEhlaWdodDsKICAgIH0gZWxzZSBpZiAoZml0ID09PSAiZml0LXdpZHRoIikgewogICAgICByZXR1cm4gbW9kdWxlLkZpdC5GaXRXaWR0aDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBtb2R1bGUuRml0Lk5vbmU7CiAgICB9CiAgfTsKICB2YXIgY3JlYXRlQ29yZUFsaWduID0gKGFsaWduLCBtb2R1bGUpID0+IHsKICAgIGNvbnN0IGNvcmVBbGlnbiA9IG5ldyBtb2R1bGUuVmVjdG9yRmxvYXQoKTsKICAgIGNvcmVBbGlnbi5wdXNoX2JhY2soYWxpZ25bMF0pOwogICAgY29yZUFsaWduLnB1c2hfYmFjayhhbGlnblsxXSk7CiAgICByZXR1cm4gY29yZUFsaWduOwogIH07CiAgdmFyIGNyZWF0ZUNvcmVTZWdtZW50ID0gKHNlZ21lbnQsIG1vZHVsZSkgPT4gewogICAgY29uc3QgY29yZXNlZ21lbnQgPSBuZXcgbW9kdWxlLlZlY3RvckZsb2F0KCk7CiAgICBpZiAoc2VnbWVudC5sZW5ndGggIT09IDIpIHJldHVybiBjb3Jlc2VnbWVudDsKICAgIGNvcmVzZWdtZW50LnB1c2hfYmFjayhzZWdtZW50WzBdKTsKICAgIGNvcmVzZWdtZW50LnB1c2hfYmFjayhzZWdtZW50WzFdKTsKICAgIHJldHVybiBjb3Jlc2VnbWVudDsKICB9OwogIHZhciBfRG90TG90dGllID0gY2xhc3MgX0RvdExvdHRpZSB7CiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX2NhbnZhcyIpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfY29udGV4dCIsIG51bGwpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfZXZlbnRNYW5hZ2VyIik7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9hbmltYXRpb25GcmFtZUlkIiwgbnVsbCk7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9mcmFtZU1hbmFnZXIiKTsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX2RvdExvdHRpZUNvcmUiLCBudWxsKTsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX3JlbmRlckNvbmZpZyIsIHt9KTsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX2lzRnJvemVuIiwgZmFsc2UpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfYmFja2dyb3VuZENvbG9yIiwgbnVsbCk7CiAgICAgIHRoaXMuX2NhbnZhcyA9IGNvbmZpZy5jYW52YXM7CiAgICAgIHRoaXMuX2NvbnRleHQgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyID0gbmV3IEV2ZW50TWFuYWdlcigpOwogICAgICB0aGlzLl9mcmFtZU1hbmFnZXIgPSBuZXcgQW5pbWF0aW9uRnJhbWVNYW5hZ2VyKCk7CiAgICAgIHRoaXMuX3JlbmRlckNvbmZpZyA9IGNvbmZpZy5yZW5kZXJDb25maWcgPz8ge307CiAgICAgIERvdExvdHRpZVdhc21Mb2FkZXIubG9hZCgpLnRoZW4oKG1vZHVsZSkgPT4gewogICAgICAgIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUgPSBtb2R1bGU7CiAgICAgICAgdGhpcy5fZG90TG90dGllQ29yZSA9IG5ldyBtb2R1bGUuRG90TG90dGllUGxheWVyKHsKICAgICAgICAgIGF1dG9wbGF5OiBjb25maWcuYXV0b3BsYXkgPz8gZmFsc2UsCiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDAsCiAgICAgICAgICBsb29wQW5pbWF0aW9uOiBjb25maWcubG9vcCA/PyBmYWxzZSwKICAgICAgICAgIG1vZGU6IGNyZWF0ZUNvcmVNb2RlKGNvbmZpZy5tb2RlID8/ICJmb3J3YXJkIiwgbW9kdWxlKSwKICAgICAgICAgIHNlZ21lbnQ6IGNyZWF0ZUNvcmVTZWdtZW50KGNvbmZpZy5zZWdtZW50ID8/IFtdLCBtb2R1bGUpLAogICAgICAgICAgc3BlZWQ6IGNvbmZpZy5zcGVlZCA/PyAxLAogICAgICAgICAgdXNlRnJhbWVJbnRlcnBvbGF0aW9uOiBjb25maWcudXNlRnJhbWVJbnRlcnBvbGF0aW9uID8/IHRydWUsCiAgICAgICAgICBtYXJrZXI6IGNvbmZpZy5tYXJrZXIgPz8gIiIsCiAgICAgICAgICBsYXlvdXQ6IGNvbmZpZy5sYXlvdXQgPyB7CiAgICAgICAgICAgIGFsaWduOiBjcmVhdGVDb3JlQWxpZ24oY29uZmlnLmxheW91dC5hbGlnbiwgbW9kdWxlKSwKICAgICAgICAgICAgZml0OiBjcmVhdGVDb3JlRml0KGNvbmZpZy5sYXlvdXQuZml0LCBtb2R1bGUpCiAgICAgICAgICB9IDogbW9kdWxlLmNyZWF0ZURlZmF1bHRMYXlvdXQoKQogICAgICAgIH0pOwogICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7IHR5cGU6ICJyZWFkeSIgfSk7CiAgICAgICAgaWYgKGNvbmZpZy5kYXRhKSB7CiAgICAgICAgICB0aGlzLl9sb2FkRnJvbURhdGEoY29uZmlnLmRhdGEpOwogICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnNyYykgewogICAgICAgICAgdGhpcy5fbG9hZEZyb21TcmMoY29uZmlnLnNyYyk7CiAgICAgICAgfQogICAgICAgIGlmIChjb25maWcuYmFja2dyb3VuZENvbG9yKSB7CiAgICAgICAgICB0aGlzLnNldEJhY2tncm91bmRDb2xvcihjb25maWcuYmFja2dyb3VuZENvbG9yKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7CiAgICAgICAgICB0eXBlOiAibG9hZEVycm9yIiwKICAgICAgICAgIGVycm9yOiBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIHdhc20gbW9kdWxlOiAke2Vycm9yfWApCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogICAgX2Rpc3BhdGNoRXJyb3IobWVzc2FnZSkgewogICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpOwogICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAibG9hZEVycm9yIiwgZXJyb3I6IG5ldyBFcnJvcihtZXNzYWdlKSB9KTsKICAgIH0KICAgIGFzeW5jIF9mZXRjaERhdGEoc3JjKSB7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc3JjKTsKICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGFuaW1hdGlvbiBkYXRhIGZyb20gVVJMOiAke3NyY30uICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApOwogICAgICB9CiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpOwogICAgICBpZiAoaXNEb3RMb3R0aWUoZGF0YSkpIHsKICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgfQogICAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGRhdGEpOwogICAgfQogICAgX2xvYWRGcm9tRGF0YShkYXRhKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm47CiAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5fY2FudmFzLndpZHRoOwogICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLl9jYW52YXMuaGVpZ2h0OwogICAgICBsZXQgbG9hZGVkID0gZmFsc2U7CiAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gInN0cmluZyIpIHsKICAgICAgICBpZiAoIWlzTG90dGllKGRhdGEpKSB7CiAgICAgICAgICB0aGlzLl9kaXNwYXRjaEVycm9yKAogICAgICAgICAgICAiSW52YWxpZCBMb3R0aWUgSlNPTiBzdHJpbmc6IFRoZSBwcm92aWRlZCBzdHJpbmcgZG9lcyBub3QgY29uZm9ybSB0byB0aGUgTG90dGllIEpTT04gZm9ybWF0LiIKICAgICAgICAgICk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxvYWRlZCA9IHRoaXMuX2RvdExvdHRpZUNvcmUubG9hZEFuaW1hdGlvbkRhdGEoZGF0YSwgd2lkdGgsIGhlaWdodCk7CiAgICAgIH0gZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7CiAgICAgICAgaWYgKCFpc0RvdExvdHRpZShkYXRhKSkgewogICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFcnJvcigKICAgICAgICAgICAgIkludmFsaWQgZG90TG90dGllIEFycmF5QnVmZmVyOiBUaGUgcHJvdmlkZWQgQXJyYXlCdWZmZXIgZG9lcyBub3QgY29uZm9ybSB0byB0aGUgZG90TG90dGllIGZvcm1hdC4iCiAgICAgICAgICApOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBsb2FkZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLmxvYWREb3RMb3R0aWVEYXRhKGRhdGEsIHdpZHRoLCBoZWlnaHQpOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSAib2JqZWN0IikgewogICAgICAgIGlmICghaXNMb3R0aWUoZGF0YSkpIHsKICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRXJyb3IoCiAgICAgICAgICAgICJJbnZhbGlkIExvdHRpZSBKU09OIG9iamVjdDogVGhlIHByb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb25mb3JtIHRvIHRoZSBMb3R0aWUgSlNPTiBmb3JtYXQuIgogICAgICAgICAgKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbG9hZGVkID0gdGhpcy5fZG90TG90dGllQ29yZS5sb2FkQW5pbWF0aW9uRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgd2lkdGgsIGhlaWdodCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fZGlzcGF0Y2hFcnJvcigKICAgICAgICAgIGBVbnN1cHBvcnRlZCBkYXRhIHR5cGUgZm9yIGFuaW1hdGlvbiBkYXRhLiBFeHBlY3RlZDogCiAgICAgICAgICAtIHN0cmluZyAoTG90dGllIEpTT04pLAogICAgICAgICAgLSBBcnJheUJ1ZmZlciAoZG90TG90dGllKSwKICAgICAgICAgIC0gb2JqZWN0IChMb3R0aWUgSlNPTikuIAogICAgICAgICAgUmVjZWl2ZWQ6ICR7dHlwZW9mIGRhdGF9YAogICAgICAgICk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmIChsb2FkZWQpIHsKICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAibG9hZCIgfSk7CiAgICAgICAgaWYgKElTX0JST1dTRVIpIHsKICAgICAgICAgIHRoaXMucmVzaXplKCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7CiAgICAgICAgICB0eXBlOiAiZnJhbWUiLAogICAgICAgICAgY3VycmVudEZyYW1lOiB0aGlzLl9kb3RMb3R0aWVDb3JlLmN1cnJlbnRGcmFtZSgpCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5fcmVuZGVyKCk7CiAgICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUuY29uZmlnKCkuYXV0b3BsYXkpIHsKICAgICAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUucGxheSgpOwogICAgICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUuaXNQbGF5aW5nKCkpIHsKICAgICAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsgdHlwZTogInBsYXkiIH0pOwogICAgICAgICAgICB0aGlzLl9hbmltYXRpb25GcmFtZUlkID0gdGhpcy5fZnJhbWVNYW5hZ2VyLnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9kcmF3LmJpbmQodGhpcykpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigic29tZXRoaW5nIHdlbnQgd3JvbmcsIHRoZSBhbmltYXRpb24gd2FzIHN1cHBvc2UgdG8gYXV0b3BsYXkiKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fZGlzcGF0Y2hFcnJvcigiRmFpbGVkIHRvIGxvYWQgYW5pbWF0aW9uIGRhdGEiKTsKICAgICAgfQogICAgfQogICAgX2xvYWRGcm9tU3JjKHNyYykgewogICAgICB0aGlzLl9mZXRjaERhdGEoc3JjKS50aGVuKChkYXRhKSA9PiB0aGlzLl9sb2FkRnJvbURhdGEoZGF0YSkpLmNhdGNoKChlcnJvcikgPT4gdGhpcy5fZGlzcGF0Y2hFcnJvcihgRmFpbGVkIHRvIGxvYWQgYW5pbWF0aW9uIGRhdGEgZnJvbSBVUkw6ICR7c3JjfS4gJHtlcnJvcn1gKSk7CiAgICB9CiAgICBnZXQgYWN0aXZlQW5pbWF0aW9uSWQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5hY3RpdmVBbmltYXRpb25JZCgpOwogICAgfQogICAgZ2V0IGFjdGl2ZVRoZW1lSWQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5hY3RpdmVUaGVtZUlkKCk7CiAgICB9CiAgICBnZXQgbGF5b3V0KCkgewogICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5jb25maWcoKS5sYXlvdXQ7CiAgICAgIGlmIChsYXlvdXQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgYWxpZ246IFtsYXlvdXQuYWxpZ24uZ2V0KDApLCBsYXlvdXQuYWxpZ24uZ2V0KDEpXSwKICAgICAgICAgIGZpdDogKCgpID0+IHsKICAgICAgICAgICAgc3dpdGNoIChsYXlvdXQuZml0KSB7CiAgICAgICAgICAgICAgY2FzZSBfRG90TG90dGllLl93YXNtTW9kdWxlPy5GaXQuQ29udGFpbjoKICAgICAgICAgICAgICAgIHJldHVybiAiY29udGFpbiI7CiAgICAgICAgICAgICAgY2FzZSBfRG90TG90dGllLl93YXNtTW9kdWxlPy5GaXQuQ292ZXI6CiAgICAgICAgICAgICAgICByZXR1cm4gImNvdmVyIjsKICAgICAgICAgICAgICBjYXNlIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGU/LkZpdC5GaWxsOgogICAgICAgICAgICAgICAgcmV0dXJuICJmaWxsIjsKICAgICAgICAgICAgICBjYXNlIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGU/LkZpdC5GaXRIZWlnaHQ6CiAgICAgICAgICAgICAgICByZXR1cm4gImZpdC1oZWlnaHQiOwogICAgICAgICAgICAgIGNhc2UgX0RvdExvdHRpZS5fd2FzbU1vZHVsZT8uRml0LkZpdFdpZHRoOgogICAgICAgICAgICAgICAgcmV0dXJuICJmaXQtd2lkdGgiOwogICAgICAgICAgICAgIGNhc2UgX0RvdExvdHRpZS5fd2FzbU1vZHVsZT8uRml0Lk5vbmU6CiAgICAgICAgICAgICAgICByZXR1cm4gIm5vbmUiOwogICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICByZXR1cm4gImNvbnRhaW4iOwogICAgICAgICAgICB9CiAgICAgICAgICB9KSgpCiAgICAgICAgfTsKICAgICAgfQogICAgICByZXR1cm4gdm9pZCAwOwogICAgfQogICAgZ2V0IG1hcmtlcigpIHsKICAgICAgY29uc3QgbWFya2VyID0gdGhpcy5fZG90TG90dGllQ29yZT8uY29uZmlnKCkubWFya2VyOwogICAgICByZXR1cm4gbWFya2VyOwogICAgfQogICAgZ2V0IG1hbmlmZXN0KCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IG1hbmlmZXN0ID0gdGhpcy5fZG90TG90dGllQ29yZT8ubWFuaWZlc3RTdHJpbmcoKTsKICAgICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCB8fCAhbWFuaWZlc3QpIHJldHVybiBudWxsOwogICAgICAgIGNvbnN0IG1hbmlmZXN0SnNvbiA9IEpTT04ucGFyc2UobWFuaWZlc3QpOwogICAgICAgIGlmIChPYmplY3Qua2V5cyhtYW5pZmVzdEpzb24pLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7CiAgICAgICAgcmV0dXJuIG1hbmlmZXN0SnNvbjsKICAgICAgfSBjYXRjaCAoX2VycikgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9CiAgICBnZXQgcmVuZGVyQ29uZmlnKCkgewogICAgICByZXR1cm4gdGhpcy5fcmVuZGVyQ29uZmlnOwogICAgfQogICAgZ2V0IHNlZ21lbnQoKSB7CiAgICAgIGNvbnN0IHNlZ21lbnQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5jb25maWcoKS5zZWdtZW50OwogICAgICBpZiAoc2VnbWVudCAmJiBzZWdtZW50LnNpemUoKSA9PT0gMikgewogICAgICAgIHJldHVybiBbc2VnbWVudC5nZXQoMCksIHNlZ21lbnQuZ2V0KDEpXTsKICAgICAgfQogICAgICByZXR1cm4gdm9pZCAwOwogICAgfQogICAgZ2V0IGxvb3AoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5jb25maWcoKS5sb29wQW5pbWF0aW9uID8/IGZhbHNlOwogICAgfQogICAgZ2V0IG1vZGUoKSB7CiAgICAgIGNvbnN0IG1vZGUgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5jb25maWcoKS5tb2RlOwogICAgICBpZiAobW9kZSA9PT0gX0RvdExvdHRpZS5fd2FzbU1vZHVsZT8uTW9kZS5SZXZlcnNlKSB7CiAgICAgICAgcmV0dXJuICJyZXZlcnNlIjsKICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBfRG90TG90dGllLl93YXNtTW9kdWxlPy5Nb2RlLkJvdW5jZSkgewogICAgICAgIHJldHVybiAiYm91bmNlIjsKICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBfRG90TG90dGllLl93YXNtTW9kdWxlPy5Nb2RlLlJldmVyc2VCb3VuY2UpIHsKICAgICAgICByZXR1cm4gInJldmVyc2UtYm91bmNlIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gImZvcndhcmQiOwogICAgICB9CiAgICB9CiAgICBnZXQgaXNGcm96ZW4oKSB7CiAgICAgIHJldHVybiB0aGlzLl9pc0Zyb3plbjsKICAgIH0KICAgIGdldCBiYWNrZ3JvdW5kQ29sb3IoKSB7CiAgICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPz8gIiI7CiAgICB9CiAgICBnZXQgYXV0b3BsYXkoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5jb25maWcoKS5hdXRvcGxheSA/PyBmYWxzZTsKICAgIH0KICAgIGdldCB1c2VGcmFtZUludGVycG9sYXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5jb25maWcoKS51c2VGcmFtZUludGVycG9sYXRpb24gPz8gZmFsc2U7CiAgICB9CiAgICBnZXQgc3BlZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5jb25maWcoKS5zcGVlZCA/PyAwOwogICAgfQogICAgZ2V0IGlzUmVhZHkoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlICE9PSBudWxsOwogICAgfQogICAgZ2V0IGlzTG9hZGVkKCkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8uaXNMb2FkZWQoKSA/PyBmYWxzZTsKICAgIH0KICAgIGdldCBpc1BsYXlpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5pc1BsYXlpbmcoKSA/PyBmYWxzZTsKICAgIH0KICAgIGdldCBpc1BhdXNlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmlzUGF1c2VkKCkgPz8gZmFsc2U7CiAgICB9CiAgICBnZXQgaXNTdG9wcGVkKCkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8uaXNTdG9wcGVkKCkgPz8gZmFsc2U7CiAgICB9CiAgICBnZXQgY3VycmVudEZyYW1lKCkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8uY3VycmVudEZyYW1lKCkgPz8gMDsKICAgIH0KICAgIGdldCBsb29wQ291bnQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5sb29wQ291bnQoKSA/PyAwOwogICAgfQogICAgZ2V0IHRvdGFsRnJhbWVzKCkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8udG90YWxGcmFtZXMoKSA/PyAwOwogICAgfQogICAgZ2V0IGR1cmF0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8uZHVyYXRpb24oKSA/PyAwOwogICAgfQogICAgZ2V0IHNlZ21lbnREdXJhdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LnNlZ21lbnREdXJhdGlvbigpID8/IDA7CiAgICB9CiAgICBnZXQgY2FudmFzKCkgewogICAgICByZXR1cm4gdGhpcy5fY2FudmFzOwogICAgfQogICAgbG9hZChjb25maWcpIHsKICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUgPT09IG51bGwgfHwgX0RvdExvdHRpZS5fd2FzbU1vZHVsZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICB0aGlzLl9kb3RMb3R0aWVDb3JlLnNldENvbmZpZyh7CiAgICAgICAgYXV0b3BsYXk6IGNvbmZpZy5hdXRvcGxheSA/PyBmYWxzZSwKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDAsCiAgICAgICAgbG9vcEFuaW1hdGlvbjogY29uZmlnLmxvb3AgPz8gZmFsc2UsCiAgICAgICAgbW9kZTogY3JlYXRlQ29yZU1vZGUoY29uZmlnLm1vZGUgPz8gImZvcndhcmQiLCBfRG90TG90dGllLl93YXNtTW9kdWxlKSwKICAgICAgICBzZWdtZW50OiBjcmVhdGVDb3JlU2VnbWVudChjb25maWcuc2VnbWVudCA/PyBbXSwgX0RvdExvdHRpZS5fd2FzbU1vZHVsZSksCiAgICAgICAgc3BlZWQ6IGNvbmZpZy5zcGVlZCA/PyAxLAogICAgICAgIHVzZUZyYW1lSW50ZXJwb2xhdGlvbjogY29uZmlnLnVzZUZyYW1lSW50ZXJwb2xhdGlvbiA/PyB0cnVlLAogICAgICAgIG1hcmtlcjogY29uZmlnLm1hcmtlciA/PyAiIiwKICAgICAgICBsYXlvdXQ6IGNvbmZpZy5sYXlvdXQgPyB7CiAgICAgICAgICBhbGlnbjogY3JlYXRlQ29yZUFsaWduKGNvbmZpZy5sYXlvdXQuYWxpZ24sIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUpLAogICAgICAgICAgZml0OiBjcmVhdGVDb3JlRml0KGNvbmZpZy5sYXlvdXQuZml0LCBfRG90TG90dGllLl93YXNtTW9kdWxlKQogICAgICAgIH0gOiBfRG90TG90dGllLl93YXNtTW9kdWxlLmNyZWF0ZURlZmF1bHRMYXlvdXQoKQogICAgICB9KTsKICAgICAgaWYgKGNvbmZpZy5kYXRhKSB7CiAgICAgICAgdGhpcy5fbG9hZEZyb21EYXRhKGNvbmZpZy5kYXRhKTsKICAgICAgfSBlbHNlIGlmIChjb25maWcuc3JjKSB7CiAgICAgICAgdGhpcy5fbG9hZEZyb21TcmMoY29uZmlnLnNyYyk7CiAgICAgIH0KICAgICAgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoY29uZmlnLmJhY2tncm91bmRDb2xvciA/PyAiIik7CiAgICB9CiAgICBfcmVuZGVyKCkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCB8fCB0aGlzLl9jb250ZXh0ID09PSBudWxsKSByZXR1cm4gZmFsc2U7CiAgICAgIGNvbnN0IHJlbmRlcmVkID0gdGhpcy5fZG90TG90dGllQ29yZS5yZW5kZXIoKTsKICAgICAgaWYgKHJlbmRlcmVkKSB7CiAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5fZG90TG90dGllQ29yZS5idWZmZXIoKTsKICAgICAgICBjb25zdCBjbGFtcGVkQnVmZmVyID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGJ1ZmZlciwgMCwgdGhpcy5fY2FudmFzLndpZHRoICogdGhpcy5fY2FudmFzLmhlaWdodCAqIDQpOwogICAgICAgIGxldCBpbWFnZURhdGEgPSBudWxsOwogICAgICAgIGlmICh0eXBlb2YgSW1hZ2VEYXRhID09PSAidW5kZWZpbmVkIikgewogICAgICAgICAgaW1hZ2VEYXRhID0gdGhpcy5fY29udGV4dC5jcmVhdGVJbWFnZURhdGEodGhpcy5fY2FudmFzLndpZHRoLCB0aGlzLl9jYW52YXMuaGVpZ2h0KTsKICAgICAgICAgIGltYWdlRGF0YS5kYXRhLnNldChjbGFtcGVkQnVmZmVyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW1hZ2VEYXRhID0gbmV3IEltYWdlRGF0YShjbGFtcGVkQnVmZmVyLCB0aGlzLl9jYW52YXMud2lkdGgsIHRoaXMuX2NhbnZhcy5oZWlnaHQpOwogICAgICAgIH0KICAgICAgICB0aGlzLl9jb250ZXh0LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApOwogICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7CiAgICAgICAgICB0eXBlOiAicmVuZGVyIiwKICAgICAgICAgIGN1cnJlbnRGcmFtZTogdGhpcy5fZG90TG90dGllQ29yZS5jdXJyZW50RnJhbWUoKQogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIF9kcmF3KCkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCB8fCB0aGlzLl9jb250ZXh0ID09PSBudWxsIHx8ICF0aGlzLl9kb3RMb3R0aWVDb3JlLmlzUGxheWluZygpKSByZXR1cm47CiAgICAgIGNvbnN0IG5leHRGcmFtZSA9IHRoaXMuX2RvdExvdHRpZUNvcmUucmVxdWVzdEZyYW1lKCk7CiAgICAgIGNvbnN0IHVwZGF0ZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLnNldEZyYW1lKG5leHRGcmFtZSk7CiAgICAgIGlmICh1cGRhdGVkKSB7CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsKICAgICAgICAgIHR5cGU6ICJmcmFtZSIsCiAgICAgICAgICBjdXJyZW50RnJhbWU6IHRoaXMuX2RvdExvdHRpZUNvcmUuY3VycmVudEZyYW1lKCkKICAgICAgICB9KTsKICAgICAgICBjb25zdCByZW5kZXJlZCA9IHRoaXMuX3JlbmRlcigpOwogICAgICAgIGlmIChyZW5kZXJlZCkgewogICAgICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUuaXNDb21wbGV0ZSgpKSB7CiAgICAgICAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlLmNvbmZpZygpLmxvb3BBbmltYXRpb24pIHsKICAgICAgICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goewogICAgICAgICAgICAgICAgdHlwZTogImxvb3AiLAogICAgICAgICAgICAgICAgbG9vcENvdW50OiB0aGlzLl9kb3RMb3R0aWVDb3JlLmxvb3BDb3VudCgpCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsgdHlwZTogImNvbXBsZXRlIiB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLl9hbmltYXRpb25GcmFtZUlkID0gdGhpcy5fZnJhbWVNYW5hZ2VyLnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9kcmF3LmJpbmQodGhpcykpOwogICAgfQogICAgcGxheSgpIHsKICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUgPT09IG51bGwpIHJldHVybjsKICAgICAgY29uc3Qgb2sgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLnBsYXkoKTsKICAgICAgdGhpcy5faXNGcm96ZW4gPSBmYWxzZTsKICAgICAgaWYgKG9rKSB7CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsgdHlwZTogInBsYXkiIH0pOwogICAgICAgIHRoaXMuX2FuaW1hdGlvbkZyYW1lSWQgPSB0aGlzLl9mcmFtZU1hbmFnZXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2RyYXcuYmluZCh0aGlzKSk7CiAgICAgIH0KICAgIH0KICAgIHBhdXNlKCkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICBjb25zdCBvayA9IHRoaXMuX2RvdExvdHRpZUNvcmUucGF1c2UoKTsKICAgICAgaWYgKG9rKSB7CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsgdHlwZTogInBhdXNlIiB9KTsKICAgICAgfQogICAgfQogICAgc3RvcCgpIHsKICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUgPT09IG51bGwpIHJldHVybjsKICAgICAgY29uc3Qgb2sgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLnN0b3AoKTsKICAgICAgaWYgKG9rKSB7CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsgdHlwZTogImZyYW1lIiwgY3VycmVudEZyYW1lOiB0aGlzLl9kb3RMb3R0aWVDb3JlLmN1cnJlbnRGcmFtZSgpIH0pOwogICAgICAgIHRoaXMuX3JlbmRlcigpOwogICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7IHR5cGU6ICJzdG9wIiB9KTsKICAgICAgfQogICAgfQogICAgc2V0RnJhbWUoZnJhbWUpIHsKICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUgPT09IG51bGwpIHJldHVybjsKICAgICAgaWYgKGZyYW1lIDwgMCB8fCBmcmFtZSA+IHRoaXMuX2RvdExvdHRpZUNvcmUudG90YWxGcmFtZXMoKSkgcmV0dXJuOwogICAgICBjb25zdCBvayA9IHRoaXMuX2RvdExvdHRpZUNvcmUuc2VlayhmcmFtZSk7CiAgICAgIGlmIChvaykgewogICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7IHR5cGU6ICJmcmFtZSIsIGN1cnJlbnRGcmFtZTogdGhpcy5fZG90TG90dGllQ29yZS5jdXJyZW50RnJhbWUoKSB9KTsKICAgICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgfQogICAgfQogICAgc2V0U3BlZWQoc3BlZWQpIHsKICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUgPT09IG51bGwpIHJldHVybjsKICAgICAgdGhpcy5fZG90TG90dGllQ29yZS5zZXRDb25maWcoewogICAgICAgIC4uLnRoaXMuX2RvdExvdHRpZUNvcmUuY29uZmlnKCksCiAgICAgICAgc3BlZWQKICAgICAgfSk7CiAgICB9CiAgICBzZXRCYWNrZ3JvdW5kQ29sb3IoY29sb3IpIHsKICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUgPT09IG51bGwpIHJldHVybjsKICAgICAgaWYgKElTX0JST1dTRVIgJiYgdGhpcy5fY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHsKICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fZG90TG90dGllQ29yZS5zZXRDb25maWcoewogICAgICAgICAgLi4udGhpcy5fZG90TG90dGllQ29yZS5jb25maWcoKSwKICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogaGV4U3RyaW5nVG9SR0JBSW50KGNvbG9yKQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IGNvbG9yOwogICAgfQogICAgc2V0TG9vcChsb29wKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0Q29uZmlnKHsKICAgICAgICAuLi50aGlzLl9kb3RMb3R0aWVDb3JlLmNvbmZpZygpLAogICAgICAgIGxvb3BBbmltYXRpb246IGxvb3AKICAgICAgfSk7CiAgICB9CiAgICBzZXRVc2VGcmFtZUludGVycG9sYXRpb24odXNlRnJhbWVJbnRlcnBvbGF0aW9uKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0Q29uZmlnKHsKICAgICAgICAuLi50aGlzLl9kb3RMb3R0aWVDb3JlLmNvbmZpZygpLAogICAgICAgIHVzZUZyYW1lSW50ZXJwb2xhdGlvbgogICAgICB9KTsKICAgIH0KICAgIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpOwogICAgfQogICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgICB0aGlzLl9ldmVudE1hbmFnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcik7CiAgICB9CiAgICBkZXN0cm95KCkgewogICAgICB0aGlzLl9kb3RMb3R0aWVDb3JlPy5kZWxldGUoKTsKICAgICAgdGhpcy5fZG90TG90dGllQ29yZSA9IG51bGw7CiAgICAgIHRoaXMuX2NvbnRleHQgPSBudWxsOwogICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goewogICAgICAgIHR5cGU6ICJkZXN0cm95IgogICAgICB9KTsKICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCk7CiAgICAgIHRoaXMuX2NsZWFudXBTdGF0ZU1hY2hpbmVMaXN0ZW5lcnMoKTsKICAgIH0KICAgIGZyZWV6ZSgpIHsKICAgICAgaWYgKHRoaXMuX2FuaW1hdGlvbkZyYW1lSWQgPT09IG51bGwpIHJldHVybjsKICAgICAgdGhpcy5fZnJhbWVNYW5hZ2VyLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1hdGlvbkZyYW1lSWQpOwogICAgICB0aGlzLl9hbmltYXRpb25GcmFtZUlkID0gbnVsbDsKICAgICAgdGhpcy5faXNGcm96ZW4gPSB0cnVlOwogICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAiZnJlZXplIiB9KTsKICAgIH0KICAgIHVuZnJlZXplKCkgewogICAgICBpZiAodGhpcy5fYW5pbWF0aW9uRnJhbWVJZCAhPT0gbnVsbCkgcmV0dXJuOwogICAgICB0aGlzLl9hbmltYXRpb25GcmFtZUlkID0gdGhpcy5fZnJhbWVNYW5hZ2VyLnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9kcmF3LmJpbmQodGhpcykpOwogICAgICB0aGlzLl9pc0Zyb3plbiA9IGZhbHNlOwogICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAidW5mcmVlemUiIH0pOwogICAgfQogICAgcmVzaXplKCkgewogICAgICBpZiAoSVNfQlJPV1NFUiAmJiB0aGlzLl9jYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkgewogICAgICAgIGNvbnN0IGRwciA9IHRoaXMuX3JlbmRlckNvbmZpZy5kZXZpY2VQaXhlbFJhdGlvIHx8IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7CiAgICAgICAgY29uc3QgeyBoZWlnaHQ6IGNsaWVudEhlaWdodCwgd2lkdGg6IGNsaWVudFdpZHRoIH0gPSB0aGlzLl9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgdGhpcy5fY2FudmFzLndpZHRoID0gY2xpZW50V2lkdGggKiBkcHI7CiAgICAgICAgdGhpcy5fY2FudmFzLmhlaWdodCA9IGNsaWVudEhlaWdodCAqIGRwcjsKICAgICAgfQogICAgICBjb25zdCBvayA9IHRoaXMuX2RvdExvdHRpZUNvcmU/LnJlc2l6ZSh0aGlzLl9jYW52YXMud2lkdGgsIHRoaXMuX2NhbnZhcy5oZWlnaHQpOwogICAgICBpZiAob2spIHsKICAgICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgfQogICAgfQogICAgc2V0U2VnbWVudChzdGFydEZyYW1lLCBlbmRGcmFtZSkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCB8fCBfRG90TG90dGllLl93YXNtTW9kdWxlID09PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0Q29uZmlnKHsKICAgICAgICAuLi50aGlzLl9kb3RMb3R0aWVDb3JlLmNvbmZpZygpLAogICAgICAgIHNlZ21lbnQ6IGNyZWF0ZUNvcmVTZWdtZW50KFtzdGFydEZyYW1lLCBlbmRGcmFtZV0sIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUpCiAgICAgIH0pOwogICAgfQogICAgc2V0TW9kZShtb2RlKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsIHx8IF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUgPT09IG51bGwpIHJldHVybjsKICAgICAgdGhpcy5fZG90TG90dGllQ29yZS5zZXRDb25maWcoewogICAgICAgIC4uLnRoaXMuX2RvdExvdHRpZUNvcmUuY29uZmlnKCksCiAgICAgICAgbW9kZTogY3JlYXRlQ29yZU1vZGUobW9kZSwgX0RvdExvdHRpZS5fd2FzbU1vZHVsZSkKICAgICAgfSk7CiAgICB9CiAgICBzZXRSZW5kZXJDb25maWcoY29uZmlnKSB7CiAgICAgIHRoaXMuX3JlbmRlckNvbmZpZyA9IGNvbmZpZzsKICAgIH0KICAgIGxvYWRBbmltYXRpb24oYW5pbWF0aW9uSWQpIHsKICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUgPT09IG51bGwgfHwgdGhpcy5fZG90TG90dGllQ29yZS5hY3RpdmVBbmltYXRpb25JZCgpID09PSBhbmltYXRpb25JZCkgcmV0dXJuOwogICAgICBjb25zdCBsb2FkZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLmxvYWRBbmltYXRpb24oYW5pbWF0aW9uSWQsIHRoaXMuX2NhbnZhcy53aWR0aCwgdGhpcy5fY2FudmFzLmhlaWdodCk7CiAgICAgIGlmIChsb2FkZWQpIHsKICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAibG9hZCIgfSk7CiAgICAgICAgdGhpcy5yZXNpemUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goewogICAgICAgICAgdHlwZTogImxvYWRFcnJvciIsCiAgICAgICAgICBlcnJvcjogbmV3IEVycm9yKGBGYWlsZWQgdG8gYW5pbWF0aW9uIDoke2FuaW1hdGlvbklkfWApCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICAgIHNldE1hcmtlcihtYXJrZXIpIHsKICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUgPT09IG51bGwpIHJldHVybjsKICAgICAgdGhpcy5fZG90TG90dGllQ29yZS5zZXRDb25maWcoewogICAgICAgIC4uLnRoaXMuX2RvdExvdHRpZUNvcmUuY29uZmlnKCksCiAgICAgICAgbWFya2VyCiAgICAgIH0pOwogICAgfQogICAgbWFya2VycygpIHsKICAgICAgY29uc3QgbWFya2VycyA9IHRoaXMuX2RvdExvdHRpZUNvcmU/Lm1hcmtlcnMoKTsKICAgICAgaWYgKG1hcmtlcnMpIHsKICAgICAgICBjb25zdCByZXN1bHQgPSBbXTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcmtlcnMuc2l6ZSgpOyBpICs9IDEpIHsKICAgICAgICAgIGNvbnN0IG1hcmtlciA9IG1hcmtlcnMuZ2V0KGkpOwogICAgICAgICAgcmVzdWx0LnB1c2goewogICAgICAgICAgICBuYW1lOiBtYXJrZXIubmFtZSwKICAgICAgICAgICAgdGltZTogbWFya2VyLnRpbWUsCiAgICAgICAgICAgIGR1cmF0aW9uOiBtYXJrZXIuZHVyYXRpb24KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICB9CiAgICAgIHJldHVybiBbXTsKICAgIH0KICAgIGxvYWRUaGVtZSh0aGVtZUlkKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm4gZmFsc2U7CiAgICAgIGNvbnN0IGxvYWRlZCA9IHRoaXMuX2RvdExvdHRpZUNvcmUubG9hZFRoZW1lKHRoZW1lSWQpOwogICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgcmV0dXJuIGxvYWRlZDsKICAgIH0KICAgIGxvYWRUaGVtZURhdGEodGhlbWVEYXRhKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm4gZmFsc2U7CiAgICAgIGNvbnN0IGxvYWRlZCA9IHRoaXMuX2RvdExvdHRpZUNvcmUubG9hZFRoZW1lRGF0YSh0aGVtZURhdGEpOwogICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgcmV0dXJuIGxvYWRlZDsKICAgIH0KICAgIHNldExheW91dChsYXlvdXQpIHsKICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUgPT09IG51bGwgfHwgX0RvdExvdHRpZS5fd2FzbU1vZHVsZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICB0aGlzLl9kb3RMb3R0aWVDb3JlLnNldENvbmZpZyh7CiAgICAgICAgLi4udGhpcy5fZG90TG90dGllQ29yZS5jb25maWcoKSwKICAgICAgICBsYXlvdXQ6IHsKICAgICAgICAgIGFsaWduOiBjcmVhdGVDb3JlQWxpZ24obGF5b3V0LmFsaWduLCBfRG90TG90dGllLl93YXNtTW9kdWxlKSwKICAgICAgICAgIGZpdDogY3JlYXRlQ29yZUZpdChsYXlvdXQuZml0LCBfRG90TG90dGllLl93YXNtTW9kdWxlKQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgICBzZXRWaWV3cG9ydCh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlLnNldFZpZXdwb3J0KHgsIHksIHdpZHRoLCBoZWlnaHQpOwogICAgfQogICAgc3RhdGljIHNldFdhc21VcmwodXJsKSB7CiAgICAgIERvdExvdHRpZVdhc21Mb2FkZXIuc2V0V2FzbVVybCh1cmwpOwogICAgfQogICAgbG9hZFN0YXRlTWFjaGluZShzdGF0ZU1hY2hpbmVJZCkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8ubG9hZFN0YXRlTWFjaGluZShzdGF0ZU1hY2hpbmVJZCkgPz8gZmFsc2U7CiAgICB9CiAgICBzdGFydFN0YXRlTWFjaGluZSgpIHsKICAgICAgY29uc3Qgc3RhcnRlZCA9IHRoaXMuX2RvdExvdHRpZUNvcmU/LnN0YXJ0U3RhdGVNYWNoaW5lKCkgPz8gZmFsc2U7CiAgICAgIGlmIChzdGFydGVkKSB7CiAgICAgICAgdGhpcy5fc2V0dXBTdGF0ZU1hY2hpbmVMaXN0ZW5lcnMoKTsKICAgICAgfQogICAgICByZXR1cm4gc3RhcnRlZDsKICAgIH0KICAgIHN0b3BTdGF0ZU1hY2hpbmUoKSB7CiAgICAgIGNvbnN0IHN0b3BwZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5zdG9wU3RhdGVNYWNoaW5lKCkgPz8gZmFsc2U7CiAgICAgIGlmIChzdG9wcGVkKSB7CiAgICAgICAgdGhpcy5fY2xlYW51cFN0YXRlTWFjaGluZUxpc3RlbmVycygpOwogICAgICB9CiAgICAgIHJldHVybiBzdG9wcGVkOwogICAgfQogICAgX2dldFBvaW50ZXJQb3NpdGlvbihldmVudCkgewogICAgICBjb25zdCByZWN0ID0gdGhpcy5fY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICBjb25zdCBzY2FsZVggPSB0aGlzLl9jYW52YXMud2lkdGggLyByZWN0LndpZHRoOwogICAgICBjb25zdCBzY2FsZVkgPSB0aGlzLl9jYW52YXMuaGVpZ2h0IC8gcmVjdC5oZWlnaHQ7CiAgICAgIGNvbnN0IGRldmljZVBpeGVsUmF0aW8gPSB0aGlzLl9yZW5kZXJDb25maWcuZGV2aWNlUGl4ZWxSYXRpbyB8fCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxOwogICAgICBjb25zdCB4ID0gKGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQpICogc2NhbGVYIC8gZGV2aWNlUGl4ZWxSYXRpbzsKICAgICAgY29uc3QgeSA9IChldmVudC5jbGllbnRZIC0gcmVjdC50b3ApICogc2NhbGVZIC8gZGV2aWNlUGl4ZWxSYXRpbzsKICAgICAgcmV0dXJuIHsKICAgICAgICB4LAogICAgICAgIHkKICAgICAgfTsKICAgIH0KICAgIF9vblBvaW50ZXJVcChldmVudCkgewogICAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuX2dldFBvaW50ZXJQb3NpdGlvbihldmVudCk7CiAgICAgIHRoaXMucG9zdFN0YXRlTWFjaGluZUV2ZW50KGBPblBvaW50ZXJVcDogJHt4fSAke3l9YCk7CiAgICB9CiAgICBfb25Qb2ludGVyRG93bihldmVudCkgewogICAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuX2dldFBvaW50ZXJQb3NpdGlvbihldmVudCk7CiAgICAgIHRoaXMucG9zdFN0YXRlTWFjaGluZUV2ZW50KGBPblBvaW50ZXJEb3duOiAke3h9ICR7eX1gKTsKICAgIH0KICAgIF9vblBvaW50ZXJNb3ZlKGV2ZW50KSB7CiAgICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5fZ2V0UG9pbnRlclBvc2l0aW9uKGV2ZW50KTsKICAgICAgdGhpcy5wb3N0U3RhdGVNYWNoaW5lRXZlbnQoYE9uUG9pbnRlck1vdmU6ICR7eH0gJHt5fWApOwogICAgfQogICAgX29uUG9pbnRlckVudGVyKGV2ZW50KSB7CiAgICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5fZ2V0UG9pbnRlclBvc2l0aW9uKGV2ZW50KTsKICAgICAgdGhpcy5wb3N0U3RhdGVNYWNoaW5lRXZlbnQoYE9uUG9pbnRlckVudGVyOiAke3h9ICR7eX1gKTsKICAgIH0KICAgIF9vblBvaW50ZXJMZWF2ZShldmVudCkgewogICAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuX2dldFBvaW50ZXJQb3NpdGlvbihldmVudCk7CiAgICAgIHRoaXMucG9zdFN0YXRlTWFjaGluZUV2ZW50KGBPblBvaW50ZXJFeGl0OiAke3h9ICR7eX1gKTsKICAgIH0KICAgIF9vbkNvbXBsZXRlKCkgewogICAgICB0aGlzLnBvc3RTdGF0ZU1hY2hpbmVFdmVudCgiT25Db21wbGV0ZSIpOwogICAgfQogICAgLyoqCiAgICAgKiBAZXhwZXJpbWVudGFsCiAgICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdG8gYmUgcG9zdGVkIHRvIHRoZSBzdGF0ZSBtYWNoaW5lCiAgICAgKiBAcmV0dXJucyBib29sZWFuIC0gdHJ1ZSBpZiB0aGUgZXZlbnQgd2FzIHBvc3RlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQogICAgICovCiAgICBwb3N0U3RhdGVNYWNoaW5lRXZlbnQoZXZlbnQpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LnBvc3RFdmVudFBheWxvYWQoZXZlbnQpID8/IGZhbHNlOwogICAgfQogICAgZ2V0U3RhdGVNYWNoaW5lTGlzdGVuZXJzKCkgewogICAgICBpZiAoIXRoaXMuX2RvdExvdHRpZUNvcmUpIHJldHVybiBbXTsKICAgICAgY29uc3QgbGlzdGVuZXJzVmVjdG9yID0gdGhpcy5fZG90TG90dGllQ29yZS5zdGF0ZU1hY2hpbmVGcmFtZXdvcmtTZXR1cCgpOwogICAgICBjb25zdCBsaXN0ZW5lcnMgPSBbXTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnNWZWN0b3Iuc2l6ZSgpOyBpICs9IDEpIHsKICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcnNWZWN0b3IuZ2V0KGkpKTsKICAgICAgfQogICAgICByZXR1cm4gbGlzdGVuZXJzOwogICAgfQogICAgX3NldHVwU3RhdGVNYWNoaW5lTGlzdGVuZXJzKCkgewogICAgICBpZiAoSVNfQlJPV1NFUiAmJiB0aGlzLl9jYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCAmJiB0aGlzLl9kb3RMb3R0aWVDb3JlICE9PSBudWxsICYmIHRoaXMuaXNMb2FkZWQpIHsKICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmdldFN0YXRlTWFjaGluZUxpc3RlbmVycygpOwogICAgICAgIGlmIChsaXN0ZW5lcnMuaW5jbHVkZXMoIlBvaW50ZXJVcCIpKSB7CiAgICAgICAgICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcnVwIiwgdGhpcy5fb25Qb2ludGVyVXAuYmluZCh0aGlzKSk7CiAgICAgICAgfQogICAgICAgIGlmIChsaXN0ZW5lcnMuaW5jbHVkZXMoIlBvaW50ZXJEb3duIikpIHsKICAgICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyZG93biIsIHRoaXMuX29uUG9pbnRlckRvd24uYmluZCh0aGlzKSk7CiAgICAgICAgfQogICAgICAgIGlmIChsaXN0ZW5lcnMuaW5jbHVkZXMoIlBvaW50ZXJNb3ZlIikpIHsKICAgICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVybW92ZSIsIHRoaXMuX29uUG9pbnRlck1vdmUuYmluZCh0aGlzKSk7CiAgICAgICAgfQogICAgICAgIGlmIChsaXN0ZW5lcnMuaW5jbHVkZXMoIlBvaW50ZXJFbnRlciIpKSB7CiAgICAgICAgICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcmVudGVyIiwgdGhpcy5fb25Qb2ludGVyRW50ZXIuYmluZCh0aGlzKSk7CiAgICAgICAgfQogICAgICAgIGlmIChsaXN0ZW5lcnMuaW5jbHVkZXMoIlBvaW50ZXJFeGl0IikpIHsKICAgICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVybGVhdmUiLCB0aGlzLl9vblBvaW50ZXJMZWF2ZS5iaW5kKHRoaXMpKTsKICAgICAgICB9CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmNsdWRlcygiQ29tcGxldGUiKSkgewogICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCJjb21wbGV0ZSIsIHRoaXMuX29uQ29tcGxldGUuYmluZCh0aGlzKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBfY2xlYW51cFN0YXRlTWFjaGluZUxpc3RlbmVycygpIHsKICAgICAgaWYgKElTX0JST1dTRVIgJiYgdGhpcy5fY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHsKICAgICAgICB0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcnVwIiwgdGhpcy5fb25Qb2ludGVyVXAuYmluZCh0aGlzKSk7CiAgICAgICAgdGhpcy5fY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJkb3duIiwgdGhpcy5fb25Qb2ludGVyRG93bi5iaW5kKHRoaXMpKTsKICAgICAgICB0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcm1vdmUiLCB0aGlzLl9vblBvaW50ZXJNb3ZlLmJpbmQodGhpcykpOwogICAgICAgIHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyZW50ZXIiLCB0aGlzLl9vblBvaW50ZXJFbnRlci5iaW5kKHRoaXMpKTsKICAgICAgICB0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcmxlYXZlIiwgdGhpcy5fb25Qb2ludGVyTGVhdmUuYmluZCh0aGlzKSk7CiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCJjb21wbGV0ZSIsIHRoaXMuX29uQ29tcGxldGUuYmluZCh0aGlzKSk7CiAgICAgIH0KICAgIH0KICAgIGxvYWRTdGF0ZU1hY2hpbmVEYXRhKHN0YXRlTWFjaGluZURhdGEpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmxvYWRTdGF0ZU1hY2hpbmVEYXRhKHN0YXRlTWFjaGluZURhdGEpID8/IGZhbHNlOwogICAgfQogICAgYW5pbWF0aW9uU2l6ZSgpIHsKICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5hbmltYXRpb25TaXplKCkuZ2V0KDApID8/IDA7CiAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX2RvdExvdHRpZUNvcmU/LmFuaW1hdGlvblNpemUoKS5nZXQoMSkgPz8gMDsKICAgICAgcmV0dXJuIHsKICAgICAgICB3aWR0aCwKICAgICAgICBoZWlnaHQKICAgICAgfTsKICAgIH0KICAgIHNldFN0YXRlTWFjaGluZUJvb2xlYW5Db250ZXh0KG5hbWUsIHZhbHVlKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5zZXRTdGF0ZU1hY2hpbmVCb29sZWFuQ29udGV4dChuYW1lLCB2YWx1ZSkgPz8gZmFsc2U7CiAgICB9CiAgICBzZXRTdGF0ZU1hY2hpbmVOdW1lcmljQ29udGV4dChuYW1lLCB2YWx1ZSkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8uc2V0U3RhdGVNYWNoaW5lTnVtZXJpY0NvbnRleHQobmFtZSwgdmFsdWUpID8/IGZhbHNlOwogICAgfQogICAgc2V0U3RhdGVNYWNoaW5lU3RyaW5nQ29udGV4dChuYW1lLCB2YWx1ZSkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8uc2V0U3RhdGVNYWNoaW5lU3RyaW5nQ29udGV4dChuYW1lLCB2YWx1ZSkgPz8gZmFsc2U7CiAgICB9CiAgfTsKICBfX3B1YmxpY0ZpZWxkKF9Eb3RMb3R0aWUsICJfd2FzbU1vZHVsZSIsIG51bGwpOwogIHZhciBEb3RMb3R0aWUgPSBfRG90TG90dGllOwoKICAvLyBzcmMvd29ya2VyL2RvdGxvdHRpZS53b3JrZXIudHMKICB2YXIgaW5zdGFuY2VzTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICB2YXIgZXZlbnRIYW5kbGVyTWFwID0gewogICAgcmVhZHk6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uUmVhZHkiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICBjb21wbGV0ZTogKGluc3RhbmNlSWQpID0+IChldmVudCkgPT4gewogICAgICBjb25zdCByZXNwb25zZSA9IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbWV0aG9kOiAib25Db21wbGV0ZSIsCiAgICAgICAgcmVzdWx0OiB7CiAgICAgICAgICBpbnN0YW5jZUlkLAogICAgICAgICAgZXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIGxvYWQ6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgbG9hZEV2ZW50ID0gZXZlbnQ7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgIGlkOiAiIiwKICAgICAgICBtZXRob2Q6ICJvbkxvYWQiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiBsb2FkRXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIGxvYWRFcnJvcjogKGluc3RhbmNlSWQpID0+IChldmVudCkgPT4gewogICAgICBjb25zdCBsb2FkRXJyb3JFdmVudCA9IGV2ZW50OwogICAgICBjb25zdCByZXNwb25zZSA9IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbWV0aG9kOiAib25Mb2FkRXJyb3IiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiBsb2FkRXJyb3JFdmVudAogICAgICAgIH0KICAgICAgfTsKICAgICAgc2VsZi5wb3N0TWVzc2FnZShyZXNwb25zZSk7CiAgICB9LAogICAgbG9vcDogKGluc3RhbmNlSWQpID0+IChldmVudCkgPT4gewogICAgICBjb25zdCBsb29wRXZlbnQgPSBldmVudDsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uTG9vcCIsCiAgICAgICAgcmVzdWx0OiB7CiAgICAgICAgICBpbnN0YW5jZUlkLAogICAgICAgICAgZXZlbnQ6IGxvb3BFdmVudAogICAgICAgIH0KICAgICAgfTsKICAgICAgc2VsZi5wb3N0TWVzc2FnZShyZXNwb25zZSk7CiAgICB9LAogICAgcGxheTogKGluc3RhbmNlSWQpID0+IChldmVudCkgPT4gewogICAgICBjb25zdCBwbGF5RXZlbnQgPSBldmVudDsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uUGxheSIsCiAgICAgICAgcmVzdWx0OiB7CiAgICAgICAgICBpbnN0YW5jZUlkLAogICAgICAgICAgZXZlbnQ6IHBsYXlFdmVudAogICAgICAgIH0KICAgICAgfTsKICAgICAgc2VsZi5wb3N0TWVzc2FnZShyZXNwb25zZSk7CiAgICB9LAogICAgcGF1c2U6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgcGF1c2VFdmVudCA9IGV2ZW50OwogICAgICBjb25zdCByZXNwb25zZSA9IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbWV0aG9kOiAib25QYXVzZSIsCiAgICAgICAgcmVzdWx0OiB7CiAgICAgICAgICBpbnN0YW5jZUlkLAogICAgICAgICAgZXZlbnQ6IHBhdXNlRXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIHN0b3A6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3Qgc3RvcEV2ZW50ID0gZXZlbnQ7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgIGlkOiAiIiwKICAgICAgICBtZXRob2Q6ICJvblN0b3AiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiBzdG9wRXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIGZyYW1lOiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IGZyYW1lRXZlbnQgPSBldmVudDsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uRnJhbWUiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiBmcmFtZUV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICByZW5kZXI6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgcmVuZGVyRXZlbnQgPSBldmVudDsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uUmVuZGVyIiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudDogcmVuZGVyRXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIGZyZWV6ZTogKGluc3RhbmNlSWQpID0+IChldmVudCkgPT4gewogICAgICBjb25zdCBmcmVlemVFdmVudCA9IGV2ZW50OwogICAgICBjb25zdCByZXNwb25zZSA9IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbWV0aG9kOiAib25GcmVlemUiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiBmcmVlemVFdmVudAogICAgICAgIH0KICAgICAgfTsKICAgICAgc2VsZi5wb3N0TWVzc2FnZShyZXNwb25zZSk7CiAgICB9LAogICAgdW5mcmVlemU6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgdW5mcmVlemVFdmVudCA9IGV2ZW50OwogICAgICBjb25zdCByZXNwb25zZSA9IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbWV0aG9kOiAib25VbmZyZWV6ZSIsCiAgICAgICAgcmVzdWx0OiB7CiAgICAgICAgICBpbnN0YW5jZUlkLAogICAgICAgICAgZXZlbnQ6IHVuZnJlZXplRXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIGRlc3Ryb3k6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgZGVzdHJveUV2ZW50ID0gZXZlbnQ7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgIGlkOiAiIiwKICAgICAgICBtZXRob2Q6ICJvbkRlc3Ryb3kiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiBkZXN0cm95RXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfQogIH07CiAgdmFyIGNvbW1hbmRzID0gewogICAgZ2V0RG90TG90dGllSW5zdGFuY2VTdGF0ZShyZXF1ZXN0KSB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICBjb25zdCBzdGF0ZSA9IHsKICAgICAgICBpc0xvYWRlZDogaW5zdGFuY2UuaXNMb2FkZWQsCiAgICAgICAgaXNQYXVzZWQ6IGluc3RhbmNlLmlzUGF1c2VkLAogICAgICAgIGlzUGxheWluZzogaW5zdGFuY2UuaXNQbGF5aW5nLAogICAgICAgIGlzU3RvcHBlZDogaW5zdGFuY2UuaXNTdG9wcGVkLAogICAgICAgIGlzRnJvemVuOiBpbnN0YW5jZS5pc0Zyb3plbiwKICAgICAgICBsb29wOiBpbnN0YW5jZS5sb29wLAogICAgICAgIG1vZGU6IGluc3RhbmNlLm1vZGUsCiAgICAgICAgc3BlZWQ6IGluc3RhbmNlLnNwZWVkLAogICAgICAgIGN1cnJlbnRGcmFtZTogaW5zdGFuY2UuY3VycmVudEZyYW1lLAogICAgICAgIHRvdGFsRnJhbWVzOiBpbnN0YW5jZS50b3RhbEZyYW1lcywKICAgICAgICBkdXJhdGlvbjogaW5zdGFuY2UuZHVyYXRpb24sCiAgICAgICAgdXNlRnJhbWVJbnRlcnBvbGF0aW9uOiBpbnN0YW5jZS51c2VGcmFtZUludGVycG9sYXRpb24sCiAgICAgICAgcmVuZGVyQ29uZmlnOiBpbnN0YW5jZS5yZW5kZXJDb25maWcsCiAgICAgICAgbWFya2VyOiBpbnN0YW5jZS5tYXJrZXIsCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpbnN0YW5jZS5iYWNrZ3JvdW5kQ29sb3IsCiAgICAgICAgbWFya2VyczogaW5zdGFuY2UubWFya2VycygpLAogICAgICAgIGFjdGl2ZUFuaW1hdGlvbklkOiBpbnN0YW5jZS5hY3RpdmVBbmltYXRpb25JZCwKICAgICAgICBhY3RpdmVUaGVtZUlkOiBpbnN0YW5jZS5hY3RpdmVUaGVtZUlkLAogICAgICAgIGF1dG9wbGF5OiBpbnN0YW5jZS5hdXRvcGxheSwKICAgICAgICBzZWdtZW50OiBpbnN0YW5jZS5zZWdtZW50LAogICAgICAgIGxheW91dDogaW5zdGFuY2UubGF5b3V0LAogICAgICAgIHNlZ21lbnREdXJhdGlvbjogaW5zdGFuY2Uuc2VnbWVudER1cmF0aW9uLAogICAgICAgIGlzUmVhZHk6IGluc3RhbmNlLmlzUmVhZHksCiAgICAgICAgbWFuaWZlc3Q6IGluc3RhbmNlLm1hbmlmZXN0CiAgICAgIH07CiAgICAgIHJldHVybiB7CiAgICAgICAgc3RhdGUKICAgICAgfTsKICAgIH0sCiAgICBzZXRMYXlvdXQocmVxdWVzdCkgewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgbGF5b3V0ID0gcmVxdWVzdC5wYXJhbXMubGF5b3V0OwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICBpbnN0YW5jZS5zZXRMYXlvdXQobGF5b3V0KTsKICAgICAgcmV0dXJuIHsKICAgICAgICBzdWNjZXNzOiB0cnVlCiAgICAgIH07CiAgICB9LAogICAgZ2V0U3RhdGVNYWNoaW5lTGlzdGVuZXJzKHJlcXVlc3QpIHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5nZXRTdGF0ZU1hY2hpbmVMaXN0ZW5lcnMoKTsKICAgIH0sCiAgICBwb3N0U3RhdGVNYWNoaW5lRXZlbnQocmVxdWVzdCkgewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgZXZlbnQgPSByZXF1ZXN0LnBhcmFtcy5ldmVudDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGluc3RhbmNlLnBvc3RTdGF0ZU1hY2hpbmVFdmVudChldmVudCk7CiAgICB9LAogICAgc3RhcnRTdGF0ZU1hY2hpbmUocmVxdWVzdCkgewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGluc3RhbmNlLnN0YXJ0U3RhdGVNYWNoaW5lKCk7CiAgICB9LAogICAgc3RvcFN0YXRlTWFjaGluZShyZXF1ZXN0KSB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICByZXR1cm4gaW5zdGFuY2Uuc3RvcFN0YXRlTWFjaGluZSgpOwogICAgfSwKICAgIGxvYWRTdGF0ZU1hY2hpbmUocmVxdWVzdCkgewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3Qgc3RhdGVNYWNoaW5lSWQgPSByZXF1ZXN0LnBhcmFtcy5zdGF0ZU1hY2hpbmVJZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGluc3RhbmNlLmxvYWRTdGF0ZU1hY2hpbmUoc3RhdGVNYWNoaW5lSWQpOwogICAgfSwKICAgIGxvYWRTdGF0ZU1hY2hpbmVEYXRhKHJlcXVlc3QpIHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IHN0YXRlTWFjaGluZURhdGEgPSByZXF1ZXN0LnBhcmFtcy5zdGF0ZU1hY2hpbmVEYXRhOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICByZXR1cm4gaW5zdGFuY2UubG9hZFN0YXRlTWFjaGluZURhdGEoc3RhdGVNYWNoaW5lRGF0YSk7CiAgICB9LAogICAgY3JlYXRlOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgY29uZmlnID0gcmVxdWVzdC5wYXJhbXMuY29uZmlnOwogICAgICBjb25zdCB3aWR0aCA9IHJlcXVlc3QucGFyYW1zLndpZHRoOwogICAgICBjb25zdCBoZWlnaHQgPSByZXF1ZXN0LnBhcmFtcy5oZWlnaHQ7CiAgICAgIGlmIChpbnN0YW5jZXNNYXAuaGFzKGluc3RhbmNlSWQpKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gYWxyZWFkeSBleGlzdHMuYCk7CiAgICAgIH0KICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgRG90TG90dGllKGNvbmZpZyk7CiAgICAgIGluc3RhbmNlLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgIGluc3RhbmNlLmNhbnZhcy53aWR0aCA9IHdpZHRoOwogICAgICBpbnN0YW5jZXNNYXAuc2V0KGluc3RhbmNlSWQsIGluc3RhbmNlKTsKICAgICAgY29uc3QgZXZlbnRzID0gWwogICAgICAgICJjb21wbGV0ZSIsCiAgICAgICAgImZyYW1lIiwKICAgICAgICAibG9hZCIsCiAgICAgICAgImxvYWRFcnJvciIsCiAgICAgICAgImxvb3AiLAogICAgICAgICJwYXVzZSIsCiAgICAgICAgInBsYXkiLAogICAgICAgICJzdG9wIiwKICAgICAgICAiZGVzdHJveSIsCiAgICAgICAgImZyZWV6ZSIsCiAgICAgICAgInVuZnJlZXplIiwKICAgICAgICAicmVuZGVyIiwKICAgICAgICAicmVhZHkiCiAgICAgIF07CiAgICAgIGV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4gewogICAgICAgIGluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGV2ZW50SGFuZGxlck1hcFtldmVudF0oaW5zdGFuY2VJZCkpOwogICAgICB9KTsKICAgICAgcmV0dXJuIHsKICAgICAgICBpbnN0YW5jZUlkCiAgICAgIH07CiAgICB9LAogICAgZGVzdHJveTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgcmV0dXJuOwogICAgICBpbnN0YW5jZS5kZXN0cm95KCk7CiAgICAgIGluc3RhbmNlc01hcC5kZWxldGUoaW5zdGFuY2VJZCk7CiAgICB9LAogICAgZnJlZXplOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2UuZnJlZXplKCk7CiAgICB9LAogICAgbG9hZDogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGNvbmZpZyA9IHJlcXVlc3QucGFyYW1zLmNvbmZpZzsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2UubG9hZChjb25maWcpOwogICAgfSwKICAgIGxvYWRBbmltYXRpb246IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBhbmltYXRpb25JZCA9IHJlcXVlc3QucGFyYW1zLmFuaW1hdGlvbklkOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICBpbnN0YW5jZS5sb2FkQW5pbWF0aW9uKGFuaW1hdGlvbklkKTsKICAgIH0sCiAgICBsb2FkVGhlbWU6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCB0aGVtZUlkID0gcmVxdWVzdC5wYXJhbXMudGhlbWVJZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGluc3RhbmNlLmxvYWRUaGVtZSh0aGVtZUlkKTsKICAgIH0sCiAgICBsb2FkVGhlbWVEYXRhOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgdGhlbWVEYXRhID0gcmVxdWVzdC5wYXJhbXMudGhlbWVEYXRhOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICByZXR1cm4gaW5zdGFuY2UubG9hZFRoZW1lRGF0YSh0aGVtZURhdGEpOwogICAgfSwKICAgIHBhdXNlOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGluc3RhbmNlLnBhdXNlKCk7CiAgICB9LAogICAgcGxheTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5wbGF5KCk7CiAgICB9LAogICAgcmVzaXplOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3Qgd2lkdGggPSByZXF1ZXN0LnBhcmFtcy53aWR0aDsKICAgICAgY29uc3QgaGVpZ2h0ID0gcmVxdWVzdC5wYXJhbXMuaGVpZ2h0OwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICBpbnN0YW5jZS5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0OwogICAgICBpbnN0YW5jZS5jYW52YXMud2lkdGggPSB3aWR0aDsKICAgICAgaW5zdGFuY2UucmVzaXplKCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgc3VjY2VzczogdHJ1ZQogICAgICB9OwogICAgfSwKICAgIHNldEJhY2tncm91bmRDb2xvcjogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvciA9IHJlcXVlc3QucGFyYW1zLmJhY2tncm91bmRDb2xvcjsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0QmFja2dyb3VuZENvbG9yKGJhY2tncm91bmRDb2xvcik7CiAgICB9LAogICAgc2V0RnJhbWU6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBmcmFtZSA9IHJlcXVlc3QucGFyYW1zLmZyYW1lOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICBpbnN0YW5jZS5zZXRGcmFtZShmcmFtZSk7CiAgICB9LAogICAgc2V0TW9kZTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IG1vZGUgPSByZXF1ZXN0LnBhcmFtcy5tb2RlOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICBpbnN0YW5jZS5zZXRNb2RlKG1vZGUpOwogICAgfSwKICAgIHNldFJlbmRlckNvbmZpZzogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IHJlbmRlckNvbmZpZyA9IHJlcXVlc3QucGFyYW1zLnJlbmRlckNvbmZpZzsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0UmVuZGVyQ29uZmlnKHJlbmRlckNvbmZpZyk7CiAgICB9LAogICAgc2V0U2VnbWVudDogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IHNlZ21lbnQgPSByZXF1ZXN0LnBhcmFtcy5zZWdtZW50OwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICBpbnN0YW5jZS5zZXRTZWdtZW50KHNlZ21lbnRbMF0sIHNlZ21lbnRbMV0pOwogICAgfSwKICAgIHNldFNwZWVkOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3Qgc3BlZWQgPSByZXF1ZXN0LnBhcmFtcy5zcGVlZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0U3BlZWQoc3BlZWQpOwogICAgfSwKICAgIHNldFVzZUZyYW1lSW50ZXJwb2xhdGlvbjogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IHVzZUZyYW1lSW50ZXJwb2xhdGlvbiA9IHJlcXVlc3QucGFyYW1zLnVzZUZyYW1lSW50ZXJwb2xhdGlvbjsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0VXNlRnJhbWVJbnRlcnBvbGF0aW9uKHVzZUZyYW1lSW50ZXJwb2xhdGlvbik7CiAgICB9LAogICAgc2V0V2FzbVVybDogKHJlcXVlc3QpID0+IHsKICAgICAgRG90TG90dGllLnNldFdhc21VcmwocmVxdWVzdC5wYXJhbXMudXJsKTsKICAgIH0sCiAgICBzdG9wOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc3RvcCgpOwogICAgfSwKICAgIHVuZnJlZXplOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2UudW5mcmVlemUoKTsKICAgIH0sCiAgICBzZXRWaWV3cG9ydChyZXF1ZXN0KSB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCB4ID0gcmVxdWVzdC5wYXJhbXMueDsKICAgICAgY29uc3QgeSA9IHJlcXVlc3QucGFyYW1zLnk7CiAgICAgIGNvbnN0IHdpZHRoID0gcmVxdWVzdC5wYXJhbXMud2lkdGg7CiAgICAgIGNvbnN0IGhlaWdodCA9IHJlcXVlc3QucGFyYW1zLmhlaWdodDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGluc3RhbmNlLnNldFZpZXdwb3J0KHgsIHksIHdpZHRoLCBoZWlnaHQpOwogICAgfSwKICAgIHNldE1hcmtlcihyZXF1ZXN0KSB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBtYXJrZXIgPSByZXF1ZXN0LnBhcmFtcy5tYXJrZXI7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLnNldE1hcmtlcihtYXJrZXIpOwogICAgICByZXR1cm4gewogICAgICAgIHN1Y2Nlc3M6IHRydWUKICAgICAgfTsKICAgIH0sCiAgICBzZXRMb29wKHJlcXVlc3QpIHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGxvb3AgPSByZXF1ZXN0LnBhcmFtcy5sb29wOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICBpbnN0YW5jZS5zZXRMb29wKGxvb3ApOwogICAgICByZXR1cm4gewogICAgICAgIHN1Y2Nlc3M6IHRydWUKICAgICAgfTsKICAgIH0KICB9OwogIGZ1bmN0aW9uIGV4ZWN1dGVDb21tYW5kKHJwY1JlcXVlc3QpIHsKICAgIGNvbnN0IG1ldGhvZCA9IHJwY1JlcXVlc3QubWV0aG9kOwogICAgaWYgKHR5cGVvZiBjb21tYW5kc1ttZXRob2RdID09PSAiZnVuY3Rpb24iKSB7CiAgICAgIHJldHVybiBjb21tYW5kc1ttZXRob2RdKHJwY1JlcXVlc3QpOwogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKGBNZXRob2QgJHttZXRob2R9IGlzIG5vdCBpbXBsZW1lbnRlZCBpbiBjb21tYW5kcy5gKTsKICAgIH0KICB9CiAgc2VsZi5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHsKICAgIHRyeSB7CiAgICAgIGNvbnN0IHJlc3VsdCA9IGV4ZWN1dGVDb21tYW5kKGV2ZW50LmRhdGEpOwogICAgICBjb25zdCByZXNwb25zZSA9IHsKICAgICAgICBpZDogZXZlbnQuZGF0YS5pZCwKICAgICAgICBtZXRob2Q6IGV2ZW50LmRhdGEubWV0aG9kLAogICAgICAgIHJlc3VsdAogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnN0IGVycm9yUmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6IGV2ZW50LmRhdGEuaWQsCiAgICAgICAgbWV0aG9kOiBldmVudC5kYXRhLm1ldGhvZCwKICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKGVycm9yUmVzcG9uc2UpOwogICAgfQogIH07CiAgdmFyIGR1bW15ID0gIiI7CiAgdmFyIGRvdGxvdHRpZV93b3JrZXJfZGVmYXVsdCA9IGR1bW15Owp9KSgpOwo=",{type:"classic"})}},Hb=class{constructor(){be(this,"_workers",new Map),be(this,"_animationWorkerMap",new Map)}getWorker(e){return this._workers.has(e)||this._workers.set(e,new Lb),this._workers.get(e)}assignAnimationToWorker(e,t){this._animationWorkerMap.set(e,t)}unassignAnimationFromWorker(e){this._animationWorkerMap.delete(e)}sendMessage(e,t,n){this.getWorker(e).postMessage(t,n||[])}terminateWorker(e){let t=this._workers.get(e);t&&(t.terminate(),this._workers.delete(e))}};function uc(e){if(e instanceof OffscreenCanvas)return{width:e.width,height:e.height};let{height:t,width:n}=e.getBoundingClientRect();return{width:n*window.devicePixelRatio,height:t*window.devicePixelRatio}}function Cc(){return Date.now().toString(36)+Math.random().toString(36).substr(2,9)}var Ts=class mr{constructor(t){be(this,"_eventManager",new Rh),be(this,"_id"),be(this,"_worker"),be(this,"_canvas"),be(this,"_dotLottieInstanceState",{markers:[],autoplay:!1,backgroundColor:"",currentFrame:0,duration:0,loop:!1,mode:"forward",segment:[0,0],segmentDuration:0,speed:1,totalFrames:0,isLoaded:!1,isPlaying:!1,isPaused:!1,isStopped:!0,isFrozen:!1,useFrameInterpolation:!1,renderConfig:{devicePixelRatio:window.devicePixelRatio},activeAnimationId:"",activeThemeId:"",layout:void 0,marker:void 0,isReady:!1,manifest:null}),be(this,"_created",!1),this._canvas=t.canvas,this._id=`dotlottie-${Cc()}`;let n=t.workerId||"defaultWorker";this._worker=mr._workerManager.getWorker(n),mr._workerManager.assignAnimationToWorker(this._id,n),mr._wasmUrl&&this._sendMessage("setWasmUrl",{url:mr._wasmUrl}),this._create(t),this._worker.addEventListener("message",this._handleWorkerEvent.bind(this))}async _handleWorkerEvent(t){let n=t.data;n.id||(n.method==="onLoad"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onComplete"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onDestroy"&&n.result.instanceId===this._id&&this._eventManager.dispatch(n.result.event),n.method==="onUnfreeze"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._dotLottieInstanceState.isFrozen=!1,this._eventManager.dispatch(n.result.event)),n.method==="onFrame"&&n.result.instanceId===this._id&&(this._dotLottieInstanceState.currentFrame=n.result.event.currentFrame,this._eventManager.dispatch(n.result.event)),n.method==="onRender"&&n.result.instanceId===this._id&&this._eventManager.dispatch(n.result.event),n.method==="onFreeze"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onPause"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onPlay"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onStop"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onLoadError"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onReady"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)))}async _create(t){let n;this._canvas instanceof HTMLCanvasElement?n=this._canvas.transferControlToOffscreen():n=this._canvas;let{instanceId:r}=await this._sendMessage("create",{instanceId:this._id,config:{...t,canvas:n},...uc(this._canvas)},[n]);if(r!==this._id)throw new Error("Instance ID mismatch");this._created=!0,await this._updateDotLottieInstanceState()}get isLoaded(){return this._dotLottieInstanceState.isLoaded}get isPlaying(){return this._dotLottieInstanceState.isPlaying}get isPaused(){return this._dotLottieInstanceState.isPaused}get isStopped(){return this._dotLottieInstanceState.isStopped}get currentFrame(){return this._dotLottieInstanceState.currentFrame}get isFrozen(){return this._dotLottieInstanceState.isFrozen}get segmentDuration(){return this._dotLottieInstanceState.segmentDuration}get totalFrames(){return this._dotLottieInstanceState.totalFrames}get segment(){return this._dotLottieInstanceState.segment}get speed(){return this._dotLottieInstanceState.speed}get duration(){return this._dotLottieInstanceState.duration}get isReady(){return this._dotLottieInstanceState.isReady}get mode(){return this._dotLottieInstanceState.mode}get canvas(){return this._canvas}get autoplay(){return this._dotLottieInstanceState.autoplay}get backgroundColor(){return this._dotLottieInstanceState.backgroundColor}get loop(){return this._dotLottieInstanceState.loop}get useFrameInterpolation(){return this._dotLottieInstanceState.useFrameInterpolation}get renderConfig(){return this._dotLottieInstanceState.renderConfig}get manifest(){return this._dotLottieInstanceState.manifest}get activeAnimationId(){return this._dotLottieInstanceState.activeAnimationId}get marker(){return this._dotLottieInstanceState.marker}get activeThemeId(){return this._dotLottieInstanceState.activeThemeId}get layout(){return this._dotLottieInstanceState.layout}async play(){this._created&&(await this._sendMessage("play",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async pause(){this._created&&(await this._sendMessage("pause",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async stop(){this._created&&(await this._sendMessage("stop",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSpeed(t){this._created&&(await this._sendMessage("setSpeed",{instanceId:this._id,speed:t}),await this._updateDotLottieInstanceState())}async setMode(t){this._created&&(await this._sendMessage("setMode",{instanceId:this._id,mode:t}),await this._updateDotLottieInstanceState())}async setFrame(t){this._created&&(await this._sendMessage("setFrame",{frame:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSegment(t,n){this._created&&(await this._sendMessage("setSegment",{instanceId:this._id,segment:[t,n]}),await this._updateDotLottieInstanceState())}async setRenderConfig(t){this._created&&(await this._sendMessage("setRenderConfig",{instanceId:this._id,renderConfig:t}),await this._updateDotLottieInstanceState())}async setUseFrameInterpolation(t){this._created&&(await this._sendMessage("setUseFrameInterpolation",{instanceId:this._id,useFrameInterpolation:t}),await this._updateDotLottieInstanceState())}async loadTheme(t){if(!this._created)return!1;let n=this._sendMessage("loadTheme",{instanceId:this._id,themeId:t});return await this._updateDotLottieInstanceState(),n}async load(t){this._created&&(await this._sendMessage("load",{config:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLoop(t){this._created&&(await this._sendMessage("setLoop",{instanceId:this._id,loop:t}),await this._updateDotLottieInstanceState())}async resize(){if(!this._created)return;let{height:t,width:n}=uc(this._canvas);this._canvas.width=n,this._canvas.height=t,await this._sendMessage("resize",{height:t,instanceId:this._id,width:n}),await this._updateDotLottieInstanceState()}async destroy(){this._created&&(this._created=!1,await this._sendMessage("destroy",{instanceId:this._id}),this._cleanupStateMachineListeners(),mr._workerManager.unassignAnimationFromWorker(this._id),this._eventManager.removeAllEventListeners())}async freeze(){this._created&&(await this._sendMessage("freeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async unfreeze(){this._created&&(await this._sendMessage("unfreeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setBackgroundColor(t){this._created&&(await this._sendMessage("setBackgroundColor",{instanceId:this._id,backgroundColor:t}),await this._updateDotLottieInstanceState())}async loadAnimation(t){this._created&&(await this._sendMessage("loadAnimation",{animationId:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLayout(t){this._created&&(await this._sendMessage("setLayout",{instanceId:this._id,layout:t}),await this._updateDotLottieInstanceState())}async _updateDotLottieInstanceState(){if(!this._created)return;let t=await this._sendMessage("getDotLottieInstanceState",{instanceId:this._id});this._dotLottieInstanceState=t.state}markers(){return this._dotLottieInstanceState.markers}async setMarker(t){this._created&&(await this._sendMessage("setMarker",{instanceId:this._id,marker:t}),await this._updateDotLottieInstanceState())}async loadThemeData(t){if(!this._created)return!1;let n=await this._sendMessage("loadThemeData",{instanceId:this._id,themeData:t});return await this._updateDotLottieInstanceState(),n}async setViewport(t,n,r,i){return this._created?this._sendMessage("setViewport",{x:t,y:n,width:r,height:i,instanceId:this._id}):!1}async _sendMessage(t,n,r){let i={id:`dotlottie-request-${Cc()}`,method:t,params:n};return this._worker.postMessage(i,r||[]),new Promise((o,g)=>{let l=a=>{let s=a.data;s.id===i.id&&(this._worker.removeEventListener("message",l),s.error?g(new Error(`Failed to execute method ${t}: ${s.error}`)):o(s.result))};this._worker.addEventListener("message",l)})}addEventListener(t,n){this._eventManager.addEventListener(t,n)}removeEventListener(t,n){this._eventManager.removeEventListener(t,n)}static setWasmUrl(t){mr._wasmUrl=t}async loadStateMachine(t){if(!this._created)return!1;let n=await this._sendMessage("loadStateMachine",{instanceId:this._id,stateMachineId:t});return await this._updateDotLottieInstanceState(),n}async loadStateMachineData(t){if(!this._created)return!1;let n=await this._sendMessage("loadStateMachineData",{instanceId:this._id,stateMachineData:t});return await this._updateDotLottieInstanceState(),n}async startStateMachine(){if(!this._created)return!1;this._setupStateMachineListeners();let t=await this._sendMessage("startStateMachine",{instanceId:this._id});return await this._updateDotLottieInstanceState(),t}async stopStateMachine(){return this._created?(this._cleanupStateMachineListeners(),this._sendMessage("stopStateMachine",{instanceId:this._id})):!1}async postStateMachineEvent(t){return this._created?this._sendMessage("postStateMachineEvent",{event:t,instanceId:this._id}):!1}async getStateMachineListeners(){return this._created?this._sendMessage("getStateMachineListeners",{instanceId:this._id}):[]}_getPointerPosition(t){let n=this._canvas.getBoundingClientRect(),r=this._canvas.width/n.width,i=this._canvas.height/n.height,o=this._dotLottieInstanceState.renderConfig.devicePixelRatio||window.devicePixelRatio||1,g=(t.clientX-n.left)*r/o,l=(t.clientY-n.top)*i/o;return{x:g,y:l}}_onPointerUp(t){let{x:n,y:r}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerUp: ${n} ${r}`)}_onPointerDown(t){let{x:n,y:r}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerDown: ${n} ${r}`)}_onPointerMove(t){let{x:n,y:r}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerMove: ${n} ${r}`)}_onPointerEnter(t){let{x:n,y:r}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerEnter: ${n} ${r}`)}_onPointerLeave(t){let{x:n,y:r}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerExit: ${n} ${r}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}async _setupStateMachineListeners(){if(vr&&this._canvas instanceof HTMLCanvasElement&&this.isLoaded){let t=await this._sendMessage("getStateMachineListeners",{instanceId:this._id});t.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),t.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),t.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),t.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),t.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),t.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this))}}_cleanupStateMachineListeners(){vr&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)))}};be(Ts,"_workerManager",new Hb),be(Ts,"_wasmUrl","");var Fb=Ts,_b=Wh(kh(),1);function Nb({children:e,className:t="",setCanvasRef:n,setContainerRef:r,style:i,...o}){const g={width:"100%",height:"100%",lineHeight:0,...i};return Re.createElement("div",{ref:r,className:t,...!t&&{style:g}},Re.createElement("canvas",{ref:n,style:{width:"100%",height:"100%"},...o},e))}var cc=()=>typeof window>"u",Eb=e=>{const[t,n]=_.useState(null),r=_.useRef(null),i=_.useRef(e),o=_.useRef(null),g=_.useRef(null);r.current=t,i.current=e;const l=_.useCallback(y=>{var v,b;!((v=i.current)!=null&&v.playOnHover)||!((b=r.current)!=null&&b.isLoaded)||(y.type==="mouseenter"?r.current.play():y.type==="mouseleave"&&r.current.pause())},[]),a=_.useMemo(()=>{if(cc())return null;const y=v=>{v.forEach(b=>{var B,p;b.isIntersecting?(B=r.current)==null||B.unfreeze():(p=r.current)==null||p.freeze()})};return new IntersectionObserver(y,{threshold:0})},[]),s=_.useMemo(()=>{if(cc())return null;const y=(0,_b.default)(()=>{var v,b;(v=i.current)!=null&&v.autoResizeCanvas&&((b=r.current)==null||b.resize())},150);return new ResizeObserver(y)},[]),C=_.useCallback(y=>{o.current=y},[]),c=_.useCallback(y=>{g.current=y},[]),A=_.useCallback(y=>Re.createElement(Nb,{setContainerRef:c,setCanvasRef:C,...y}),[C,c]);return _.useEffect(()=>{const y=o.current;let v=null;if(y){v=new Xh({...i.current,canvas:y});const b=y.getBoundingClientRect();b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)?v.unfreeze():v.freeze(),a==null||a.observe(y),e!=null&&e.autoResizeCanvas&&(s==null||s.observe(y)),y.addEventListener("mouseenter",l),y.addEventListener("mouseleave",l),n(v)}return()=>{v==null||v.destroy(),n(null),s==null||s.disconnect(),a==null||a.disconnect(),y==null||y.removeEventListener("mouseenter",l),y==null||y.removeEventListener("mouseleave",l)}},[a,s,l]),_.useEffect(()=>{r.current&&typeof(e==null?void 0:e.speed)=="number"&&e.speed!==r.current.speed&&r.current.setSpeed(e.speed)},[e==null?void 0:e.speed]),_.useEffect(()=>{r.current&&typeof(e==null?void 0:e.mode)=="string"&&e.mode!==r.current.mode&&r.current.setMode(e.mode)},[e==null?void 0:e.mode]),_.useEffect(()=>{r.current&&typeof(e==null?void 0:e.loop)=="boolean"&&e.loop!==r.current.loop&&r.current.setLoop(e.loop)},[e==null?void 0:e.loop]),_.useEffect(()=>{r.current&&typeof(e==null?void 0:e.useFrameInterpolation)=="boolean"&&e.useFrameInterpolation!==r.current.useFrameInterpolation&&r.current.setUseFrameInterpolation(e.useFrameInterpolation)},[e==null?void 0:e.useFrameInterpolation]),_.useEffect(()=>{if(r.current&&typeof(e==null?void 0:e.segment)=="object"&&Array.isArray(e.segment)&&e.segment.length===2){const y=e.segment[0],v=e.segment[1];r.current.setSegment(y,v)}},[e==null?void 0:e.segment]),_.useEffect(()=>{r.current&&typeof(e==null?void 0:e.backgroundColor)=="string"&&e.backgroundColor!==r.current.backgroundColor&&r.current.setBackgroundColor(e.backgroundColor)},[e==null?void 0:e.backgroundColor]),_.useEffect(()=>{r.current&&typeof(e==null?void 0:e.renderConfig)=="object"&&r.current.setRenderConfig(e.renderConfig)},[JSON.stringify(e==null?void 0:e.renderConfig)]),_.useEffect(()=>{r.current&&(typeof(e==null?void 0:e.data)=="string"||(e==null?void 0:e.data)instanceof ArrayBuffer)&&r.current.load({data:e.data,...i.current||{}})},[e==null?void 0:e.data]),_.useEffect(()=>{r.current&&typeof(e==null?void 0:e.src)=="string"&&r.current.load({src:e.src,...i.current||{}})},[e==null?void 0:e.src]),_.useEffect(()=>{r.current&&typeof(e==null?void 0:e.marker)=="string"&&r.current.setMarker(e.marker)},[e==null?void 0:e.marker]),_.useEffect(()=>{s&&(e!=null&&e.autoResizeCanvas&&o.current?s.observe(o.current):s.disconnect())},[e==null?void 0:e.autoResizeCanvas,s]),_.useEffect(()=>{r.current&&r.current.isLoaded&&e!=null&&e.animationId&&r.current.activeAnimationId!==e.animationId&&r.current.loadAnimation(e.animationId)},[e==null?void 0:e.animationId]),_.useEffect(()=>{r.current&&r.current.isLoaded&&r.current.activeThemeId!==(e==null?void 0:e.themeId)&&r.current.loadTheme((e==null?void 0:e.themeId)||"")},[e==null?void 0:e.themeId]),_.useEffect(()=>{r.current&&r.current.isLoaded&&r.current.loadThemeData((e==null?void 0:e.themeData)||"")},[e==null?void 0:e.themeData]),{dotLottie:t,setCanvasRef:C,setContainerRef:c,canvas:o.current,container:g.current,DotLottieComponent:A}},Tb=typeof window<"u"?_.useLayoutEffect:_.useEffect;function Db(e){const t=_.useRef(e);return Tb(()=>{t.current=e}),_.useCallback((...n)=>t.current(...n),[t])}var Pb=({animationId:e,autoResizeCanvas:t=!0,autoplay:n,backgroundColor:r,data:i,dotLottieRefCallback:o,loop:g,marker:l,mode:a,playOnHover:s,renderConfig:C,segment:c,speed:A,src:y,themeData:v,themeId:b,useFrameInterpolation:B,...p})=>{const{DotLottieComponent:f,dotLottie:m}=Eb({data:i,mode:a,speed:A,src:y,autoplay:n,loop:g,segment:c,renderConfig:C,backgroundColor:r,useFrameInterpolation:B,playOnHover:s,autoResizeCanvas:t,marker:l,themeId:b,animationId:e,themeData:v}),G=typeof o=="function"?Db(o):void 0;return Re.useEffect(()=>{typeof G=="function"&&G(m)},[G,m]),Re.createElement(f,{...p})};Wh(kh(),1);var Mb=e=>{Fb.setWasmUrl(e),Xh.setWasmUrl(e)};const xb="/dotlottie-web/assets/dotlottie-player-OINCbWvs.wasm";Mb(xb);function zb(e){return W.jsx(W.Fragment,{children:W.jsx("div",{className:"",children:W.jsx(Pb,{...e})})})}const Ob="modulepreload",jb=function(e){return"/dotlottie-web/"+e},Ac={},Yn=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),g=document.querySelector("meta[property=csp-nonce]"),l=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=jb(a),a in Ac)return;Ac[a]=!0;const s=a.endsWith(".css"),C=s?'[rel="stylesheet"]':"";if(!!r)for(let y=o.length-1;y>=0;y--){const v=o[y];if(v.href===a&&(!s||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${C}`))return;const A=document.createElement("link");if(A.rel=s?"stylesheet":Ob,s||(A.as="script",A.crossOrigin=""),A.href=a,l&&A.setAttribute("nonce",l),document.head.appendChild(A),s)return new Promise((y,v)=>{A.addEventListener("load",y),A.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>t()).catch(o=>{const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=o,window.dispatchEvent(g),!g.defaultPrevented)throw o})};var dc={},Jb=function(e,t,n,r,i){var o=new Worker(dc[t]||(dc[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return o.onmessage=function(g){var l=g.data,a=l.$e$;if(a){var s=new Error(a[0]);s.code=a[1],s.stack=a[2],i(s,null)}else i(null,l)},o.postMessage(n,r),o},Ct=Uint8Array,Br=Uint16Array,Lh=Int32Array,QI=new Ct([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$I=new Ct([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hh=new Ct([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fh=function(e,t){for(var n=new Br(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new Lh(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},_h=Fh(QI,2),qI=_h.b,Ub=_h.r;qI[28]=258,Ub[258]=28;var Qb=Fh($I,0),Nh=Qb.b,Il=new Br(32768);for(Ce=0;Ce<32768;++Ce)Kn=(Ce&43690)>>1|(Ce&21845)<<1,Kn=(Kn&52428)>>2|(Kn&13107)<<2,Kn=(Kn&61680)>>4|(Kn&3855)<<4,Il[Ce]=((Kn&65280)>>8|(Kn&255)<<8)>>1;var Kn,Ce,gi=function(e,t,n){for(var r=e.length,i=0,o=new Br(t);i<r;++i)e[i]&&++o[e[i]-1];var g=new Br(t);for(i=1;i<t;++i)g[i]=g[i-1]+o[i-1]<<1;var l;if(n){l=new Br(1<<t);var a=15-t;for(i=0;i<r;++i)if(e[i])for(var s=i<<4|e[i],C=t-e[i],c=g[e[i]-1]++<<C,A=c|(1<<C)-1;c<=A;++c)l[Il[c]>>a]=s}else for(l=new Br(r),i=0;i<r;++i)e[i]&&(l[i]=Il[g[e[i]-1]++]>>15-e[i]);return l},Ko=new Ct(288);for(Ce=0;Ce<144;++Ce)Ko[Ce]=8;var Ce;for(Ce=144;Ce<256;++Ce)Ko[Ce]=9;var Ce;for(Ce=256;Ce<280;++Ce)Ko[Ce]=7;var Ce;for(Ce=280;Ce<288;++Ce)Ko[Ce]=8;var Ce,Eh=new Ct(32);for(Ce=0;Ce<32;++Ce)Eh[Ce]=5;var Ce,Th=gi(Ko,9,1),Dh=gi(Eh,5,1),Bg=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Pt=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Zg=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Ph=function(e){return(e+7)/8|0},Ll=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new Ct(e.subarray(t,n))},Mh=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ut=function(e,t,n){var r=new Error(t||Mh[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,ut),!n)throw r;return r},xh=function(e,t,n,r){var i=e.length,o=r?r.length:0;if(!i||t.f&&!t.l)return n||new Ct(0);var g=!n,l=g||t.i!=2,a=t.i;g&&(n=new Ct(i*3));var s=function(lt){var Pe=n.length;if(lt>Pe){var at=new Ct(Math.max(Pe*2,lt));at.set(n),n=at}},C=t.f||0,c=t.p||0,A=t.b||0,y=t.l,v=t.d,b=t.m,B=t.n,p=i*8;do{if(!y){C=Pt(e,c,1);var f=Pt(e,c+1,3);if(c+=3,f)if(f==1)y=Th,v=Dh,b=9,B=5;else if(f==2){var m=Pt(e,c,31)+257,G=Pt(e,c+10,15)+4,V=m+Pt(e,c+5,31)+1;c+=14;for(var F=new Ct(V),Y=new Ct(19),R=0;R<G;++R)Y[Hh[R]]=Pt(e,c+R*3,7);c+=G*3;for(var T=Bg(Y),Z=(1<<T)-1,K=gi(Y,T,1),R=0;R<V;){var H=K[Pt(e,c,Z)];c+=H&15;var N=H>>4;if(N<16)F[R++]=N;else{var P=0,z=0;for(N==16?(z=3+Pt(e,c,3),c+=2,P=F[R-1]):N==17?(z=3+Pt(e,c,7),c+=3):N==18&&(z=11+Pt(e,c,127),c+=7);z--;)F[R++]=P}}var Q=F.subarray(0,m),q=F.subarray(m);b=Bg(Q),B=Bg(q),y=gi(Q,b,1),v=gi(q,B,1)}else ut(1);else{var N=Ph(c)+4,X=e[N-4]|e[N-3]<<8,M=N+X;if(M>i){a&&ut(0);break}l&&s(A+X),n.set(e.subarray(N,M),A),t.b=A+=X,t.p=c=M*8,t.f=C;continue}if(c>p){a&&ut(0);break}}l&&s(A+131072);for(var j=(1<<b)-1,le=(1<<B)-1,ne=c;;ne=c){var P=y[Zg(e,c)&j],fe=P>>4;if(c+=P&15,c>p){a&&ut(0);break}if(P||ut(2),fe<256)n[A++]=fe;else if(fe==256){ne=c,y=null;break}else{var re=fe-254;if(fe>264){var R=fe-257,ve=QI[R];re=Pt(e,c,(1<<ve)-1)+qI[R],c+=ve}var ce=v[Zg(e,c)&le],De=ce>>4;ce||ut(3),c+=ce&15;var q=Nh[De];if(De>3){var ve=$I[De];q+=Zg(e,c)&(1<<ve)-1,c+=ve}if(c>p){a&&ut(0);break}l&&s(A+131072);var $t=A+re;if(A<q){var gt=o-q,Zt=Math.min(q,$t);for(gt+A<0&&ut(3);A<Zt;++A)n[A]=r[gt+A]}for(;A<$t;++A)n[A]=n[A-q]}}t.l=y,t.p=ne,t.b=A,t.f=C,y&&(C=1,t.m=b,t.d=v,t.n=B)}while(!C);return A!=n.length&&g?Ll(n,0,A):n.subarray(0,A)},$b=new Ct(0),qb=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},hc=function(e,t,n){for(var r=e(),i=e.toString(),o=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/\s+/g,"").split(","),g=0;g<r.length;++g){var l=r[g],a=o[g];if(typeof l=="function"){t+=";"+a+"=";var s=l.toString();if(l.prototype)if(s.indexOf("[native code]")!=-1){var C=s.indexOf(" ",8)+1;t+=s.slice(C,s.indexOf("(",C))}else{t+=s;for(var c in l.prototype)t+=";"+a+".prototype."+c+"="+l.prototype[c].toString()}else t+=s}else n[a]=l}return t},sg=[],eG=function(e){var t=[];for(var n in e)e[n].buffer&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t},tG=function(e,t,n,r){if(!sg[n]){for(var i="",o={},g=e.length-1,l=0;l<g;++l)i=hc(e[l],i,o);sg[n]={c:hc(e[g],i,o),e:o}}var a=qb({},sg[n].e);return Jb(sg[n].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",n,a,eG(a),r)},nG=function(){return[Ct,Br,Lh,QI,$I,Hh,qI,Nh,Th,Dh,Il,Mh,gi,Bg,Pt,Zg,Ph,Ll,ut,xh,eu,zh,Oh]},zh=function(e){return postMessage(e,[e.buffer])},Oh=function(e){return e&&{out:e.size&&new Ct(e.size),dictionary:e.dictionary}},rG=function(e,t,n,r,i,o){var g=tG(n,r,i,function(l,a){g.terminate(),o(l,a)});return g.postMessage([e,t],t.consume?[e.buffer]:[]),function(){g.terminate()}},vn=function(e,t){return e[t]|e[t+1]<<8},sn=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},Ra=function(e,t){return sn(e,t)+sn(e,t+4)*4294967296};function iG(e,t,n){return n||(n=t,t={}),typeof n!="function"&&ut(7),rG(e,t,[nG],function(r){return zh(eu(r.data[0],Oh(r.data[1])))},1,n)}function eu(e,t){return xh(e,{i:2},t&&t.out,t&&t.dictionary)}var Ds=typeof TextDecoder<"u"&&new TextDecoder,oG=0;try{Ds.decode($b,{stream:!0}),oG=1}catch{}var gG=function(e){for(var t="",n=0;;){var r=e[n++],i=(r>127)+(r>223)+(r>239);if(n+i>e.length)return{s:t,r:Ll(e,n-1)};i?i==3?(r=((r&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,t+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?t+=String.fromCharCode((r&31)<<6|e[n++]&63):t+=String.fromCharCode((r&15)<<12|(e[n++]&63)<<6|e[n++]&63):t+=String.fromCharCode(r)}};function Gi(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}else{if(Ds)return Ds.decode(e);var i=gG(e),o=i.s,n=i.r;return n.length&&ut(8),o}}var lG=function(e,t){return t+30+vn(e,t+26)+vn(e,t+28)},aG=function(e,t,n){var r=vn(e,t+28),i=Gi(e.subarray(t+46,t+46+r),!(vn(e,t+8)&2048)),o=t+46+r,g=sn(e,t+20),l=n&&g==4294967295?sG(e,o):[g,sn(e,t+24),sn(e,t+42)],a=l[0],s=l[1],C=l[2];return[vn(e,t+10),a,s,i,o+vn(e,t+30)+vn(e,t+32),C]},sG=function(e,t){for(;vn(e,t)!=1;t+=4+vn(e,t+2));return[Ra(e,t+12),Ra(e,t+4),Ra(e,t+20)]},fc=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(e){e()};function IG(e,t,n){n||(n=t,t={}),typeof n!="function"&&ut(7);var r=[],i=function(){for(var B=0;B<r.length;++B)r[B]()},o={},g=function(B,p){fc(function(){n(B,p)})};fc(function(){g=n});for(var l=e.length-22;sn(e,l)!=101010256;--l)if(!l||e.length-l>65558)return g(ut(13,0,1),null),i;var a=vn(e,l+8);if(a){var s=a,C=sn(e,l+16),c=C==4294967295||s==65535;if(c){var A=sn(e,l-12);c=sn(e,A)==101075792,c&&(s=a=sn(e,A+32),C=sn(e,A+48))}for(var y=t&&t.filter,v=function(B){var p=aG(e,C,c),f=p[0],m=p[1],G=p[2],V=p[3],F=p[4],Y=p[5],R=lG(e,Y);C=F;var T=function(K,H){K?(i(),g(K,null)):(H&&(o[V]=H),--a||g(null,o))};if(!y||y({name:V,size:m,originalSize:G,compression:f}))if(!f)T(null,Ll(e,R,R+m));else if(f==8){var Z=e.subarray(R,R+m);if(m<32e4)try{T(null,eu(Z,{out:new Ct(G)}))}catch(K){T(K,null)}else r.push(iG(Z,{size:G},T))}else T(ut(14,"unknown compression type "+f,1),null);else T(null,null)},b=0;b<s;++b)v(b)}else g(null,{});return i}function uG(e){return(Array.isArray(e)?e:e.issues).reduce((t,n)=>{if(n.path){let r=n.path.map(({key:i})=>i).join(".");t.nested[r]=[...t.nested[r]||[],n.message]}else t.root=[...t.root||[],n.message];return t},{nested:{}})}var CG=class extends Error{constructor(t){super(t[0].message);oe(this,"issues");this.name="ValiError",this.issues=t}};function cG(e,t){return{reason:e==null?void 0:e.reason,validation:t.validation,origin:(e==null?void 0:e.origin)||"value",message:t.message,input:t.input,abortEarly:e==null?void 0:e.abortEarly,abortPipeEarly:e==null?void 0:e.abortPipeEarly}}function AG(e,t){return{reason:t,origin:e==null?void 0:e.origin,abortEarly:e==null?void 0:e.abortEarly,abortPipeEarly:e==null?void 0:e.abortPipeEarly}}function Ar(e,t,n,r){if(!t||!t.length)return{output:e};let i,o,g=e;for(let l of t){let a=l(g);if(a.issue){i=i||AG(n,r);let s=cG(i,a.issue);if(o?o.push(s):o=[s],i.abortEarly||i.abortPipeEarly)break}else g=a.output}return o?{issues:o}:{output:g}}function dn(e,t){return!e||typeof e=="string"?[e,t]:[void 0,e]}function wn(e,t,n,r,i,o){return{issues:[{reason:t,validation:n,origin:(e==null?void 0:e.origin)||"value",message:r,input:i,issues:o,abortEarly:e==null?void 0:e.abortEarly,abortPipeEarly:e==null?void 0:e.abortPipeEarly}]}}function dG(e=[]){return{schema:"any",async:!1,_parse(t,n){return Ar(t,e,n,"any")}}}function $i(e,t,n){let[r,i]=dn(t,n);return{schema:"array",array:{item:e},async:!1,_parse(o,g){if(!Array.isArray(o))return wn(g,"type","array",r||"Invalid type",o);let l,a=[];for(let s=0;s<o.length;s++){let C=o[s],c=e._parse(C,g);if(c.issues){let A={schema:"array",input:o,key:s,value:C};for(let y of c.issues)y.path?y.path.unshift(A):y.path=[A],l==null||l.push(y);if(l||(l=c.issues),g!=null&&g.abortEarly)break}else a.push(c.output)}return l?{issues:l}:Ar(a,i,g,"array")}}}function Va(e,t){let[n,r]=dn(e,t);return{schema:"boolean",async:!1,_parse(i,o){return typeof i!="boolean"?wn(o,"type","boolean",n||"Invalid type",i):Ar(i,r,o,"boolean")}}}function pc(e,t){return{schema:"literal",literal:e,async:!1,_parse(n,r){return n!==e?wn(r,"type","literal",t||"Invalid type",n):{output:n}}}}function hG(e,t){return{schema:"native_enum",nativeEnum:e,async:!1,_parse(n,r){return Object.values(e).includes(n)?{output:n}:wn(r,"type","native_enum",t||"Invalid type",n)}}}function un(e,t){let[n,r]=dn(e,t);return{schema:"number",async:!1,_parse(i,o){return typeof i!="number"?wn(o,"type","number",n||"Invalid type",i):Ar(i,r,o,"number")}}}function Qt(e,t,n){let[r,i]=dn(t,n),o;return{schema:"object",object:e,async:!1,_parse(g,l){if(!g||typeof g!="object")return wn(l,"type","object",r||"Invalid type",g);o=o||Object.entries(e);let a,s={};for(let[C,c]of o){let A=g[C],y=c._parse(A,l);if(y.issues){let v={schema:"object",input:g,key:C,value:A};for(let b of y.issues)b.path?b.path.unshift(v):b.path=[v],a==null||a.push(b);if(a||(a=y.issues),l!=null&&l.abortEarly)break}else s[C]=y.output}return a?{issues:a}:Ar(s,i,l,"object")}}}function he(e){return{schema:"optional",wrapped:e,async:!1,_parse(t,n){return t===void 0?{output:t}:e._parse(t,n)}}}function qe(e,t){let[n,r]=dn(e,t);return{schema:"string",async:!1,_parse(i,o){return typeof i!="string"?wn(o,"type","string",n||"Invalid type",i):Ar(i,r,o,"string")}}}function fG(e,t,n,r){if(typeof t=="object"&&!Array.isArray(t)){let[g,l]=dn(n,r);return[e,t,g,l]}let[i,o]=dn(t,n);return[qe(),e,i,o]}var pG=["__proto__","prototype","constructor"];function mG(e,t,n,r){let[i,o,g,l]=fG(e,t,n,r);return{schema:"record",record:{key:i,value:o},async:!1,_parse(a,s){if(!a||typeof a!="object")return wn(s,"type","record",g||"Invalid type",a);let C,c={};for(let[A,y]of Object.entries(a))if(!pG.includes(A)){let v,b=i._parse(A,{origin:"key",abortEarly:s==null?void 0:s.abortEarly,abortPipeEarly:s==null?void 0:s.abortPipeEarly});if(b.issues){v={schema:"record",input:a,key:A,value:y};for(let p of b.issues)p.path=[v],C==null||C.push(p);if(C||(C=b.issues),s!=null&&s.abortEarly)break}let B=o._parse(y,s);if(B.issues){v=v||{schema:"record",input:a,key:A,value:y};for(let p of B.issues)p.path?p.path.unshift(v):p.path=[v],C==null||C.push(p);if(C||(C=B.issues),s!=null&&s.abortEarly)break}!b.issues&&!B.issues&&(c[b.output]=B.output)}return C?{issues:C}:Ar(c,l,s,"record")}}}function yG(e,t,n){if(typeof e=="object"&&!Array.isArray(e)){let[o,g]=dn(t,n);return[e,o,g]}let[r,i]=dn(e,t);return[void 0,r,i]}function mc(e,t,n,r){let[i,o,g]=yG(t,n,r);return{schema:"tuple",tuple:{items:e,rest:i},async:!1,_parse(l,a){if(!Array.isArray(l)||!i&&e.length!==l.length||i&&e.length>l.length)return wn(a,"type","tuple",o||"Invalid type",l);let s,C=[];for(let c=0;c<e.length;c++){let A=l[c],y=e[c]._parse(A,a);if(y.issues){let v={schema:"tuple",input:l,key:c,value:A};for(let b of y.issues)b.path?b.path.unshift(v):b.path=[v],s==null||s.push(b);if(s||(s=y.issues),a!=null&&a.abortEarly)break}else C[c]=y.output}if(i)for(let c=e.length;c<l.length;c++){let A=l[c],y=i._parse(A,a);if(y.issues){let v={schema:"tuple",input:l,key:c,value:A};for(let b of y.issues)b.path?b.path.unshift(v):b.path=[v],s==null||s.push(b);if(s||(s=y.issues),a!=null&&a.abortEarly)break}else C[c]=y.output}return s?{issues:s}:Ar(C,g,a,"tuple")}}}function Ps(e,t){return{schema:"union",union:e,async:!1,_parse(n,r){let i,o;for(let g of e){let l=g._parse(n,r);if(l.issues)if(i)for(let a of l.issues)i.push(a);else i=l.issues;else{o=[l.output];break}}return o?{output:o[0]}:wn(r,"type","union",t||"Invalid type",n,i)}}}function Yo(e,t,n){let[r,i]=dn(t,n);return Qt(e.reduce((o,g)=>({...o,...g.object}),{}),r,i)}function vG(e,t,n,r){let[i,o]=dn(n,r);return Qt(Object.entries(e.object).reduce((g,[l,a])=>t.includes(l)?g:{...g,[l]:a},{}),i,o)}function bG(e,t,n){let r=e._parse(t,n);return r.issues?{success:!1,error:new CG(r.issues),issues:r.issues}:{success:!0,data:r.output,output:r.output}}function Ms(e,t){return n=>n>e?{issue:{validation:"max_value",message:t||"Invalid value",input:n}}:{output:n}}function xs(e,t){return n=>n<e?{issue:{validation:"min_value",message:t||"Invalid value",input:n}}:{output:n}}var GG=Object.create,tu=Object.defineProperty,wG=Object.getOwnPropertyDescriptor,jh=Object.getOwnPropertyNames,BG=Object.getPrototypeOf,ZG=Object.prototype.hasOwnProperty,SG=(e,t,n)=>t in e?tu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ro=(e,t)=>function(){return t||(0,e[jh(e)[0]])((t={exports:{}}).exports,t),t.exports},WG=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of jh(t))!ZG.call(e,i)&&i!==n&&tu(e,i,{get:()=>t[i],enumerable:!(r=wG(t,i))||r.enumerable});return e},kG=(e,t,n)=>(n=e!=null?GG(BG(e)):{},WG(t||!e||!e.__esModule?tu(n,"default",{value:e,enumerable:!0}):n,e)),KG=(e,t,n)=>(SG(e,typeof t!="symbol"?t+"":t,n),n),YG=Ro({"../../node_modules/.pnpm/@rgba-image+copy@0.1.3/node_modules/@rgba-image/copy/dist/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.copy=void 0;var t=(n,r,i=0,o=0,g=n.width-i,l=n.height-o,a=0,s=0)=>{if(i=i|0,o=o|0,g=g|0,l=l|0,a=a|0,s=s|0,g<=0||l<=0)return;let C=new Uint32Array(n.data.buffer),c=new Uint32Array(r.data.buffer);for(let A=0;A<l;A++){let y=o+A;if(y<0||y>=n.height)continue;let v=s+A;if(!(v<0||v>=r.height))for(let b=0;b<g;b++){let B=i+b;if(B<0||B>=n.width)continue;let p=a+b;if(p<0||p>=r.width)continue;let f=y*n.width+B,m=v*r.width+p;c[m]=C[f]}}};e.copy=t}}),RG=Ro({"../../node_modules/.pnpm/@rgba-image+create-image@0.1.1/node_modules/@rgba-image/create-image/dist/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CreateImageFactory=(t=[0,0,0,0],n=4)=>{if(n=Math.floor(n),isNaN(n)||n<1)throw TypeError("channels should be a positive non-zero number");if(!("length"in t)||t.length<n)throw TypeError(`fill should be iterable with at least ${n} members`);t=new Uint8ClampedArray(t).slice(0,n);let r=t.every(i=>i===0);return(i,o,g)=>{if(i===void 0||o===void 0)throw TypeError("Not enough arguments");if(i=Math.floor(i),o=Math.floor(o),isNaN(i)||i<1||isNaN(o)||o<1)throw TypeError("Index or size is negative or greater than the allowed amount");let l=i*o*n;if(g===void 0&&(g=new Uint8ClampedArray(l)),g instanceof Uint8ClampedArray){if(g.length!==l)throw TypeError("Index or size is negative or greater than the allowed amount");if(!r)for(let a=0;a<o;a++)for(let s=0;s<i;s++){let C=(a*i+s)*n;for(let c=0;c<n;c++)g[C+c]=t[c]}return{get width(){return i},get height(){return o},get data(){return g}}}throw TypeError("Expected data to be Uint8ClampedArray or undefined")}},e.createImage=e.CreateImageFactory()}}),VG=Ro({"../../node_modules/.pnpm/@rgba-image+lanczos@0.1.1/node_modules/@rgba-image/lanczos/dist/filters.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.filters=void 0;var t=14,n=(o,g)=>{if(o<=-g||o>=g||o==0)return 0;let l=o*Math.PI;return Math.sin(l)/l*Math.sin(l/g)/(l/g)},r=o=>Math.round(o*((1<<t)-1)),i=(o,g,l,a,s)=>{let C=s?2:3,c=1/l,A=Math.min(1,l),y=C/A,v=Math.floor((y+1)*2),b=new Int16Array((v+2)*g),B=0;for(let p=0;p<g;p++){let f=(p+.5)*c+a,m=Math.max(0,Math.floor(f-y)),G=Math.min(o-1,Math.ceil(f+y)),V=G-m+1,F=new Float32Array(V),Y=new Int16Array(V),R=0,T=0;for(let z=m;z<=G;z++){let Q=n((z+.5-f)*A,C);R+=Q,F[T]=Q,T++}let Z=0;for(let z=0;z<F.length;z++){let Q=F[z]/R;Z+=Q,Y[z]=r(Q)}Y[g>>1]+=r(1-Z);let K=0;for(;K<Y.length&&Y[K]===0;)K++;let H=Y.length-1;for(;H>0&&Y[H]===0;)H--;let N=m+K,P=H-K+1;b[B++]=N,b[B++]=P,b.set(Y.subarray(K,H+1),B),B+=P}return b};e.filters=i}}),XG=Ro({"../../node_modules/.pnpm/@rgba-image+lanczos@0.1.1/node_modules/@rgba-image/lanczos/dist/convolve.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convolve=void 0;var t=14,n=(r,i,o,g,l,a)=>{let s=0,C=0;for(let c=0;c<g;c++){let A=0;for(let y=0;y<l;y++){let v=a[A++],b=s+v*4|0,B=0,p=0,f=0,m=0;for(let G=a[A++];G>0;G--){let V=a[A++];B=B+V*r[b]|0,p=p+V*r[b+1]|0,f=f+V*r[b+2]|0,m=m+V*r[b+3]|0,b=b+4|0}i[C]=B+8192>>t,i[C+1]=p+8192>>t,i[C+2]=f+8192>>t,i[C+3]=m+8192>>t,C=C+g*4|0}C=(c+1)*4|0,s=(c+1)*o*4|0}};e.convolve=n}}),LG=Ro({"../../node_modules/.pnpm/@rgba-image+lanczos@0.1.1/node_modules/@rgba-image/lanczos/dist/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.lanczos2=e.lanczos=void 0;var t=YG(),n=RG(),r=VG(),i=XG(),o=(a,s,C=!1)=>{let c=s.width/a.width,A=s.height/a.height,y=r.filters(a.width,s.width,c,0,C),v=r.filters(a.height,s.height,A,0,C),b=new Uint8ClampedArray(s.width*a.height*4);i.convolve(a.data,b,a.width,a.height,s.width,y),i.convolve(b,s.data,a.height,s.width,s.height,v)},g=(a,s,C=0,c=0,A=a.width-C,y=a.height-c,v=0,b=0,B=s.width-v,p=s.height-b)=>{if(C=C|0,c=c|0,A=A|0,y=y|0,v=v|0,b=b|0,B=B|0,p=p|0,A<=0||y<=0||B<=0||p<=0)return;if(C===0&&c===0&&A===a.width&&y===a.height&&v===0&&b===0&&B===s.width&&p===s.height){o(a,s);return}let f=n.createImage(A,y),m=n.createImage(B,p);t.copy(a,f,C,c),o(f,m),t.copy(m,s,0,0,m.width,m.height,v,b)};e.lanczos=g;var l=(a,s,C=0,c=0,A=a.width-C,y=a.height-c,v=0,b=0,B=s.width-v,p=s.height-b)=>{if(C=C|0,c=c|0,A=A|0,y=y|0,v=v|0,b=b|0,B=B|0,p=p|0,A<=0||y<=0||B<=0||p<=0)return;if(C===0&&c===0&&A===a.width&&y===a.height&&v===0&&b===0&&B===s.width&&p===s.height){o(a,s,!0);return}let f=n.createImage(A,y),m=n.createImage(B,p);t.copy(a,f,C,c),o(f,m,!0),t.copy(m,s,0,0,m.width,m.height,v,b)};e.lanczos2=l}}),Jh=(e=>(e.Bounce="bounce",e.Normal="normal",e))(Jh||{}),HG=hG(Jh),Uh=Qt({autoplay:he(Va()),defaultTheme:he(qe()),direction:he(Ps([pc(1),pc(-1)])),hover:he(Va()),id:qe(),intermission:he(un()),loop:he(Ps([Va(),un()])),playMode:he(HG),speed:he(un()),themeColor:he(qe())}),FG=Qt({animations:$i(qe()),id:qe()}),_G=Qt({activeAnimationId:he(qe()),animations:$i(Uh),author:he(qe()),custom:he(mG(qe(),dG())),description:he(qe()),generator:he(qe()),keywords:he(qe()),revision:he(un()),themes:he($i(FG)),states:he($i(qe())),version:he(qe())}),Qh=vG(Uh,["id"]),Hr=Qt({state:qe()}),NG=Hr,EG=Yo([Hr,Qt({ms:un()})]),TG=Yo([Hr,Qt({count:un()})]),DG=Hr,PG=Hr,MG=Hr,xG=Yo([Hr,Qt({threshold:he($i(un([xs(0),Ms(1)])))})]),zG=Qt({onAfter:he(EG),onClick:he(NG),onComplete:he(MG),onEnter:he(TG),onMouseEnter:he(DG),onMouseLeave:he(PG),onShow:he(xG)}),OG=Yo([Qh,Qt({playOnScroll:he(mc([un([xs(0),Ms(1)]),un([xs(0),Ms(1)])])),segments:he(Ps([mc([un(),un()]),qe()]))})]);Yo([zG,Qt({animationId:he(qe()),playbackSettings:OG})]);var jG={jpeg:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp",svg:"image/svg+xml",webp:"image/webp",mpeg:"audio/mpeg",mp3:"audio/mp3"},yc={jpeg:[255,216,255],png:[137,80,78,71,13,10,26,10],gif:[71,73,70],bmp:[66,77],webp:[82,73,70,70,87,69,66,80],svg:[60,63,120],mp3:[73,68,51,3,0,0,0,0],mpeg:[73,68,51,3,0,0,0,0]},JG=e=>{let t=null,n=[];if(!e)return null;let r=e.substring(e.indexOf(",")+1);typeof window>"u"?t=Buffer.from(r,"base64").toString("binary"):t=atob(r);let i=new Uint8Array(t.length);for(let o=0;o<t.length;o+=1)i[o]=t.charCodeAt(o);n=Array.from(i.subarray(0,8));for(let o in yc){let g=yc[o];if(g&&n.every((l,a)=>l===g[a]))return jG[o]}return null},nu=class extends Error{constructor(e,t){super(e),KG(this,"code"),this.name="[dotlottie-js]",this.code=t}};function $h(e){let t;if(typeof window>"u")t=Buffer.from(e).toString("base64");else{let n=Array.prototype.map.call(e,r=>String.fromCharCode(r)).join("");t=window.btoa(n)}return`data:${JG(t)};base64,${t}`}function vc(e){return"w"in e&&"h"in e&&!("xt"in e)&&"p"in e}function zs(e){return!("h"in e)&&!("w"in e)&&"p"in e&&"e"in e&&"u"in e&&"id"in e}async function Vo(e,t=()=>!0){if(!(e instanceof Uint8Array))throw new nu("DotLottie not found","INVALID_DOTLOTTIE");return await new Promise((n,r)=>{IG(e,{filter:t},(i,o)=>{i&&r(i),n(o)})})}async function ru(e,t,n){if(!(e instanceof Uint8Array))throw new nu("DotLottie not found","INVALID_DOTLOTTIE");return(await Vo(e,r=>r.name===t&&(!n||n(r))))[t]}async function Os(e){let t="manifest.json",n=(await Vo(e,r=>r.name===t))[t];if(!(typeof n>"u"))return JSON.parse(Gi(n,!1))}async function UG(e){if(!(e instanceof Uint8Array))return{success:!1,error:"DotLottie not found"};let t=await Os(e);if(typeof t>"u")return{success:!1,error:"Invalid .lottie file, manifest.json is missing"};let n=bG(_G,t);return n.success?{success:!0}:{success:!1,error:`Invalid .lottie file, manifest.json structure is invalid, ${JSON.stringify(uG(n.error).nested,null,2)}`}}async function bc(e){let t=new Uint8Array(e),n=await UG(t);if(n.error)throw new nu(n.error,"INVALID_DOTLOTTIE");return t}async function QG(e,t){let n=await Vo(e,i=>{let o=i.name.replace("audio/","");return i.name.startsWith("audio/")&&(!t||t({...i,name:o}))}),r={};for(let i in n){let o=n[i];if(o instanceof Uint8Array){let g=i.replace("audio/","");r[g]=$h(o)}}return r}async function $G(e,t){var n;let r=new Map;for(let[o,g]of Object.entries(t))for(let l of g.assets||[])if(zs(l)){let a=l.p;r.has(a)||r.set(a,new Set),(n=r.get(a))==null||n.add(o)}let i=await QG(e,o=>r.has(o.name));for(let[o,g]of r){let l=i[o];if(l)for(let a of g){let s=t[a];for(let C of(s==null?void 0:s.assets)||[])zs(C)&&C.p===o&&(C.p=l,C.u="",C.e=1)}}}async function qG(e,t){let n=await Vo(e,i=>{let o=i.name.replace("images/","");return i.name.startsWith("images/")&&(!t||t({...i,name:o}))}),r={};for(let i in n){let o=n[i];if(o instanceof Uint8Array){let g=i.replace("images/","");r[g]=$h(o)}}return r}async function ew(e,t){var n;let r=new Map;for(let[o,g]of Object.entries(t))for(let l of g.assets||[])if(vc(l)){let a=l.p;r.has(a)||r.set(a,new Set),(n=r.get(a))==null||n.add(o)}let i=await qG(e,o=>r.has(o.name));for(let[o,g]of r){let l=i[o];if(l)for(let a of g){let s=t[a];for(let C of(s==null?void 0:s.assets)||[])vc(C)&&C.p===o&&(C.p=l,C.u="",C.e=1)}}}async function tw(e,t,{inlineAssets:n}={},r){let i=`animations/${t}.json`,o=await ru(e,i,r);if(typeof o>"u")return;let g=JSON.parse(Gi(o,!1));if(!n)return g;let l={[t]:g};return await ew(e,l),await $G(e,l),g}async function nw(e,t,n){let r=`themes/${t}.json`,i=await ru(e,r,n);if(!(typeof i>"u"))return JSON.parse(Gi(i,!1))}async function rw(e,t){let n={},r=await Vo(e,i=>{let o=i.name.replace("states/","").replace(".json","");return i.name.startsWith("states/")&&(!t||t({...i,name:o}))});for(let i in r){let o=r[i];if(o instanceof Uint8Array){let g=i.replace("states/","").replace(".json","");n[g]=Gi(o,!1)}}return n}async function iw(e,t,n){let r=`states/${t}.json`,i=await ru(e,r,n);return typeof i>"u"?void 0:JSON.parse(Gi(i,!1))}kG(LG());function de(e,t="dotLottie-common"){return new Error(`[${t}]: ${e}`)}function Tr(e,t="dotLottie-common",...n){console.error(`[${t}]:`,e,...n)}function Le(e,t="dotLottie-common",...n){console.warn(`[${t}]:`,e,...n)}function ow(e=""){let t=e.trim(),n=t.lastIndexOf("/"),r=t.substring(n+1),i=r.indexOf(".");return i!==-1?r.substring(0,i):r}function ul(e){return["v","ip","op","layers","fr","w","h"].every(t=>Object.prototype.hasOwnProperty.call(e,t))}function gw(e){let t=e.assets;return t?t.some(n=>zs(n)):!1}function lw(e){try{let t=JSON.parse(e);return ul(t)}catch{return!1}}function iB(e,t){let n=Object.keys(e).find(r=>e[r]===t);if(n===void 0)throw new Error("Value not found in the object.");return n}function Xa(e){return JSON.parse(JSON.stringify(e))}var aw=class{constructor(){oe(this,"_dotLottie");oe(this,"_animationsMap",new Map);oe(this,"_themeMap",new Map);oe(this,"_stateMachinesMap",new Map);oe(this,"_manifest")}get dotLottie(){return this._dotLottie}get animationsMap(){return this._animationsMap}get themeMap(){return this._themeMap}get stateMachinesMap(){return this._stateMachinesMap}get manifest(){return this._manifest}async loadFromUrl(t){let n=await fetch(t,{method:"GET",mode:"cors"});if(!n.ok)throw new Error(`Failed to load dotLottie from ${t} with status ${n.status}`);let r=n.headers.get("content-type");if(r!=null&&r.includes("application/json")){let i=await n.json();if(!ul(i))throw new Error(`Invalid lottie JSON at ${t}`);let o=ow(t);this._animationsMap.set(o,i);let g={activeAnimationId:o,animations:[{id:o}]};this._manifest=g}else{this._dotLottie=await bc(await n.arrayBuffer());let i=await Os(this._dotLottie);if(!i)throw new Error("Manifest not found");this._manifest=i}}loadFromLottieJSON(t){if(!ul(t))throw new Error("Invalid lottie JSON");let n="my-animation";this._animationsMap.set(n,t);let r={activeAnimationId:n,animations:[{id:n}]};this._manifest=r}async loadFromArrayBuffer(t){this._dotLottie=await bc(t);let n=await Os(this._dotLottie);if(!n)throw new Error("Manifest not found");this._manifest=n}async getAnimation(t){if(this._animationsMap.get(t))return this._animationsMap.get(t);if(!this._dotLottie)return;let n=await tw(this._dotLottie,t,{inlineAssets:!0});return n&&this._animationsMap.set(t,n),n}async getTheme(t){if(this._themeMap.get(t))return this._themeMap.get(t);if(!this._dotLottie)return;let n=await nw(this._dotLottie,t);return n&&this._themeMap.set(t,n),n}async getStateMachines(){if(!this._dotLottie)return;let t=await rw(this._dotLottie);for(let n in t)if(n){let r=t[n];if(r){let i=JSON.parse(r);if(i){let o=i.descriptor.id;this._stateMachinesMap.get(o)||this._stateMachinesMap.set(o,i)}}}return Array.from(this._stateMachinesMap.values())}async getStateMachine(t){if(this._stateMachinesMap.get(t))return this._stateMachinesMap.get(t);if(!this._dotLottie)return;let n=await iw(this._dotLottie,t);return n&&this._stateMachinesMap.set(n.descriptor.id,n),n}};async function sw(e,t){let[{DotLottieStateMachineManager:n}]=await Promise.all([Yn(()=>import("./dotlottie-state-machine-manager-2E7RUGJG-DQuqkRdY.js"),[])]);if(!e.length)throw de("No state machines available inside this .lottie!");return new n(e,t)}function Hl(){throw new Error("Cycle detected")}function iu(){if(li>1)li--;else{for(var e,t=!1;qi!==void 0;){var n=qi;for(qi=void 0,js++;n!==void 0;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&ef(n))try{n.c()}catch(i){t||(e=i,t=!0)}n=r}}if(js=0,li--,t)throw e}}var He=void 0,qi=void 0,li=0,js=0,Cl=0;function qh(e){if(He!==void 0){var t=e.n;if(t===void 0||t.t!==He)return t={i:0,S:e,p:He.s,n:void 0,t:He,e:void 0,x:void 0,r:t},He.s!==void 0&&(He.s.n=t),He.s=t,e.n=t,32&He.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=He.s,t.n=void 0,He.s.n=t,He.s=t),t}}function Bt(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}Bt.prototype.h=function(){return!0};Bt.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};Bt.prototype.U=function(e){if(this.t!==void 0){var t=e.e,n=e.x;t!==void 0&&(t.x=n,e.e=void 0),n!==void 0&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}};Bt.prototype.subscribe=function(e){var t=this;return Cw(function(){var n=t.value,r=32&this.f;this.f&=-33;try{e(n)}finally{this.f|=r}})};Bt.prototype.valueOf=function(){return this.value};Bt.prototype.toString=function(){return this.value+""};Bt.prototype.toJSON=function(){return this.value};Bt.prototype.peek=function(){return this.v};Object.defineProperty(Bt.prototype,"value",{get:function(){var e=qh(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(He instanceof Fr&&function(){throw new Error("Computed cannot have side-effects")}(),e!==this.v){js>100&&Hl(),this.v=e,this.i++,Cl++,li++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{iu()}}}});function Iw(e){return new Bt(e)}function ef(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function tf(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function nf(e){for(var t=e.s,n=void 0;t!==void 0;){var r=t.p;t.i===-1?(t.S.U(t),r!==void 0&&(r.n=t.n),t.n!==void 0&&(t.n.p=r)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=r}e.s=n}function Fr(e){Bt.call(this,void 0),this.x=e,this.s=void 0,this.g=Cl-1,this.f=4}(Fr.prototype=new Bt).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Cl))return!0;if(this.g=Cl,this.f|=1,this.i>0&&!ef(this))return this.f&=-2,!0;var e=He;try{tf(this),He=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return He=e,nf(this),this.f&=-2,!0};Fr.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Bt.prototype.S.call(this,e)};Fr.prototype.U=function(e){if(this.t!==void 0&&(Bt.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};Fr.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Fr.prototype.peek=function(){if(this.h()||Hl(),16&this.f)throw this.v;return this.v};Object.defineProperty(Fr.prototype,"value",{get:function(){1&this.f&&Hl();var e=qh(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function rf(e){var t=e.u;if(e.u=void 0,typeof t=="function"){li++;var n=He;He=void 0;try{t()}catch(r){throw e.f&=-2,e.f|=8,ou(e),r}finally{He=n,iu()}}}function ou(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,rf(e)}function uw(e){if(He!==this)throw new Error("Out-of-order effect");nf(this),He=e,this.f&=-2,8&this.f&&ou(this),iu()}function Xo(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}Xo.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};Xo.prototype.S=function(){1&this.f&&Hl(),this.f|=1,this.f&=-9,rf(this),tf(this),li++;var e=He;return He=this,uw.bind(this,e)};Xo.prototype.N=function(){2&this.f||(this.f|=2,this.o=qi,qi=this)};Xo.prototype.d=function(){this.f|=8,1&this.f||ou(this)};function Cw(e){var t=new Xo(e);try{t.c()}catch(n){throw t.d(),n}return t.d.bind(t)}var cw=class{constructor(e){oe(this,"_state");oe(this,"_prevState");this._prevState=e,this._state=Iw(e)}setState(e){this._prevState=this._state.value,this._state.value=e}subscribe(e){return this._state.subscribe(t=>e(t,this._prevState))}},Aw={name:"@dotlottie/common",version:"0.7.11",type:"module",description:"",author:"Afsal <afsal@lottiefiles.com>, Sam Osborne <sam@lottiefiles.com>",license:"MIT",engines:{node:">18.0.0"},module:"dist/index.js",main:"dist/index.js",types:"dist/index.d.ts",files:["dist"],keywords:[],scripts:{build:"tsup",dev:"tsup --watch",lint:"eslint .","type-check":"tsc --noEmit"},dependencies:{"@dotlottie/dotlottie-js":"^0.7.0","@preact/signals-core":"^1.2.3",howler:"^2.2.3","lottie-web":"^5.12.2",xstate:"^4.38.1"},devDependencies:{"@lottiefiles/lottie-types":"^1.2.0","@types/howler":"^2.2.8",tsup:"^7.2.0",typescript:"^4.7.4"},publishConfig:{access:"public"}},Mt=(e=>(e.Complete="complete",e.DataFail="data_fail",e.DataReady="data_ready",e.Error="error",e.Frame="frame",e.Freeze="freeze",e.LoopComplete="loopComplete",e.Pause="pause",e.Play="play",e.Ready="ready",e.Stop="stop",e.VisibilityChange="visibilityChange",e))(Mt||{}),pn=(e=>(e.Completed="completed",e.Error="error",e.Fetching="fetching",e.Frozen="frozen",e.Initial="initial",e.Loading="loading",e.Paused="paused",e.Playing="playing",e.Ready="ready",e.Stopped="stopped",e))(pn||{}),dw=(e=>(e.Bounce="bounce",e.Normal="normal",e))(dw||{}),Tt={autoplay:!1,direction:1,hover:!1,intermission:0,loop:!1,playMode:"normal",speed:1,defaultTheme:""},of={activeStateId:"",autoplay:!1,currentState:"initial",frame:0,seeker:0,direction:1,hover:!1,loop:!1,playMode:"normal",speed:1,background:"transparent",intermission:0,currentAnimationId:void 0,visibilityPercentage:0},hw=class{constructor(e,t,n){oe(this,"_lottie");oe(this,"_src");oe(this,"_animationConfig");oe(this,"_prevUserPlaybackOptions",{});oe(this,"_userPlaybackOptions");oe(this,"_hover",!1);oe(this,"_loop",!1);oe(this,"_counter",0);oe(this,"_intermission",0);oe(this,"_counterInterval",null);oe(this,"_container",null);oe(this,"_name");oe(this,"_mode","normal");oe(this,"_background","transparent");oe(this,"_animation");oe(this,"_defaultTheme");oe(this,"_activeAnimationId");oe(this,"_currentAnimationId");oe(this,"_testId");oe(this,"_listeners",new Map);oe(this,"_currentState","initial");oe(this,"_stateBeforeFreeze","initial");oe(this,"state",new cw(of));oe(this,"_light",!1);oe(this,"_worker",!1);oe(this,"_dotLottieLoader",new aw);oe(this,"_activeStateId");oe(this,"_inInteractiveMode",!1);oe(this,"_scrollTicking",!1);oe(this,"_scrollCallback");oe(this,"_onShowIntersectionObserver");oe(this,"_visibilityPercentage",0);oe(this,"_audios",[]);oe(this,"_stateMachineManager");typeof e=="string"?this._src=e:this._src=Xa(e),n!=null&&n.testId&&(this._testId=n.testId),this._defaultTheme=(n==null?void 0:n.defaultTheme)||"",this._userPlaybackOptions=this._validatePlaybackOptions(n||{}),typeof(n==null?void 0:n.activeAnimationId)=="string"&&(this._activeAnimationId=n.activeAnimationId),this._container=t||null,typeof(n==null?void 0:n.background)=="string"&&this.setBackground(n.background),typeof(n==null?void 0:n.activeStateId)<"u"&&(this._activeStateId=n.activeStateId);let{rendererSettings:r,...i}=n||{};this._animationConfig={loop:!1,autoplay:!1,renderer:"svg",rendererSettings:{clearCanvas:!0,progressiveLoad:!0,hideOnTransparent:!0,filterSize:{width:"200%",height:"200%",x:"-50%",y:"-50%"},...r},...i},n!=null&&n.light&&(this._light=n.light),n!=null&&n.worker&&(this._worker=n.worker),this._listenToHover(),this._listenToVisibilityChange()}_listenToHover(){var e,t,n,r;let i=()=>{this._hover&&this.currentState!=="playing"&&this.play()},o=()=>{this._hover&&this.currentState==="playing"&&this.stop()};(e=this._container)==null||e.removeEventListener("mouseenter",i),(t=this._container)==null||t.removeEventListener("mouseleave",o),(n=this._container)==null||n.addEventListener("mouseleave",o),(r=this._container)==null||r.addEventListener("mouseenter",i)}_onVisibilityChange(){!this._lottie||typeof document>"u"||(document.hidden&&this.currentState==="playing"?this.freeze():this.currentState==="frozen"&&this.unfreeze())}_listenToVisibilityChange(){typeof document<"u"&&typeof document.hidden<"u"&&document.addEventListener("visibilitychange",()=>this._onVisibilityChange())}_getOption(e){var t;if(typeof this._userPlaybackOptions[e]<"u")return this._userPlaybackOptions[e];let n=(t=this._dotLottieLoader.manifest)==null?void 0:t.animations.find(r=>r.id===this._currentAnimationId);return n&&typeof n[e]<"u"?n[e]:Tt[e]}_getPlaybackOptions(){let e={};for(let t in Tt)typeof Tt[t]<"u"&&(e[t]=this._getOption(t));return e}_setPlayerState(e){var t,n,r;let i=e(this._getPlaybackOptions());try{Qh._parse(i)}catch{Le(`Invalid PlaybackOptions, ${JSON.stringify(i,null,2)}`);return}typeof i.defaultTheme<"u"&&(this._defaultTheme=i.defaultTheme),typeof i.playMode<"u"&&(this._mode=i.playMode),typeof i.intermission<"u"&&(this._intermission=i.intermission),typeof i.hover<"u"&&(this._hover=i.hover),typeof i.loop<"u"&&(this.clearCountTimer(),this._loop=i.loop,this._counter=0,(t=this._lottie)==null||t.setLoop(typeof i.loop=="number"?!0:i.loop)),typeof i.speed<"u"&&((n=this._lottie)==null||n.setSpeed(i.speed)),typeof i.autoplay<"u"&&this._lottie&&(this._lottie.autoplay=i.autoplay),typeof i.direction<"u"&&((r=this._lottie)==null||r.setDirection(i.direction))}_getOptionsFromAnimation(e){let{id:t,...n}=e;return{...Tt,...n}}_updateTestData(){!this._testId||!this._lottie||(window.dotLottiePlayer||(window.dotLottiePlayer={[this._testId]:{}}),window.dotLottiePlayer[this._testId]={direction:this._lottie.playDirection,currentState:this._currentState,loop:this.loop,mode:this._mode,speed:this._lottie.playSpeed})}setContainer(e){e!==this._container&&(this._container=e,this.setBackground(this._background),this._listenToHover())}get currentState(){return this._currentState}clearCountTimer(){this._counterInterval&&clearInterval(this._counterInterval)}setCurrentState(e){this._currentState=e,this._notify(),this._updateTestData()}static isPathJSON(e){var t;return((t=e.split(".").pop())==null?void 0:t.toLowerCase())==="json"}get src(){return this._src}updateSrc(e){this._src!==e&&(typeof e=="string"?this._src=e:this._src=Xa(e),this._activeAnimationId=void 0,this._currentAnimationId=void 0,this.load())}get intermission(){return this._intermission}get hover(){return this._hover}setHover(e){typeof e=="boolean"&&(this._hover=e,this._userPlaybackOptions.hover=e,this._notify())}setIntermission(e){this._intermission=e,this._userPlaybackOptions.intermission=e,this._notify()}get mode(){return this._mode}get animations(){return this._dotLottieLoader.animationsMap}get themes(){return this._dotLottieLoader.themeMap}setMode(e){typeof e=="string"&&(this._mode=e,this._userPlaybackOptions.playMode=e,this._setPlayerState(()=>({playMode:e})),this._notify(),this._updateTestData())}get container(){if(this._container)return this._container}goToAndPlay(e,t,n){if(!this._lottie||["loading"].includes(this._currentState)){Le("goToAndPlay() Can't use whilst loading.");return}this._lottie.goToAndPlay(e,t,n),this.setCurrentState("playing")}goToAndStop(e,t,n){if(!this._lottie||["loading"].includes(this._currentState)){Le("goToAndStop() Can't use whilst loading.");return}this._lottie.goToAndStop(e,t,n),this.setCurrentState("stopped")}seek(e){if(!this._lottie||["loading"].includes(this._currentState)){Le("seek() Can't use whilst loading.");return}let t=e;typeof t=="number"&&(t=Math.round(t));let n=/^(\d+)(%?)$/u.exec(t.toString());if(!n)return;let r=n[2]==="%"?this.totalFrames*Number(n[1])/100:n[1];r!==void 0&&(this._lottie.goToAndPlay(r,!0),this.currentState==="playing"?this.play():this.currentState==="frozen"?this.freeze():this.pause())}_areNumbersInRange(e,t){return e>=0&&e<=1&&t>=0&&t<=1}_updatePosition(e,t,n){let[r,i]=e??[0,this.totalFrames-1],[o,g]=t??[0,1];if(!this._areNumbersInRange(o,g)){Tr("threshold values must be between 0 and 1");return}if(this.container){let{height:l,top:a}=this.container.getBoundingClientRect(),s=window.innerHeight-a,C=window.innerHeight+l,c=s/C,A=r+Math.round((c-o)/(g-o)*(i-r));n&&n(c),this.goToAndStop(A,!0),(A>=i||c>=g)&&this._handleAnimationComplete()}this._scrollTicking=!1}_requestTick(e,t,n){this._scrollTicking||(requestAnimationFrame(()=>this._updatePosition(e,t,n)),this._scrollTicking=!0)}playOnScroll(e){this.stop(),this._scrollCallback&&this.stopPlayOnScroll(),this._scrollCallback=()=>this._requestTick(e==null?void 0:e.segments,e==null?void 0:e.threshold,e==null?void 0:e.positionCallback),window.addEventListener("scroll",this._scrollCallback)}stopPlayOnScroll(){this._scrollCallback&&(window.removeEventListener("scroll",this._scrollCallback),this._scrollCallback=void 0)}stopPlayOnShow(){this._onShowIntersectionObserver&&(this._onShowIntersectionObserver.disconnect(),this._onShowIntersectionObserver=void 0)}addIntersectionObserver(e){if(!this.container)throw de("Can't play on show, player container element not available.");let t={root:null,rootMargin:"0px",threshold:e!=null&&e.threshold?e.threshold:[0,1]},n=r=>{r.forEach(i=>{var o,g;this._visibilityPercentage=i.intersectionRatio*100,i.isIntersecting?(e!=null&&e.callbackOnIntersect&&e.callbackOnIntersect(this._visibilityPercentage),(o=this._container)==null||o.dispatchEvent(new Event("visibilityChange"))):e!=null&&e.callbackOnIntersect&&(e.callbackOnIntersect(0),(g=this._container)==null||g.dispatchEvent(new Event("visibilityChange")))})};this._onShowIntersectionObserver=new IntersectionObserver(n,t),this._onShowIntersectionObserver.observe(this.container)}playOnShow(e){var t;if(this.stop(),!this.container)throw de("Can't play on show, player container element not available.");this._onShowIntersectionObserver&&this.stopPlayOnShow(),this.addIntersectionObserver({threshold:(t=e==null?void 0:e.threshold)!=null?t:[],callbackOnIntersect:n=>{n===0?this.pause():this.play()}})}_validatePlaybackOptions(e){if(!e)return{};let t={};for(let[n,r]of Object.entries(e))switch(n){case"autoplay":typeof r=="boolean"&&(t.autoplay=r);break;case"direction":typeof r=="number"&&[1,-1].includes(r)&&(t.direction=r);break;case"loop":(typeof r=="boolean"||typeof r=="number")&&(t.loop=r);break;case"playMode":typeof r=="string"&&["normal","bounce"].includes(r)&&(t.playMode=r);break;case"speed":typeof r=="number"&&(t.speed=r);break;case"themeColor":typeof r=="string"&&(t.themeColor=r);break;case"hover":typeof r=="boolean"&&(t.hover=r);break;case"intermission":typeof r=="number"&&(t.intermission=r);break;case"defaultTheme":typeof r=="string"&&(t.defaultTheme=r);break}return this._requireValidPlaybackOptions(t),t}_requireAnimationsInTheManifest(){var e;if(!((e=this._dotLottieLoader.manifest)!=null&&e.animations.length))throw de("No animations found in manifest.")}_requireAnimationsToBeLoaded(){if(this._dotLottieLoader.animationsMap.size===0)throw de("No animations have been loaded.")}async play(e,t){var n,r;if(["initial","loading"].includes(this._currentState)){Le("Player unable to play whilst loading.");return}if(this._requireAnimationsInTheManifest(),this._requireAnimationsToBeLoaded(),this._lottie&&!e){this._lottie.playDirection===-1&&this._lottie.currentFrame===0?this._lottie.goToAndPlay(this._lottie.totalFrames,!0):this._lottie.play(),this.setCurrentState("playing");return}if(typeof e=="number"){let i=(n=this._dotLottieLoader.manifest)==null?void 0:n.animations[e];if(!i)throw de("animation not found.");typeof t=="function"?await this.render({id:i.id,...t(this._getPlaybackOptions(),this._getOptionsFromAnimation(i))}):await this.render({id:i.id})}if(typeof e=="string"){let i=(r=this._dotLottieLoader.manifest)==null?void 0:r.animations.find(o=>o.id===e);if(!i)throw de("animation not found.");typeof t=="function"?await this.render({id:i.id,...t(this._getPlaybackOptions(),this._getOptionsFromAnimation(i))}):await this.render({id:i.id})}}playSegments(e,t){if(!this._lottie||["loading"].includes(this._currentState)){Le("playSegments() Can't use whilst loading.");return}this._lottie.playSegments(e,t),this.setCurrentState("playing")}resetSegments(e){if(!this._lottie||["loading"].includes(this._currentState)){Le("resetSegments() Can't use whilst loading.");return}this._lottie.resetSegments(e)}togglePlay(){this.currentState==="playing"?this.pause():this.play()}_getAnimationByIdOrIndex(e){var t,n;if(this._requireAnimationsInTheManifest(),this._requireAnimationsToBeLoaded(),typeof e=="number"){let r=(t=this._dotLottieLoader.manifest)==null?void 0:t.animations[e];if(!r)throw de("animation not found.");return r}if(typeof e=="string"){let r=(n=this._dotLottieLoader.manifest)==null?void 0:n.animations.find(i=>i.id===e);if(!r)throw de("animation not found.");return r}throw de("first param must be a number or string")}get activeAnimationId(){return this._getActiveAnimationId()}get currentAnimationId(){return this._currentAnimationId}get activeStateId(){return this._activeStateId}async _startInteractivity(e){if(!this._inInteractiveMode){Tr("Can't start interactivity. Not in interactive mode. Call enterInteractiveMode(stateId: string) to start.");return}if(this._dotLottieLoader.stateMachinesMap.size===0&&await this._dotLottieLoader.getStateMachines(),this._dotLottieLoader.stateMachinesMap.size===0)throw de("No interactivity states are available.");if(e==="undefined")throw de("stateId is not specified.");this._stateMachineManager||(this._stateMachineManager=await sw(Array.from(this._dotLottieLoader.stateMachinesMap.values()),this)),this._stateMachineManager.start(e)}enterInteractiveMode(e){var t;if(e)this._inInteractiveMode||(this._prevUserPlaybackOptions={...this._userPlaybackOptions}),this._inInteractiveMode&&((t=this._stateMachineManager)==null||t.stop()),this._activeStateId=e,this._inInteractiveMode=!0,this._startInteractivity(e);else throw de("stateId must be a non-empty string.")}exitInteractiveMode(){var e;this._inInteractiveMode&&(this._inInteractiveMode=!1,this._activeStateId="",(e=this._stateMachineManager)==null||e.stop(),this._userPlaybackOptions={},this._userPlaybackOptions={...this._prevUserPlaybackOptions},this._prevUserPlaybackOptions={},this.reset())}reset(){var e;let t=this._getActiveAnimationId(),n=(e=this._dotLottieLoader.manifest)==null?void 0:e.animations.find(r=>r.id===t);if(this._inInteractiveMode&&this.exitInteractiveMode(),!n)throw de("animation not found.");this.play(t)}previous(e){if(!this._dotLottieLoader.manifest||!this._dotLottieLoader.manifest.animations.length)throw de("manifest not found.");if(this._inInteractiveMode){Le("previous() is not supported in interactive mode.");return}let t=this._dotLottieLoader.manifest.animations.findIndex(r=>r.id===this._currentAnimationId);if(t===-1)throw de("animation not found.");let n=this._dotLottieLoader.manifest.animations[(t-1+this._dotLottieLoader.manifest.animations.length)%this._dotLottieLoader.manifest.animations.length];if(!n||!n.id)throw de("animation not found.");typeof e=="function"?this.render({id:n.id,...e(this._getPlaybackOptions(),this._getOptionsFromAnimation(n))}):this.render({id:n.id})}next(e){if(!this._dotLottieLoader.manifest||!this._dotLottieLoader.manifest.animations.length)throw de("manifest not found.");if(this._inInteractiveMode){Le("next() is not supported in interactive mode.");return}let t=this._dotLottieLoader.manifest.animations.findIndex(r=>r.id===this._currentAnimationId);if(t===-1)throw de("animation not found.");let n=this._dotLottieLoader.manifest.animations[(t+1)%this._dotLottieLoader.manifest.animations.length];if(!n||!n.id)throw de("animation not found.");typeof e=="function"?this.render({id:n.id,...e(this._getPlaybackOptions(),this._getOptionsFromAnimation(n))}):this.render({id:n.id})}getManifest(){return this._dotLottieLoader.manifest}resize(){if(!this._lottie||["loading"].includes(this._currentState)){Le("resize() Can't use whilst loading.");return}this._lottie.resize()}stop(){if(!this._lottie||["loading"].includes(this._currentState)){Le("stop() Can't use whilst loading.");return}this.clearCountTimer(),this._counter=0,this._setPlayerState(()=>({direction:this._getOption("direction")})),this._lottie.stop(),this.setCurrentState("stopped")}pause(){if(!this._lottie||["loading"].includes(this._currentState)){Le("pause() Can't use whilst loading.");return}this.clearCountTimer(),this._lottie.pause(),this.setCurrentState("paused")}freeze(){if(!this._lottie||["loading"].includes(this._currentState)){Le("freeze() Can't use whilst loading.");return}this.currentState!=="frozen"&&(this._stateBeforeFreeze=this.currentState),this._lottie.pause(),this.setCurrentState("frozen")}unfreeze(){if(!this._lottie||["loading"].includes(this._currentState)){Le("unfreeze() Can't use whilst loading.");return}this._stateBeforeFreeze==="playing"?this.play():this.pause()}destroy(){var e,t;(e=this._container)!=null&&e.__lottie&&(this._container.__lottie.destroy(),this._container.__lottie=null),this._audios.length&&(this._audios.forEach(n=>{n.unload()}),this._audios=[]),this.clearCountTimer(),typeof document<"u"&&document.removeEventListener("visibilitychange",()=>this._onVisibilityChange()),this._counter=0,(t=this._lottie)==null||t.destroy(),this._lottie=void 0}getAnimationInstance(){return this._lottie}static getLottieWebVersion(){return`${Aw.dependencies["lottie-web"]}`}addEventListener(e,t){var n,r,i;this._listeners.has(e)||this._listeners.set(e,new Set),(n=this._listeners.get(e))==null||n.add(t);try{e==="complete"?(r=this._container)==null||r.addEventListener(e,t):(i=this._lottie)==null||i.addEventListener(e,t)}catch(o){Tr(`addEventListener ${o}`)}}getState(){var e,t,n,r,i,o,g;return{autoplay:(t=(e=this._lottie)==null?void 0:e.autoplay)!=null?t:!1,currentState:this._currentState,frame:this._frame,visibilityPercentage:this._visibilityPercentage,seeker:this._seeker,direction:(r=(n=this._lottie)==null?void 0:n.playDirection)!=null?r:1,hover:this._hover,loop:this._loop||!1,playMode:this._mode,speed:(o=(i=this._lottie)==null?void 0:i.playSpeed)!=null?o:1,background:this._background,intermission:this._intermission,defaultTheme:this._defaultTheme,currentAnimationId:this._currentAnimationId,activeStateId:(g=this._activeStateId)!=null?g:""}}_notify(){this.state.setState(this.getState())}get totalFrames(){var e;return((e=this._lottie)==null?void 0:e.totalFrames)||0}get direction(){return this._lottie?this._lottie.playDirection:1}setDirection(e){this._requireValidDirection(e),this._setPlayerState(()=>({direction:e})),this._userPlaybackOptions.direction=e}get speed(){var e;return((e=this._lottie)==null?void 0:e.playSpeed)||1}setSpeed(e){this._requireValidSpeed(e),this._setPlayerState(()=>({speed:e})),this._userPlaybackOptions.speed=e}get autoplay(){var e,t;return(t=(e=this._lottie)==null?void 0:e.autoplay)!=null?t:!1}setAutoplay(e){if(this._requireValidAutoplay(e),!this._lottie||["loading"].includes(this._currentState)){Le("setAutoplay() Can't use whilst loading.");return}this._setPlayerState(()=>({autoplay:e})),this._userPlaybackOptions.autoplay=e}toggleAutoplay(){if(!this._lottie||["loading"].includes(this._currentState)){Le("toggleAutoplay() Can't use whilst loading.");return}this.setAutoplay(!this._lottie.autoplay)}get defaultTheme(){return this._defaultTheme}setDefaultTheme(e){this._setPlayerState(()=>({defaultTheme:e})),this._userPlaybackOptions.defaultTheme=e,this._animation&&this.render()}get loop(){return this._loop}setLoop(e){this._requireValidLoop(e),this._setPlayerState(()=>({loop:e})),this._userPlaybackOptions.loop=e}toggleLoop(){if(!this._lottie||["loading"].includes(this._currentState)){Le("toggleLoop() Can't use whilst loading.");return}this.setLoop(!this._loop)}get background(){return this._background}setBackground(e){this._requireValidBackground(e),this._background=e,this._container&&(this._container.style.backgroundColor=e)}get _frame(){return this._lottie?this.currentState==="completed"?this.direction===-1?0:this._lottie.totalFrames:this._lottie.currentFrame:0}get _seeker(){return this._lottie?this._frame/this._lottie.totalFrames*100:0}async revertToManifestValues(e){var t;let n;!Array.isArray(e)||e.length===0?n=["autoplay","defaultTheme","direction","hover","intermission","loop","playMode","speed","activeAnimationId"]:n=e;let r=!1;if(n.includes("activeAnimationId")){let i=(t=this._dotLottieLoader.manifest)==null?void 0:t.activeAnimationId,o=this._getAnimationByIdOrIndex(i||0);this._activeAnimationId=i,await this._setCurrentAnimation(o.id),r=!0}n.forEach(i=>{switch(i){case"autoplay":delete this._userPlaybackOptions.autoplay,this.setAutoplay(this._getOption("autoplay"));break;case"defaultTheme":delete this._userPlaybackOptions.defaultTheme,this.setDefaultTheme(this._getOption("defaultTheme"));break;case"direction":delete this._userPlaybackOptions.direction,this.setDirection(this._getOption("direction"));break;case"hover":delete this._userPlaybackOptions.hover,this.setHover(this._getOption("hover"));break;case"intermission":delete this._userPlaybackOptions.intermission,this.setIntermission(this._getOption("intermission"));break;case"loop":delete this._userPlaybackOptions.loop,this.setLoop(this._getOption("loop"));break;case"playMode":delete this._userPlaybackOptions.playMode,this.setMode(this._getOption("playMode")),this.setDirection(this._getOption("direction"));break;case"speed":delete this._userPlaybackOptions.speed,this.setSpeed(this._getOption("speed"));break}}),r&&this.render()}removeEventListener(e,t){var n,r,i;try{e==="complete"?(n=this._container)==null||n.removeEventListener(e,t):(r=this._lottie)==null||r.removeEventListener(e,t),(i=this._listeners.get(e))==null||i.delete(t)}catch(o){Tr("removeEventListener",o)}}_handleAnimationComplete(){var e;typeof this._loop=="number"&&this.stop();let t=this.direction===-1?0:this.totalFrames-1;this.goToAndStop(t,!0),this._counter=0,this.clearCountTimer(),this.setCurrentState("completed"),(e=this._container)==null||e.dispatchEvent(new Event("complete"))}addEventListeners(){var e;if(!this._lottie||["loading"].includes(this._currentState)){Le("addEventListeners() Can't use whilst loading.");return}this._lottie.addEventListener("enterFrame",()=>{var t;if(!this._lottie){Le("enterFrame event : Lottie is undefined.");return}Math.floor(this._lottie.currentFrame)===0&&this.direction===-1&&((t=this._container)==null||t.dispatchEvent(new Event("complete")),this.loop||this.setCurrentState("completed")),this._notify()}),this._lottie.addEventListener("loopComplete",()=>{var t;if(!this._lottie){Le("loopComplete event : Lottie is undefined.");return}(t=this._container)==null||t.dispatchEvent(new Event("loopComplete")),this.intermission>0&&this.pause();let n=this._lottie.playDirection;if(typeof this._loop=="number"&&this._loop>0&&(this._counter+=this._mode==="bounce"?.5:1,this._counter>=this._loop)){this._handleAnimationComplete();return}this._mode==="bounce"&&typeof n=="number"&&(n=Number(n)*-1);let r=n===-1?this._lottie.totalFrames-1:0;this.intermission?(this.goToAndPlay(r,!0),this.pause(),this._counterInterval=window.setTimeout(()=>{this._lottie&&(this._setPlayerState(()=>({direction:n})),this.goToAndPlay(r,!0))},this._intermission)):(this._setPlayerState(()=>({direction:n})),this.goToAndPlay(n===-1?this.totalFrames-1:0,!0))}),this._lottie.addEventListener("complete",()=>{if(this._lottie&&this._loop===!1&&this._mode==="bounce"){if(this._counter+=.5,this._counter>=1){this._handleAnimationComplete();return}this._counterInterval=window.setTimeout(()=>{if(!this._lottie)return;let t=this._lottie.playDirection;this._mode==="bounce"&&typeof t=="number"&&(t=Number(t)*-1);let n=t===-1?this.totalFrames-1:0;this._setPlayerState(()=>({direction:t})),this.goToAndPlay(n,!0)},this._intermission)}else this._handleAnimationComplete()});for(let[t,n]of this._listeners)if(t==="complete")for(let r of n)(e=this._container)==null||e.addEventListener(t,r);else for(let r of n)this._lottie.addEventListener(t,r)}async _setCurrentAnimation(e){this._currentState="loading";let t=await this._dotLottieLoader.getAnimation(e);this._currentAnimationId=e,this._animation=t,this._currentState="ready"}async _getAudioFactory(){if(this._animation&&gw(this._animation)){let{DotLottieAudio:e}=await Yn(()=>import("./dotlottie-audio-efUd5333.js"),__vite__mapDeps([0,1]));return t=>{let n=new e({src:[t]});return this._audios.push(n),n}}return null}async render(e){var t,n,r,i,o,g,l,a,s,C,c,A,y,v,b,B,p,f;if(e!=null&&e.id)await this._setCurrentAnimation(e.id);else if(!this._animation)throw de("no animation selected");let m=(t=Tt.loop)!=null?t:!1,G=(n=Tt.autoplay)!=null?n:!1,V=(r=Tt.playMode)!=null?r:"normal",F=(i=Tt.intermission)!=null?i:0,Y=(o=Tt.hover)!=null?o:!1,R=(g=Tt.direction)!=null?g:1,T=(l=Tt.speed)!=null?l:1,Z=(a=Tt.defaultTheme)!=null?a:"";m=(s=e==null?void 0:e.loop)!=null?s:this._getOption("loop"),G=(C=e==null?void 0:e.autoplay)!=null?C:this._getOption("autoplay"),V=(c=e==null?void 0:e.playMode)!=null?c:this._getOption("playMode"),F=(A=e==null?void 0:e.intermission)!=null?A:this._getOption("intermission"),Y=(y=e==null?void 0:e.hover)!=null?y:this._getOption("hover"),R=(v=e==null?void 0:e.direction)!=null?v:this._getOption("direction"),T=(b=e==null?void 0:e.speed)!=null?b:this._getOption("speed"),Z=(B=e==null?void 0:e.defaultTheme)!=null?B:this._getOption("defaultTheme");let K={...this._animationConfig,autoplay:Y?!1:G,loop:typeof m=="number"?!0:m,renderer:this._worker?"svg":(p=this._animationConfig.renderer)!=null?p:"svg"},[H,N,P]=await Promise.all([this._dotLottieLoader.getTheme(Z),this._getLottiePlayerInstance(),this._getAudioFactory()]);if(H&&this._animation?(this._animation=Xa(this._animation),this._animation.slots=H):this._animation=await this._dotLottieLoader.getAnimation((f=this._currentAnimationId)!=null?f:""),this._activeStateId&&!this._inInteractiveMode){this.enterInteractiveMode(this._activeStateId);return}this.destroy(),this._setPlayerState(()=>({defaultTheme:Z,playMode:V,intermission:F,hover:Y,loop:m})),P?this._lottie=N.loadAnimation({...K,container:this._container,animationData:this._animation,audioFactory:P}):this._lottie=N.loadAnimation({...K,container:this._container,animationData:this._animation}),typeof this._lottie.resetSegments>"u"&&(this._lottie.resetSegments=()=>{var z;(z=this._lottie)==null||z.playSegments([0,this._lottie.totalFrames],!0)}),this.addEventListeners(),this._container&&(this._container.__lottie=this._lottie),this._setPlayerState(()=>({direction:R,speed:T})),G&&!Y&&(m===!1&&R===-1?this.play():this.setCurrentState("playing")),this._updateTestData()}async _getLottiePlayerInstance(){var e;let t=(e=this._animationConfig.renderer)!=null?e:"svg",n;if(this._worker)return t!=="svg"&&Le("Worker is only supported with svg renderer. Change or remove renderer prop to get rid of this warning."),n=await Yn(()=>import("./lottie_worker-Q23FJ6ZR-CZgcfgj7.js"),__vite__mapDeps([2,1])),n.default;switch(t){case"svg":{this._light?n=await Yn(()=>import("./lottie_light-KMJEUZFY-DZNzI0EV.js"),__vite__mapDeps([3,1])):n=await Yn(()=>import("./lottie_svg-MJGYILXD-Be1OGMYj.js"),__vite__mapDeps([4,1]));break}case"canvas":{this._light?n=await Yn(()=>import("./lottie_light_canvas-B5UTTNXA-zkUt6Qm4.js"),__vite__mapDeps([5,1])):n=await Yn(()=>import("./lottie_canvas-CDSUBMCL-jm7H_fxU.js"),__vite__mapDeps([6,1]));break}case"html":{this._light?n=await Yn(()=>import("./lottie_light_html-SLCECTRT-n6mnomVq.js"),__vite__mapDeps([7,1])):n=await Yn(()=>import("./lottie_html-X3TYKVQI-B12kHkKK.js"),__vite__mapDeps([8,1]));break}default:throw new Error(`Invalid renderer: ${t}`)}return n.default}_getActiveAnimationId(){var e,t,n,r;let i=this._dotLottieLoader.manifest;return(r=(n=(e=this._activeAnimationId)!=null?e:i==null?void 0:i.activeAnimationId)!=null?n:(t=i==null?void 0:i.animations[0])==null?void 0:t.id)!=null?r:void 0}async load(e){if(this._currentState==="loading"){Le("Loading in progress..");return}try{if(this.setCurrentState("loading"),typeof this._src=="string")if(lw(this._src)){let n=JSON.parse(this._src);this._dotLottieLoader.loadFromLottieJSON(n)}else{let n=new URL(this._src,window.location.href);await this._dotLottieLoader.loadFromUrl(n.toString())}else if(typeof this._src=="object"&&ul(this._src))this._dotLottieLoader.loadFromLottieJSON(this._src);else throw de("Invalid src provided");if(!this._dotLottieLoader.manifest)throw de("No manifest found");let t=this._getActiveAnimationId();if(!t)throw de("No active animation found");await this._setCurrentAnimation(t),await this.render(e)}catch(t){this.setCurrentState("error"),t instanceof Error&&Tr(`Error loading animation: ${t.message}`)}}setErrorState(e){this.setCurrentState("error"),Tr(e)}_requireValidDirection(e){if(e!==-1&&e!==1)throw de("Direction can only be -1 (backwards) or 1 (forwards)")}_requireValidIntermission(e){if(e<0||!Number.isInteger(e))throw de("intermission must be a positive number")}_requireValidLoop(e){if(typeof e=="number"&&(!Number.isInteger(e)||e<0))throw de("loop must be a positive number or boolean")}_requireValidSpeed(e){if(typeof e!="number")throw de("speed must be a number")}_requireValidBackground(e){if(typeof e!="string")throw de("background must be a string")}_requireValidAutoplay(e){if(typeof e!="boolean")throw de("autoplay must be a boolean")}_requireValidPlaybackOptions(e){e.direction&&this._requireValidDirection(e.direction),e.intermission&&this._requireValidIntermission(e.intermission),e.loop&&this._requireValidLoop(e.loop),e.speed&&this._requireValidSpeed(e.speed)}};function fw(){var e=_.useRef(!0);return e.current?(e.current=!1,!0):e.current}var pw=function(e,t){var n=fw();_.useEffect(function(){if(!n)return e()},t)},Dt=pw,mw=_.createContext(null),yw=mw.Provider,vw=(e,t,n)=>{let[r,i]=_.useState(()=>n());return _.useEffect(()=>{let o=e(()=>{let g=t();i(g)});return()=>{o()}},[e]),r},bw=typeof window>"u"?_.useEffect:_.useLayoutEffect,Gw=(e,t,n)=>{let[r]=_.useState(()=>new hw(e,t.current,n)),i=_.useRef(!1);return bw(()=>{async function o(){!i.current&&t.current&&(i.current=!0,r.setContainer(t.current),await r.load())}return o(),()=>{i.current&&r.destroy()}},[r]),r};function Ig(e,t){let n=_.useCallback(()=>t(e.getState()),[t,e]),r=_.useCallback(i=>e.state.subscribe(i),[e]);return vw(r,n,()=>t(of))}var Gc={animation:{position:"relative",width:"100%",height:"100%"},animationWithControls:{position:"relative"}},gf=Re.forwardRef(({onEvent:e,activeAnimationId:t,autoplay:n,background:r="transparent",direction:i,intermission:o,loop:g,playMode:l,hover:a,speed:s,renderer:C="svg",rendererSettings:c={},src:A,className:y="",testId:v,children:b,defaultTheme:B,light:p=!1,worker:f=!1,activeStateId:m,lottieRef:G,...V},F)=>{let Y=_.useRef(null),R=Gw(A,Y,{renderer:C,activeAnimationId:t,rendererSettings:{clearCanvas:!0,progressiveLoad:!1,hideOnTransparent:!0,...c},hover:a,loop:g,direction:i,speed:s,intermission:o,background:r,playMode:l,autoplay:a?!1:n,testId:v,defaultTheme:B,light:p,worker:f,activeStateId:m}),T=_.useRef(R);T.current=R,Re.useImperativeHandle(F,()=>R,[R]),Re.useImperativeHandle(G,()=>R,[R]);let Z=Ig(R,P=>P.currentState),K=Ig(R,P=>P.frame),H=Ig(R,P=>P.seeker),N=Ig(R,P=>P.currentAnimationId);return Dt(()=>{typeof g>"u"?T.current.revertToManifestValues(["loop"]):T.current.setLoop(g)},[g]),Dt(()=>{[pn.Initial,pn.Loading].includes(Z)||(typeof n>"u"?T.current.revertToManifestValues(["autoplay"]):T.current.setAutoplay(n))},[n]),Dt(()=>{typeof i>"u"?T.current.revertToManifestValues(["direction"]):T.current.setDirection(i)},[i]),Dt(()=>{typeof s>"u"?T.current.revertToManifestValues(["speed"]):T.current.setSpeed(s)},[s]),Dt(()=>{typeof l>"u"?T.current.revertToManifestValues(["playMode"]):T.current.setMode(l)},[l]),Dt(()=>{typeof a>"u"?T.current.revertToManifestValues(["hover"]):T.current.setHover(a)},[a]),Dt(()=>{typeof r>"u"?T.current.setBackground("transparent"):T.current.setBackground(r)},[r]),Dt(()=>{typeof o>"u"?T.current.revertToManifestValues(["intermission"]):T.current.setIntermission(o)},[o]),Dt(()=>{typeof B>"u"||!B?T.current.revertToManifestValues(["defaultTheme"]):T.current.setDefaultTheme(B)},[B]),Dt(()=>{t&&T.current.play(t)},[t]),Dt(()=>(typeof m<"u"&&T.current.enterInteractiveMode(m),()=>{T.current.exitInteractiveMode()}),[m]),Dt(()=>{typeof A<"u"&&T.current.updateSrc(A)},[A]),_.useEffect(()=>{let P=()=>{e==null||e(Mt.Ready)},z=()=>{e==null||e(Mt.DataReady)},Q=()=>{e==null||e(Mt.DataFail)},q=()=>{T.current.currentState!==pn.Playing&&(e==null||e(Mt.Complete))},X=()=>{e==null||e(Mt.LoopComplete)};return T.current.addEventListener("DOMLoaded",P),T.current.addEventListener("data_ready",z),T.current.addEventListener("data_failed",Q),T.current.addEventListener("complete",q),T.current.addEventListener("loopComplete",X),()=>{T.current.removeEventListener("DOMLoaded",P),T.current.removeEventListener("data_ready",z),T.current.removeEventListener("data_failed",Q),T.current.removeEventListener("complete",q),T.current.removeEventListener("loopComplete",X)}},[]),_.useEffect(()=>{switch(Z){case pn.Stopped:e==null||e(Mt.Stop);break;case pn.Paused:e==null||e(Mt.Pause);break;case pn.Playing:e==null||e(Mt.Play);break;case pn.Frozen:e==null||e(Mt.Freeze);break;case pn.Error:e==null||e(Mt.Error);break}},[Z]),_.useEffect(()=>{e==null||e(Mt.Frame,{frame:K,seeker:H})},[K]),Re.createElement(yw,{value:R},Re.createElement("div",{className:`dotlottie-container main ${b?"controls":""} ${y}`,lang:"en",...v&&{"data-testid":v},...V},Re.createElement("div",{ref:Y,"data-name":`${N}`,role:"figure",className:`animation ${b?"controls":""}`,style:b?Gc.animationWithControls:Gc.animation,...v&&{"data-testid":"animation"}},Z===pn.Error&&Re.createElement("div",{...v&&{"data-testid":"error"},className:"error"},"")),b))});const ww="@lottiefiles/dotlottie-web",Bw="0.29.2",Zw="module",Sw="Lottie and DotLottie player for the web",Ww={type:"git",url:"git+https://github.com/LottieFiles/dotlottie-web.git",directory:"packages/web"},kw="https://github.com/LottieFiles/dotlottie-web#readme",Kw="https://github.com/LottieFiles/dotlottie-web/issues",Yw="LottieFiles",Rw=["Abdelrahman Ashraf <a.theashraf@gmail.com>"],Vw="MIT",Xw="dist/index.cjs",Lw="dist/index.js",Hw="dist/index.d.ts",Fw=["dist"],_w=["dotlottie","lottie","player","animation","web","canvas","javascript","thorvg"],Nw={build:"tsup",dev:"tsup --watch",lint:"eslint --fix .","stats:eslint":"cross-env TIMING=1 eslint .","stats:ts":"tsc -p tsconfig.build.json --extendedDiagnostics",test:"vitest run --browser.headless","test:coverage":"vitest run --browser.headless --coverage","test:watch":"vitest","type-check":"tsc --noEmit"},Ew={"@types/node":"^20.14.11","@vitest/browser":"^2.0.3","@vitest/coverage-istanbul":"^2.0.3","cross-env":"7.0.3",esbuild:"^0.23.0","esbuild-plugin-replace":"^1.4.0",playwright:"^1.45.2",tsup:"8.2.0",typescript:"5.0.4",vitest:"^2.0.3"},Tw={access:"public"},Dw={name:ww,version:Bw,type:Zw,description:Sw,repository:Ww,homepage:kw,bugs:Kw,author:Yw,contributors:Rw,license:Vw,main:Xw,module:Lw,types:Hw,files:Fw,keywords:_w,scripts:Nw,devDependencies:Ew,publishConfig:Tw};function Pw(e){return bi({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 5h10v3l4-4-4-4v3h-12v6h2zM14 11h-10v-3l-4 4 4 4v-3h12v-6h-2z"},child:[]}]})(e)}function Mw(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M84.41 106c-15.63.1-27.67 13.8-25.69 29.3 16 124 16 117.4 0 241.4-2.54 19.8 17.33 35 35.79 27.3L361.5 292.9v98.8c0 7.9 8.9 14.2 20 14.3h52c11.1-.1 20-6.4 20-14.3V120.2c-.1-7.8-9-14.1-20-14.2h-52c-11 .1-19.9 6.4-20 14.2v98.9L94.51 108c-3.2-1.3-6.63-2-10.1-2z"},child:[]}]})(e)}function xw(e){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427.6 106c15.6.1 27.7 13.8 25.7 29.3-16 124-16 117.4 0 241.4 2.5 19.8-17.4 35-35.8 27.3l-267-111.1v98.8c0 7.9-8.9 14.2-20 14.3H78.49c-11.1-.1-20-6.4-20-14.3V120.2c.1-7.8 9-14.1 20-14.2h52.01c11 .1 19.9 6.4 20 14.2v98.9l267-111.1c3.2-1.3 6.6-2 10.1-2z"},child:[]}]})(e)}const wc=({className:e="",title:t,version:n,rendererVersion:r,loadTime:i,...o})=>W.jsxs("div",{className:`flex flex-col items-center ${e}`,...o,children:[W.jsxs("div",{className:"flex items-start",children:[W.jsx("h6",{className:"text-xl font-bold mb-0",children:t}),W.jsx("span",{className:"ml-1 text-xs text-secondary bg-strong p-0.5 px-1 rounded-lg",children:n})]}),W.jsxs("span",{className:"p-1 rounded text-xs mb-1 text-secondary",children:[W.jsx("strong",{children:"Renderer: "}),r]}),W.jsxs("p",{className:"text-xs px-2 py-1 bg-strong rounded-full flex justify-center items-center",children:["Load Time: ",i,"ms"]})]});let ug=performance.now();function zw(){const e=_.useRef(null),[t,n]=_.useState(null),r=me(Z=>Z.viewer.src),i=me(Z=>Z.viewer.backgroundColor),o=me(Z=>Z.viewer.speed),g=me(Z=>Z.viewer.autoplay),l=me(Z=>Z.viewer.loop),a=me(Z=>Z.viewer.totalFrames),s=me(Z=>Z.viewer.currentFrame),C=me(Z=>Z.viewer.currentState),c=me(Z=>Z.viewer.mode),A=me(Z=>Z.viewer.activeAnimationId),y=me(Z=>Z.viewer.activeThemeId),v=me(Z=>Z.viewer.isJson),b=me(Z=>Z.viewer.loadTime),B=me(Z=>Z.viewer.animations),p=me(Z=>Z.viewer.segment),f=me(Z=>Z.viewer.useFrameInterpolation),m=me(Z=>Z.viewer.activeMarker),G=Wo(),V=_.useCallback(()=>{var K,H,N,P,z,Q,q;G(xy(t==null?void 0:t.totalFrames));const Z=performance.now();G(Jy(Z-ug)),!r.endsWith(".json")&&!r.startsWith("data:application/json")&&(A||G(wg(((N=(H=(K=t==null?void 0:t.manifest)==null?void 0:K.animations)==null?void 0:H[0])==null?void 0:N.id)||"")),G(xC(((z=(P=t==null?void 0:t.manifest)==null?void 0:P.animations)==null?void 0:z.map(X=>X.id))||[])),G(MC(((Q=t==null?void 0:t.manifest)==null?void 0:Q.themes)||[])),G(ev(((q=t==null?void 0:t.markers())==null?void 0:q.map(X=>X.name))||[])))},[r,t,G,A]),F=_.useCallback(()=>{G(My((t==null?void 0:t.currentFrame)||0))},[G,t]),Y=_.useCallback(()=>{const Z=B.indexOf(A);if(Z===-1)return;const K=(Z+1)%B.length;return B[K]},[B,A]),R=_.useCallback(()=>{const Z=B.indexOf(A);if(Z===-1)return;const K=(Z-1+B.length)%B.length;return B[K]},[B,A]);_.useEffect(()=>{if(t)return t.addEventListener("load",V),t.addEventListener("frame",F),()=>{t.removeEventListener("load",V),t.removeEventListener("frame",F)}},[V,t,F]),_.useEffect(()=>{t&&p[0]&&p[1]&&t.setSegment(p[0],p[1])},[p,t]),_.useEffect(()=>{t==null||t.setMarker(m)},[m]),_.useEffect(()=>{t&&t.setUseFrameInterpolation(f)},[t,f]);const T=_.useCallback(Z=>{Z.addEventListener("complete",()=>{G(og("stopped"))}),Z.addEventListener("stop",()=>{G(og("stopped"))}),Z.addEventListener("play",()=>{G(og("playing"))}),Z.addEventListener("pause",()=>{G(og("paused"))})},[G]);return _.useEffect(()=>{t&&(ug=performance.now(),t==null||t.loadAnimation(A))},[A,t]),_.useEffect(()=>{t&&(t==null||t.loadTheme(y))},[y,t]),_.useEffect(()=>{var Z,K,H;t&&(G(xC(((K=(Z=t==null?void 0:t.manifest)==null?void 0:Z.animations)==null?void 0:K.map(N=>N.id))||[])),G(MC(((H=t==null?void 0:t.manifest)==null?void 0:H.themes)||[])))},[t,G]),_.useEffect(()=>{ug=performance.now()},[r,t]),W.jsx(W.Fragment,{children:W.jsxs("div",{className:"h-full flex-grow flex justify-between items-center flex-col gap-4",children:[W.jsxs("div",{className:"flex justify-center h-full",children:[W.jsxs("div",{className:"flex flex-col dotlottie-player",children:[W.jsx(wc,{version:Dw.version,rendererVersion:"thorvg@0.13.0",className:"mb-4",title:"dotLottie Web",loadTime:parseFloat(b.dotLottie.toFixed(2))}),W.jsx("div",{className:"flex justify-center items-center p-4 flex-grow",children:W.jsx("div",{style:{width:"350px",height:"350px"},children:W.jsx(zb,{backgroundColor:i,width:350,height:350,autoplay:g,useFrameInterpolation:!0,loop:l,mode:c,speed:o,dotLottieRefCallback:Z=>{Z&&(T(Z),n(Z))},src:r})})})]}),v?W.jsxs("div",{className:"flex flex-col lottie-web",children:[W.jsx(wc,{version:"v5.12.2",rendererVersion:"lottie-web@5.12.2",className:"mb-4",title:"Lottie Web",loadTime:parseFloat(b.lottieWeb.toFixed(2))}),W.jsx("div",{className:"flex justify-center items-center p-4 flex-grow",children:W.jsx("div",{style:{width:"350px",height:"350px"},children:W.jsx(gf,{lottieRef:Z=>{e.current=Z},background:i,autoplay:g,loop:l,speed:o,onEvent:Z=>{if(Z==="ready"){const K=performance.now();G(Uy(K-ug))}},src:r})})})]}):null]}),W.jsxs("div",{className:"flex items-center gap-4 w-full max-w-[720px]",children:[B.length>1?W.jsx("button",{onClick:()=>{const Z=R();Z&&G(wg(Z))},children:W.jsx(xw,{})}):null,C!=="playing"?W.jsx("button",{onClick:()=>{var Z;t==null||t.play(),(Z=e.current)==null||Z.play()},children:W.jsx(sb,{})}):W.jsx("button",{onClick:()=>{var Z;t==null||t.pause(),(Z=e.current)==null||Z.pause()},children:W.jsx(ab,{})}),B.length>1?W.jsx("button",{onClick:()=>{const Z=Y();Z&&G(wg(Z))},children:W.jsx(Mw,{})}):null,W.jsx(vo.Range,{min:0,max:a||1,values:[s],onChange:Z=>{var K;t==null||t.setFrame(Z[0]),(K=e.current)==null||K.seek(Z[0])},renderTrack:({props:Z,children:K})=>W.jsx("div",{onMouseDown:H=>{var N;t==null||t.pause(),(N=e.current)==null||N.pause(),Z.onMouseDown(H)},onTouchStart:H=>{var N;t==null||t.pause(),(N=e.current)==null||N.pause(),Z.onTouchStart(H)},className:"flex-grow w-full flex h-[20px]",style:{...Z.style},children:W.jsx("div",{ref:Z.ref,className:"self-center w-full h-[6px] bg-strong rounded-lg",style:{background:vo.getTrackBackground({values:[s],colors:["#80cec8","#ccc"],min:0,max:a})},children:K})}),renderThumb:({props:Z})=>W.jsx("div",{...Z,style:{...Z.style,height:"20px",width:"20px",backgroundColor:"#019D91",borderRadius:"50%"}})}),W.jsxs("span",{className:"p-2 text-center flex items-center justify-center bg-white rounded-lg text-sm",children:[W.jsxs("span",{className:"w-min text-right pr-1 bg-transparent flex relative",children:[W.jsx("span",{className:"invisible",children:a.toFixed(2)}),W.jsx("span",{className:"absolute self-center",children:s.toFixed(2)})]}),W.jsx("span",{className:"text-xs text-secondary",children:"of"}),W.jsx("span",{className:"w-max pl-1 bg-transparent",children:a})]}),W.jsx("button",{className:"cursor-pointer",onClick:()=>G(Dy(!l)),children:W.jsx(Pw,{className:`${l?"":"text-gray-500"}`})})]})]})})}const Ow="/dotlottie-web/assets/brand-logo-B3LfkM1n.svg";function La(e){const t=Wo();return W.jsxs("button",{onClick:()=>{t(nl(e.url))},className:"rounded-lg bg-white border border-transparent hover:border-lottie",children:[W.jsx("div",{children:W.jsx(gf,{style:{height:"120px"},src:e.url,autoplay:!0,loop:!0})}),W.jsx("div",{className:"text-xs py-1 bg-strong rounded-b-lg",children:e.name})]})}const jw=({className:e="",...t})=>W.jsxs("div",{className:`gap-2 flex flex-col ${e}`,...t,children:[W.jsx(La,{name:"multi-animations",url:"https://lottie.host/294b684d-d6b4-4116-ab35-85ef566d4379/VkGHcqcMUI.lottie"}),W.jsx(La,{name:"theming example",url:"/dotlottie-web/theming_example.lottie"}),W.jsx(La,{name:"marker example",url:"https://lottie.host/a04c548c-307f-420b-9ba8-e90a4a2efea4/MT9OsNynSw.lottie"})]});function Jw(){return W.jsxs("section",{className:"p-4 flex flex-col gap-4 h-full",children:[W.jsx("a",{href:"/",children:W.jsx("img",{src:Ow,alt:"logo"})}),W.jsxs("div",{className:"flex flex-col gap-4 flex-grow overflow-auto",children:[W.jsx("h1",{className:"text-primary text-3xl font-bold",children:"Unleash the power of animations using dotLottie"}),W.jsx("p",{className:"text-secondary",children:"Create captivating product experiences with dotLottie animations."}),W.jsx("a",{href:"https://developers.lottiefiles.com/docs/dotlottie-web/dotlottie-web/getting-started/",className:"bg-lottie hover:bg-lottie/90 rounded-lg p-4 text-white font-bold w-fit",children:"Get Started"}),W.jsx(jw,{})]})]})}const Uw=({className:e="",...t})=>{const n=Wo(),r=_.useRef(null),i=me(l=>l.viewer.userSrc);function o(l){const a=l[0],s=new FileReader;s.onload=()=>{const C=s.result;typeof C=="string"&&(n(nl(C)),n(Ls(a.name)))},s.readAsDataURL(a)}function g(l){l.forEach(a=>{const{file:s,errors:C}=a;C.forEach(c=>{switch(c.code){case il.FileTooLarge:alert(`${s.name} is too large, please pick a smaller file`);break;case il.FileInvalidType:alert(`${s.name} is not supported, please pick a supported file`);break}})})}return W.jsx("div",{className:`flex justify-center items-center gap-2 bg-strong px-4 py-2 rounded-lg ${e}`,...t,children:i?W.jsxs(W.Fragment,{children:[W.jsx("span",{className:"",children:i}),W.jsx("button",{className:"p-2 bg-subtle hover:bg-hover rounded-lg font-bold",onClick:()=>{n(jy())},children:"Reset"})]}):W.jsxs(W.Fragment,{children:[W.jsx("span",{className:"font-bold",children:"Try it yourself!"}),W.jsx(Gh,{onDrop:o,onDropRejected:g,children:l=>W.jsxs("button",{className:"p-2 bg-subtle hover:bg-hover rounded-lg font-bold",...l.getRootProps(),children:[W.jsx("input",{...l.getInputProps()}),"Browse file"]})}),W.jsx("span",{children:"or"}),W.jsx("input",{ref:r,className:"p-2 rounded-lg flex-grow",placeholder:"Paste JSON or .lottie URL"}),W.jsx("button",{className:"p-2 bg-subtle hover:bg-hover rounded-lg font-bold",onClick:()=>{r.current&&(n(nl(r.current.value)),n(Ls(r.current.value)))},children:"Load animation"})]})})};function Qw(){const e=me(o=>o.viewer.theme),t=Wo(),n=_.useRef(null);_.useEffect(()=>{var o;e&&((o=n.current)==null||o.loadTheme(e))},[e,n]);function r(o){const g=o[0],l=new FileReader;l.onload=()=>{const a=l.result;typeof a=="string"&&(t(nl(a)),t(Ls(g.name)))},l.readAsDataURL(g)}function i(o){o.forEach(g=>{const{file:l,errors:a}=g;a.forEach(s=>{switch(s.code){case il.FileTooLarge:alert(`${l.name} is too large, please pick a smaller file`);break;case il.FileInvalidType:alert(`${l.name} is not supported, please pick a supported file`);break}})})}return W.jsx(W.Fragment,{children:W.jsx(Gh,{noClick:!0,onDrop:r,onDropRejected:i,children:o=>W.jsxs("div",{className:"flex gap-4 p-4 h-screen",...o.getRootProps(),children:[W.jsx("input",{...o.getInputProps()}),o.isDragActive?W.jsx("div",{className:"fixed inset-0 z-10 bg-black bg-opacity-60 flex justify-center items-center text-white bold",children:W.jsx("div",{children:"Drop it like it's hot!"})}):null,W.jsx("div",{className:"bg-subtle border border-subtle rounded-lg max-w-80",children:W.jsx(Jw,{})}),W.jsxs("div",{className:"flex flex-col gap-4 flex-grow",children:[W.jsx(Uw,{}),W.jsxs("div",{className:"flex-1 flex p-4 gap-4 bg-subtle rounded-lg",children:[W.jsx("div",{className:"flex-1",children:W.jsx(zw,{})}),W.jsx("div",{className:"w-80",children:W.jsx(pb,{})})]})]})]})})})}const $w=yy({reducer:{viewer:nv}});Ha.createRoot(document.getElementById("root")).render(W.jsx(Re.StrictMode,{children:W.jsx(X0,{store:$w,children:W.jsx(Qw,{})})}));export{Tr as a,iB as d,de as o,Tt as u};
