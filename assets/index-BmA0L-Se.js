function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/dotlottie-audio-efUd5333.js","assets/chunk-B7OIQIGJ-CcfrItpa.js","assets/lottie_worker-Q23FJ6ZR-CZgcfgj7.js","assets/lottie_light-KMJEUZFY-DZNzI0EV.js","assets/lottie_svg-MJGYILXD-Be1OGMYj.js","assets/lottie_light_canvas-B5UTTNXA-zkUt6Qm4.js","assets/lottie_canvas-CDSUBMCL-jm7H_fxU.js","assets/lottie_light_html-SLCECTRT-n6mnomVq.js","assets/lottie_html-X3TYKVQI-B12kHkKK.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var Ef=Object.defineProperty;var Tf=(e,t,n)=>t in e?Ef(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var oe=(e,t,n)=>(Tf(e,typeof t!="symbol"?t+"":t,n),n);function Df(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const g of o.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zc={exports:{}},cl={},Sc={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=Symbol.for("react.element"),Pf=Symbol.for("react.portal"),Mf=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),jf=Symbol.for("react.context"),Jf=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),Qf=Symbol.for("react.memo"),$f=Symbol.for("react.lazy"),vu=Symbol.iterator;function qf(e){return e===null||typeof e!="object"?null:(e=vu&&e[vu]||e["@@iterator"],typeof e=="function"?e:null)}var Wc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kc=Object.assign,kc={};function fr(e,t,n){this.props=e,this.context=t,this.refs=kc,this.updater=n||Wc}fr.prototype.isReactComponent={};fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yc(){}Yc.prototype=fr.prototype;function Js(e,t,n){this.props=e,this.context=t,this.refs=kc,this.updater=n||Wc}var Us=Js.prototype=new Yc;Us.constructor=Js;Kc(Us,fr.prototype);Us.isPureReactComponent=!0;var bu=Array.isArray,Rc=Object.prototype.hasOwnProperty,Qs={current:null},Vc={key:!0,ref:!0,__self:!0,__source:!0};function Lc(e,t,n){var i,r={},o=null,g=null;if(t!=null)for(i in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(o=""+t.key),t)Rc.call(t,i)&&!Vc.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var a=Array(l),s=0;s<l;s++)a[s]=arguments[s+2];r.children=a}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:bo,type:e,key:o,ref:g,props:r,_owner:Qs.current}}function ep(e,t){return{$$typeof:bo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $s(e){return typeof e=="object"&&e!==null&&e.$$typeof===bo}function tp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gu=/\/+/g;function Ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tp(""+e.key):t.toString(36)}function Cg(e,t,n,i,r){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(o){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case bo:case Pf:g=!0}}if(g)return g=e,r=r(g),e=i===""?"."+Ql(g,0):i,bu(r)?(n="",e!=null&&(n=e.replace(Gu,"$&/")+"/"),Cg(r,t,n,"",function(s){return s})):r!=null&&($s(r)&&(r=ep(r,n+(!r.key||g&&g.key===r.key?"":(""+r.key).replace(Gu,"$&/")+"/")+e)),t.push(r)),1;if(g=0,i=i===""?".":i+":",bu(e))for(var l=0;l<e.length;l++){o=e[l];var a=i+Ql(o,l);g+=Cg(o,t,n,a,r)}else if(a=qf(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=i+Ql(o,l++),g+=Cg(o,t,n,a,r);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function Eo(e,t,n){if(e==null)return e;var i=[],r=0;return Cg(e,i,"","",function(o){return t.call(n,o,r++)}),i}function np(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},cg={transition:null},ip={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:cg,ReactCurrentOwner:Qs};se.Children={map:Eo,forEach:function(e,t,n){Eo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Eo(e,function(){t++}),t},toArray:function(e){return Eo(e,function(t){return t})||[]},only:function(e){if(!$s(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=fr;se.Fragment=Mf;se.Profiler=Of;se.PureComponent=Js;se.StrictMode=xf;se.Suspense=Uf;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ip;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Kc({},e.props),r=e.key,o=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,g=Qs.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Rc.call(t,a)&&!Vc.hasOwnProperty(a)&&(i[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){l=Array(a);for(var s=0;s<a;s++)l[s]=arguments[s+2];i.children=l}return{$$typeof:bo,type:e.type,key:r,ref:o,props:i,_owner:g}};se.createContext=function(e){return e={$$typeof:jf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zf,_context:e},e.Consumer=e};se.createElement=Lc;se.createFactory=function(e){var t=Lc.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:Jf,render:e}};se.isValidElement=$s;se.lazy=function(e){return{$$typeof:$f,_payload:{_status:-1,_result:e},_init:np}};se.memo=function(e,t){return{$$typeof:Qf,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=cg.transition;cg.transition={};try{e()}finally{cg.transition=t}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(e,t){return At.current.useCallback(e,t)};se.useContext=function(e){return At.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return At.current.useDeferredValue(e)};se.useEffect=function(e,t){return At.current.useEffect(e,t)};se.useId=function(){return At.current.useId()};se.useImperativeHandle=function(e,t,n){return At.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return At.current.useMemo(e,t)};se.useReducer=function(e,t,n){return At.current.useReducer(e,t,n)};se.useRef=function(e){return At.current.useRef(e)};se.useState=function(e){return At.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return At.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return At.current.useTransition()};se.version="18.2.0";Sc.exports=se;var _=Sc.exports;const Re=Bc(_),wu=Df({__proto__:null,default:Re},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=_,op=Symbol.for("react.element"),gp=Symbol.for("react.fragment"),lp=Object.prototype.hasOwnProperty,ap=rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sp={key:!0,ref:!0,__self:!0,__source:!0};function Xc(e,t,n){var i,r={},o=null,g=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(g=t.ref);for(i in t)lp.call(t,i)&&!sp.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:op,type:e,key:o,ref:g,props:r,_owner:ap.current}}cl.Fragment=gp;cl.jsx=Xc;cl.jsxs=Xc;Zc.exports=cl;var W=Zc.exports,Ha={},Hc={exports:{}},Ht={},Fc={exports:{}},_c={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,M){var j=L.length;L.push(M);e:for(;0<j;){var le=j-1>>>1,ne=L[le];if(0<r(ne,M))L[le]=M,L[j]=ne,j=le;else break e}}function n(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var M=L[0],j=L.pop();if(j!==M){L[0]=j;e:for(var le=0,ne=L.length,pe=ne>>>1;le<pe;){var ie=2*(le+1)-1,be=L[ie],Ae=ie+1,De=L[Ae];if(0>r(be,j))Ae<ne&&0>r(De,be)?(L[le]=De,L[Ae]=j,le=Ae):(L[le]=be,L[ie]=j,le=ie);else if(Ae<ne&&0>r(De,j))L[le]=De,L[Ae]=j,le=Ae;else break e}}return M}function r(L,M){var j=L.sortIndex-M.sortIndex;return j!==0?j:L.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var g=Date,l=g.now();e.unstable_now=function(){return g.now()-l}}var a=[],s=[],C=1,c=null,A=3,y=!1,v=!1,b=!1,B=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(L){for(var M=n(s);M!==null;){if(M.callback===null)i(s);else if(M.startTime<=L)i(s),M.sortIndex=M.expirationTime,t(a,M);else break;M=n(s)}}function G(L){if(b=!1,m(L),!v)if(n(a)!==null)v=!0,Q(V);else{var M=n(s);M!==null&&q(G,M.startTime-L)}}function V(L,M){v=!1,b&&(b=!1,p(R),R=-1),y=!0;var j=A;try{for(m(M),c=n(a);c!==null&&(!(c.expirationTime>M)||L&&!k());){var le=c.callback;if(typeof le=="function"){c.callback=null,A=c.priorityLevel;var ne=le(c.expirationTime<=M);M=e.unstable_now(),typeof ne=="function"?c.callback=ne:c===n(a)&&i(a),m(M)}else i(a);c=n(a)}if(c!==null)var pe=!0;else{var ie=n(s);ie!==null&&q(G,ie.startTime-M),pe=!1}return pe}finally{c=null,A=j,y=!1}}var F=!1,Y=null,R=-1,T=5,Z=-1;function k(){return!(e.unstable_now()-Z<T)}function H(){if(Y!==null){var L=e.unstable_now();Z=L;var M=!0;try{M=Y(!0,L)}finally{M?N():(F=!1,Y=null)}}else F=!1}var N;if(typeof f=="function")N=function(){f(H)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,O=P.port2;P.port1.onmessage=H,N=function(){O.postMessage(null)}}else N=function(){B(H,0)};function Q(L){Y=L,F||(F=!0,N())}function q(L,M){R=B(function(){L(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,Q(V))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(L){switch(A){case 1:case 2:case 3:var M=3;break;default:M=A}var j=A;A=M;try{return L()}finally{A=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,M){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var j=A;A=L;try{return M()}finally{A=j}},e.unstable_scheduleCallback=function(L,M,j){var le=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?le+j:le):j=le,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=j+ne,L={id:C++,callback:M,priorityLevel:L,startTime:j,expirationTime:ne,sortIndex:-1},j>le?(L.sortIndex=j,t(s,L),n(a)===null&&L===n(s)&&(b?(p(R),R=-1):b=!0,q(G,j-le))):(L.sortIndex=ne,t(a,L),v||y||(v=!0,Q(V))),L},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(L){var M=A;return function(){var j=A;A=M;try{return L.apply(this,arguments)}finally{A=j}}}})(_c);Fc.exports=_c;var Ip=Fc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nc=_,Vt=Ip;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ec=new Set,eo={};function Li(e,t){ar(e,t),ar(e+"Capture",t)}function ar(e,t){for(eo[e]=t,e=0;e<t.length;e++)Ec.add(t[e])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=Object.prototype.hasOwnProperty,up=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bu={},Zu={};function Cp(e){return Fa.call(Zu,e)?!0:Fa.call(Bu,e)?!1:up.test(e)?Zu[e]=!0:(Bu[e]=!0,!1)}function cp(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ap(e,t,n,i){if(t===null||typeof t>"u"||cp(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dt(e,t,n,i,r,o,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=g}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qs=/[\-:]([a-z])/g;function eI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qs,eI);tt[t]=new dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qs,eI);tt[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qs,eI);tt[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new dt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function tI(e,t,n,i){var r=tt.hasOwnProperty(t)?tt[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ap(t,n,r,i)&&(n=null),i||r===null?Cp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Dn=Nc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,To=Symbol.for("react.element"),Di=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),nI=Symbol.for("react.strict_mode"),_a=Symbol.for("react.profiler"),Tc=Symbol.for("react.provider"),Dc=Symbol.for("react.context"),iI=Symbol.for("react.forward_ref"),Na=Symbol.for("react.suspense"),Ea=Symbol.for("react.suspense_list"),rI=Symbol.for("react.memo"),zn=Symbol.for("react.lazy"),Pc=Symbol.for("react.offscreen"),Su=Symbol.iterator;function kr(e){return e===null||typeof e!="object"?null:(e=Su&&e[Su]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,$l;function _r(e){if($l===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$l=t&&t[1]||""}return`
`+$l+e}var ql=!1;function ea(e,t){if(!e||ql)return"";ql=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var i=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){i=s}e.call(t.prototype)}else{try{throw Error()}catch(s){i=s}e()}}catch(s){if(s&&i&&typeof s.stack=="string"){for(var r=s.stack.split(`
`),o=i.stack.split(`
`),g=r.length-1,l=o.length-1;1<=g&&0<=l&&r[g]!==o[l];)l--;for(;1<=g&&0<=l;g--,l--)if(r[g]!==o[l]){if(g!==1||l!==1)do if(g--,l--,0>l||r[g]!==o[l]){var a=`
`+r[g].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=g&&0<=l);break}}}finally{ql=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_r(e):""}function dp(e){switch(e.tag){case 5:return _r(e.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 2:case 15:return e=ea(e.type,!1),e;case 11:return e=ea(e.type.render,!1),e;case 1:return e=ea(e.type,!0),e;default:return""}}function Ta(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pi:return"Fragment";case Di:return"Portal";case _a:return"Profiler";case nI:return"StrictMode";case Na:return"Suspense";case Ea:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dc:return(e.displayName||"Context")+".Consumer";case Tc:return(e._context.displayName||"Context")+".Provider";case iI:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rI:return t=e.displayName||null,t!==null?t:Ta(e.type)||"Memo";case zn:t=e._payload,e=e._init;try{return Ta(e(t))}catch{}}return null}function hp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ta(t);case 8:return t===nI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function li(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fp(e){var t=Mc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(g){i=""+g,o.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Do(e){e._valueTracker||(e._valueTracker=fp(e))}function xc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Mc(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Sg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Da(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wu(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=li(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Oc(e,t){t=t.checked,t!=null&&tI(e,"checked",t,!1)}function Pa(e,t){Oc(e,t);var n=li(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ma(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ma(e,t.type,li(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ku(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ma(e,t,n){(t!=="number"||Sg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nr=Array.isArray;function er(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+li(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function xa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ku(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(Nr(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:li(n)}}function zc(e,t){var n=li(t.value),i=li(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Yu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Po,Jc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Po=Po||document.createElement("div"),Po.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Po.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function to(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pp=["Webkit","ms","Moz","O"];Object.keys(Pr).forEach(function(e){pp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pr[t]=Pr[e]})});function Uc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Pr.hasOwnProperty(e)&&Pr[e]?(""+t).trim():t+"px"}function Qc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Uc(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var mp=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function za(e,t){if(t){if(mp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function ja(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ja=null;function oI(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,tr=null,nr=null;function Ru(e){if(e=Bo(e)){if(typeof Ua!="function")throw Error(E(280));var t=e.stateNode;t&&(t=pl(t),Ua(e.stateNode,e.type,t))}}function $c(e){tr?nr?nr.push(e):nr=[e]:tr=e}function qc(){if(tr){var e=tr,t=nr;if(nr=tr=null,Ru(e),t)for(e=0;e<t.length;e++)Ru(t[e])}}function eA(e,t){return e(t)}function tA(){}var ta=!1;function nA(e,t,n){if(ta)return e(t,n);ta=!0;try{return eA(e,t,n)}finally{ta=!1,(tr!==null||nr!==null)&&(tA(),qc())}}function no(e,t){var n=e.stateNode;if(n===null)return null;var i=pl(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var Qa=!1;if(Fn)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){Qa=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{Qa=!1}function yp(e,t,n,i,r,o,g,l,a){var s=Array.prototype.slice.call(arguments,3);try{t.apply(n,s)}catch(C){this.onError(C)}}var Mr=!1,Wg=null,Kg=!1,$a=null,vp={onError:function(e){Mr=!0,Wg=e}};function bp(e,t,n,i,r,o,g,l,a){Mr=!1,Wg=null,yp.apply(vp,arguments)}function Gp(e,t,n,i,r,o,g,l,a){if(bp.apply(this,arguments),Mr){if(Mr){var s=Wg;Mr=!1,Wg=null}else throw Error(E(198));Kg||(Kg=!0,$a=s)}}function Xi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function iA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vu(e){if(Xi(e)!==e)throw Error(E(188))}function wp(e){var t=e.alternate;if(!t){if(t=Xi(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Vu(r),e;if(o===i)return Vu(r),t;o=o.sibling}throw Error(E(188))}if(n.return!==i.return)n=r,i=o;else{for(var g=!1,l=r.child;l;){if(l===n){g=!0,n=r,i=o;break}if(l===i){g=!0,i=r,n=o;break}l=l.sibling}if(!g){for(l=o.child;l;){if(l===n){g=!0,n=o,i=r;break}if(l===i){g=!0,i=o,n=r;break}l=l.sibling}if(!g)throw Error(E(189))}}if(n.alternate!==i)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function rA(e){return e=wp(e),e!==null?oA(e):null}function oA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oA(e);if(t!==null)return t;e=e.sibling}return null}var gA=Vt.unstable_scheduleCallback,Lu=Vt.unstable_cancelCallback,Bp=Vt.unstable_shouldYield,Zp=Vt.unstable_requestPaint,Ee=Vt.unstable_now,Sp=Vt.unstable_getCurrentPriorityLevel,gI=Vt.unstable_ImmediatePriority,lA=Vt.unstable_UserBlockingPriority,kg=Vt.unstable_NormalPriority,Wp=Vt.unstable_LowPriority,aA=Vt.unstable_IdlePriority,Al=null,bn=null;function Kp(e){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Al,e,void 0,(e.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:Rp,kp=Math.log,Yp=Math.LN2;function Rp(e){return e>>>=0,e===0?32:31-(kp(e)/Yp|0)|0}var Mo=64,xo=4194304;function Er(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yg(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,g=n&268435455;if(g!==0){var l=g&~r;l!==0?i=Er(l):(o&=g,o!==0&&(i=Er(o)))}else g=n&~r,g!==0?i=Er(g):o!==0&&(i=Er(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,o=t&-t,r>=o||r===16&&(o&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Cn(t),r=1<<n,i|=e[n],t&=~r;return i}function Vp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lp(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var g=31-Cn(o),l=1<<g,a=r[g];a===-1?(!(l&n)||l&i)&&(r[g]=Vp(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function qa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sA(){var e=Mo;return Mo<<=1,!(Mo&4194240)&&(Mo=64),e}function na(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Go(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cn(t),e[t]=n}function Xp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Cn(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}function lI(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Cn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var me=0;function IA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uA,aI,CA,cA,AA,es=!1,Oo=[],qn=null,ei=null,ti=null,io=new Map,ro=new Map,Jn=[],Hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xu(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":io.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(t.pointerId)}}function Rr(e,t,n,i,r,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},t!==null&&(t=Bo(t),t!==null&&aI(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Fp(e,t,n,i,r){switch(t){case"focusin":return qn=Rr(qn,e,t,n,i,r),!0;case"dragenter":return ei=Rr(ei,e,t,n,i,r),!0;case"mouseover":return ti=Rr(ti,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return io.set(o,Rr(io.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,ro.set(o,Rr(ro.get(o)||null,e,t,n,i,r)),!0}return!1}function dA(e){var t=bi(e.target);if(t!==null){var n=Xi(t);if(n!==null){if(t=n.tag,t===13){if(t=iA(n),t!==null){e.blockedOn=t,AA(e.priority,function(){CA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ag(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ts(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Ja=i,n.target.dispatchEvent(i),Ja=null}else return t=Bo(n),t!==null&&aI(t),e.blockedOn=n,!1;t.shift()}return!0}function Hu(e,t,n){Ag(e)&&n.delete(t)}function _p(){es=!1,qn!==null&&Ag(qn)&&(qn=null),ei!==null&&Ag(ei)&&(ei=null),ti!==null&&Ag(ti)&&(ti=null),io.forEach(Hu),ro.forEach(Hu)}function Vr(e,t){e.blockedOn===t&&(e.blockedOn=null,es||(es=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,_p)))}function oo(e){function t(r){return Vr(r,e)}if(0<Oo.length){Vr(Oo[0],e);for(var n=1;n<Oo.length;n++){var i=Oo[n];i.blockedOn===e&&(i.blockedOn=null)}}for(qn!==null&&Vr(qn,e),ei!==null&&Vr(ei,e),ti!==null&&Vr(ti,e),io.forEach(t),ro.forEach(t),n=0;n<Jn.length;n++)i=Jn[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Jn.length&&(n=Jn[0],n.blockedOn===null);)dA(n),n.blockedOn===null&&Jn.shift()}var ir=Dn.ReactCurrentBatchConfig,Rg=!0;function Np(e,t,n,i){var r=me,o=ir.transition;ir.transition=null;try{me=1,sI(e,t,n,i)}finally{me=r,ir.transition=o}}function Ep(e,t,n,i){var r=me,o=ir.transition;ir.transition=null;try{me=4,sI(e,t,n,i)}finally{me=r,ir.transition=o}}function sI(e,t,n,i){if(Rg){var r=ts(e,t,n,i);if(r===null)Ca(e,t,i,Vg,n),Xu(e,i);else if(Fp(r,e,t,n,i))i.stopPropagation();else if(Xu(e,i),t&4&&-1<Hp.indexOf(e)){for(;r!==null;){var o=Bo(r);if(o!==null&&uA(o),o=ts(e,t,n,i),o===null&&Ca(e,t,i,Vg,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else Ca(e,t,i,null,n)}}var Vg=null;function ts(e,t,n,i){if(Vg=null,e=oI(i),e=bi(e),e!==null)if(t=Xi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=iA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vg=e,null}function hA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sp()){case gI:return 1;case lA:return 4;case kg:case Wp:return 16;case aA:return 536870912;default:return 16}default:return 16}}var Qn=null,II=null,dg=null;function fA(){if(dg)return dg;var e,t=II,n=t.length,i,r="value"in Qn?Qn.value:Qn.textContent,o=r.length;for(e=0;e<n&&t[e]===r[e];e++);var g=n-e;for(i=1;i<=g&&t[n-i]===r[o-i];i++);return dg=r.slice(e,1<i?1-i:void 0)}function hg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zo(){return!0}function Fu(){return!1}function Ft(e){function t(n,i,r,o,g){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=g,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zo:Fu,this.isPropagationStopped=Fu,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zo)},persist:function(){},isPersistent:zo}),t}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uI=Ft(pr),wo=Le({},pr,{view:0,detail:0}),Tp=Ft(wo),ia,ra,Lr,dl=Le({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:CI,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?(ia=e.screenX-Lr.screenX,ra=e.screenY-Lr.screenY):ra=ia=0,Lr=e),ia)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),_u=Ft(dl),Dp=Le({},dl,{dataTransfer:0}),Pp=Ft(Dp),Mp=Le({},wo,{relatedTarget:0}),oa=Ft(Mp),xp=Le({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Op=Ft(xp),zp=Le({},pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jp=Ft(zp),Jp=Le({},pr,{data:0}),Nu=Ft(Jp),Up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$p[e])?!!t[e]:!1}function CI(){return qp}var em=Le({},wo,{key:function(e){if(e.key){var t=Up[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:CI,charCode:function(e){return e.type==="keypress"?hg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tm=Ft(em),nm=Le({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=Ft(nm),im=Le({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:CI}),rm=Ft(im),om=Le({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gm=Ft(om),lm=Le({},dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),am=Ft(lm),sm=[9,13,27,32],cI=Fn&&"CompositionEvent"in window,xr=null;Fn&&"documentMode"in document&&(xr=document.documentMode);var Im=Fn&&"TextEvent"in window&&!xr,pA=Fn&&(!cI||xr&&8<xr&&11>=xr),Tu=" ",Du=!1;function mA(e,t){switch(e){case"keyup":return sm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mi=!1;function um(e,t){switch(e){case"compositionend":return yA(t);case"keypress":return t.which!==32?null:(Du=!0,Tu);case"textInput":return e=t.data,e===Tu&&Du?null:e;default:return null}}function Cm(e,t){if(Mi)return e==="compositionend"||!cI&&mA(e,t)?(e=fA(),dg=II=Qn=null,Mi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pA&&t.locale!=="ko"?null:t.data;default:return null}}var cm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cm[e.type]:t==="textarea"}function vA(e,t,n,i){$c(i),t=Lg(t,"onChange"),0<t.length&&(n=new uI("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Or=null,go=null;function Am(e){RA(e,0)}function hl(e){var t=zi(e);if(xc(t))return e}function dm(e,t){if(e==="change")return t}var bA=!1;if(Fn){var ga;if(Fn){var la="oninput"in document;if(!la){var Mu=document.createElement("div");Mu.setAttribute("oninput","return;"),la=typeof Mu.oninput=="function"}ga=la}else ga=!1;bA=ga&&(!document.documentMode||9<document.documentMode)}function xu(){Or&&(Or.detachEvent("onpropertychange",GA),go=Or=null)}function GA(e){if(e.propertyName==="value"&&hl(go)){var t=[];vA(t,go,e,oI(e)),nA(Am,t)}}function hm(e,t,n){e==="focusin"?(xu(),Or=t,go=n,Or.attachEvent("onpropertychange",GA)):e==="focusout"&&xu()}function fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hl(go)}function pm(e,t){if(e==="click")return hl(t)}function mm(e,t){if(e==="input"||e==="change")return hl(t)}function ym(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var An=typeof Object.is=="function"?Object.is:ym;function lo(e,t){if(An(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Fa.call(t,r)||!An(e[r],t[r]))return!1}return!0}function Ou(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zu(e,t){var n=Ou(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ou(n)}}function wA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function BA(){for(var e=window,t=Sg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Sg(e.document)}return t}function AI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vm(e){var t=BA(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wA(n.ownerDocument.documentElement,n)){if(i!==null&&AI(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=zu(n,o);var g=zu(n,i);r&&g&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bm=Fn&&"documentMode"in document&&11>=document.documentMode,xi=null,ns=null,zr=null,is=!1;function ju(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;is||xi==null||xi!==Sg(i)||(i=xi,"selectionStart"in i&&AI(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zr&&lo(zr,i)||(zr=i,i=Lg(ns,"onSelect"),0<i.length&&(t=new uI("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=xi)))}function jo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oi={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},aa={},ZA={};Fn&&(ZA=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function fl(e){if(aa[e])return aa[e];if(!Oi[e])return e;var t=Oi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ZA)return aa[e]=t[n];return e}var SA=fl("animationend"),WA=fl("animationiteration"),KA=fl("animationstart"),kA=fl("transitionend"),YA=new Map,Ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(e,t){YA.set(e,t),Li(t,[e])}for(var sa=0;sa<Ju.length;sa++){var Ia=Ju[sa],Gm=Ia.toLowerCase(),wm=Ia[0].toUpperCase()+Ia.slice(1);ui(Gm,"on"+wm)}ui(SA,"onAnimationEnd");ui(WA,"onAnimationIteration");ui(KA,"onAnimationStart");ui("dblclick","onDoubleClick");ui("focusin","onFocus");ui("focusout","onBlur");ui(kA,"onTransitionEnd");ar("onMouseEnter",["mouseout","mouseover"]);ar("onMouseLeave",["mouseout","mouseover"]);ar("onPointerEnter",["pointerout","pointerover"]);ar("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Uu(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,Gp(i,t,void 0,e),e.currentTarget=null}function RA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var g=i.length-1;0<=g;g--){var l=i[g],a=l.instance,s=l.currentTarget;if(l=l.listener,a!==o&&r.isPropagationStopped())break e;Uu(r,l,s),o=a}else for(g=0;g<i.length;g++){if(l=i[g],a=l.instance,s=l.currentTarget,l=l.listener,a!==o&&r.isPropagationStopped())break e;Uu(r,l,s),o=a}}}if(Kg)throw e=$a,Kg=!1,$a=null,e}function we(e,t){var n=t[as];n===void 0&&(n=t[as]=new Set);var i=e+"__bubble";n.has(i)||(VA(t,e,2,!1),n.add(i))}function ua(e,t,n){var i=0;t&&(i|=4),VA(n,e,i,t)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function ao(e){if(!e[Jo]){e[Jo]=!0,Ec.forEach(function(n){n!=="selectionchange"&&(Bm.has(n)||ua(n,!1,e),ua(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jo]||(t[Jo]=!0,ua("selectionchange",!1,t))}}function VA(e,t,n,i){switch(hA(t)){case 1:var r=Np;break;case 4:r=Ep;break;default:r=sI}n=r.bind(null,t,n,e),r=void 0,!Qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ca(e,t,n,i,r){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(g===4)for(g=i.return;g!==null;){var a=g.tag;if((a===3||a===4)&&(a=g.stateNode.containerInfo,a===r||a.nodeType===8&&a.parentNode===r))return;g=g.return}for(;l!==null;){if(g=bi(l),g===null)return;if(a=g.tag,a===5||a===6){i=o=g;continue e}l=l.parentNode}}i=i.return}nA(function(){var s=o,C=oI(n),c=[];e:{var A=YA.get(e);if(A!==void 0){var y=uI,v=e;switch(e){case"keypress":if(hg(n)===0)break e;case"keydown":case"keyup":y=tm;break;case"focusin":v="focus",y=oa;break;case"focusout":v="blur",y=oa;break;case"beforeblur":case"afterblur":y=oa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=rm;break;case SA:case WA:case KA:y=Op;break;case kA:y=gm;break;case"scroll":y=Tp;break;case"wheel":y=am;break;case"copy":case"cut":case"paste":y=jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Eu}var b=(t&4)!==0,B=!b&&e==="scroll",p=b?A!==null?A+"Capture":null:A;b=[];for(var f=s,m;f!==null;){m=f;var G=m.stateNode;if(m.tag===5&&G!==null&&(m=G,p!==null&&(G=no(f,p),G!=null&&b.push(so(f,G,m)))),B)break;f=f.return}0<b.length&&(A=new y(A,v,null,n,C),c.push({event:A,listeners:b}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",A&&n!==Ja&&(v=n.relatedTarget||n.fromElement)&&(bi(v)||v[_n]))break e;if((y||A)&&(A=C.window===C?C:(A=C.ownerDocument)?A.defaultView||A.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=s,v=v?bi(v):null,v!==null&&(B=Xi(v),v!==B||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=s),y!==v)){if(b=_u,G="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(b=Eu,G="onPointerLeave",p="onPointerEnter",f="pointer"),B=y==null?A:zi(y),m=v==null?A:zi(v),A=new b(G,f+"leave",y,n,C),A.target=B,A.relatedTarget=m,G=null,bi(C)===s&&(b=new b(p,f+"enter",v,n,C),b.target=m,b.relatedTarget=B,G=b),B=G,y&&v)t:{for(b=y,p=v,f=0,m=b;m;m=Ei(m))f++;for(m=0,G=p;G;G=Ei(G))m++;for(;0<f-m;)b=Ei(b),f--;for(;0<m-f;)p=Ei(p),m--;for(;f--;){if(b===p||p!==null&&b===p.alternate)break t;b=Ei(b),p=Ei(p)}b=null}else b=null;y!==null&&Qu(c,A,y,b,!1),v!==null&&B!==null&&Qu(c,B,v,b,!0)}}e:{if(A=s?zi(s):window,y=A.nodeName&&A.nodeName.toLowerCase(),y==="select"||y==="input"&&A.type==="file")var V=dm;else if(Pu(A))if(bA)V=mm;else{V=fm;var F=hm}else(y=A.nodeName)&&y.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(V=pm);if(V&&(V=V(e,s))){vA(c,V,n,C);break e}F&&F(e,A,s),e==="focusout"&&(F=A._wrapperState)&&F.controlled&&A.type==="number"&&Ma(A,"number",A.value)}switch(F=s?zi(s):window,e){case"focusin":(Pu(F)||F.contentEditable==="true")&&(xi=F,ns=s,zr=null);break;case"focusout":zr=ns=xi=null;break;case"mousedown":is=!0;break;case"contextmenu":case"mouseup":case"dragend":is=!1,ju(c,n,C);break;case"selectionchange":if(bm)break;case"keydown":case"keyup":ju(c,n,C)}var Y;if(cI)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Mi?mA(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(pA&&n.locale!=="ko"&&(Mi||R!=="onCompositionStart"?R==="onCompositionEnd"&&Mi&&(Y=fA()):(Qn=C,II="value"in Qn?Qn.value:Qn.textContent,Mi=!0)),F=Lg(s,R),0<F.length&&(R=new Nu(R,e,null,n,C),c.push({event:R,listeners:F}),Y?R.data=Y:(Y=yA(n),Y!==null&&(R.data=Y)))),(Y=Im?um(e,n):Cm(e,n))&&(s=Lg(s,"onBeforeInput"),0<s.length&&(C=new Nu("onBeforeInput","beforeinput",null,n,C),c.push({event:C,listeners:s}),C.data=Y))}RA(c,t)})}function so(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lg(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=no(e,n),o!=null&&i.unshift(so(e,o,r)),o=no(e,t),o!=null&&i.push(so(e,o,r))),e=e.return}return i}function Ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qu(e,t,n,i,r){for(var o=t._reactName,g=[];n!==null&&n!==i;){var l=n,a=l.alternate,s=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&s!==null&&(l=s,r?(a=no(n,o),a!=null&&g.unshift(so(n,a,l))):r||(a=no(n,o),a!=null&&g.push(so(n,a,l)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var Zm=/\r\n?/g,Sm=/\u0000|\uFFFD/g;function $u(e){return(typeof e=="string"?e:""+e).replace(Zm,`
`).replace(Sm,"")}function Uo(e,t,n){if(t=$u(t),$u(e)!==t&&n)throw Error(E(425))}function Xg(){}var rs=null,os=null;function gs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ls=typeof setTimeout=="function"?setTimeout:void 0,Wm=typeof clearTimeout=="function"?clearTimeout:void 0,qu=typeof Promise=="function"?Promise:void 0,Km=typeof queueMicrotask=="function"?queueMicrotask:typeof qu<"u"?function(e){return qu.resolve(null).then(e).catch(km)}:ls;function km(e){setTimeout(function(){throw e})}function ca(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),oo(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);oo(t)}function ni(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function eC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mr=Math.random().toString(36).slice(2),yn="__reactFiber$"+mr,Io="__reactProps$"+mr,_n="__reactContainer$"+mr,as="__reactEvents$"+mr,Ym="__reactListeners$"+mr,Rm="__reactHandles$"+mr;function bi(e){var t=e[yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=eC(e);e!==null;){if(n=e[yn])return n;e=eC(e)}return t}e=n,n=e.parentNode}return null}function Bo(e){return e=e[yn]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function pl(e){return e[Io]||null}var ss=[],ji=-1;function Ci(e){return{current:e}}function Be(e){0>ji||(e.current=ss[ji],ss[ji]=null,ji--)}function Ge(e,t){ji++,ss[ji]=e.current,e.current=t}var ai={},ot=Ci(ai),yt=Ci(!1),Wi=ai;function sr(e,t){var n=e.type.contextTypes;if(!n)return ai;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=t[o];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function vt(e){return e=e.childContextTypes,e!=null}function Hg(){Be(yt),Be(ot)}function tC(e,t,n){if(ot.current!==ai)throw Error(E(168));Ge(ot,t),Ge(yt,n)}function LA(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(E(108,hp(e)||"Unknown",r));return Le({},n,i)}function Fg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ai,Wi=ot.current,Ge(ot,e),Ge(yt,yt.current),!0}function nC(e,t,n){var i=e.stateNode;if(!i)throw Error(E(169));n?(e=LA(e,t,Wi),i.__reactInternalMemoizedMergedChildContext=e,Be(yt),Be(ot),Ge(ot,e)):Be(yt),Ge(yt,n)}var Vn=null,ml=!1,Aa=!1;function XA(e){Vn===null?Vn=[e]:Vn.push(e)}function Vm(e){ml=!0,XA(e)}function ci(){if(!Aa&&Vn!==null){Aa=!0;var e=0,t=me;try{var n=Vn;for(me=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Vn=null,ml=!1}catch(r){throw Vn!==null&&(Vn=Vn.slice(e+1)),gA(gI,ci),r}finally{me=t,Aa=!1}}return null}var Ji=[],Ui=0,_g=null,Ng=0,xt=[],Ot=0,Ki=null,Ln=1,Xn="";function hi(e,t){Ji[Ui++]=Ng,Ji[Ui++]=_g,_g=e,Ng=t}function HA(e,t,n){xt[Ot++]=Ln,xt[Ot++]=Xn,xt[Ot++]=Ki,Ki=e;var i=Ln;e=Xn;var r=32-Cn(i)-1;i&=~(1<<r),n+=1;var o=32-Cn(t)+r;if(30<o){var g=r-r%5;o=(i&(1<<g)-1).toString(32),i>>=g,r-=g,Ln=1<<32-Cn(t)+r|n<<r|i,Xn=o+e}else Ln=1<<o|n<<r|i,Xn=e}function dI(e){e.return!==null&&(hi(e,1),HA(e,1,0))}function hI(e){for(;e===_g;)_g=Ji[--Ui],Ji[Ui]=null,Ng=Ji[--Ui],Ji[Ui]=null;for(;e===Ki;)Ki=xt[--Ot],xt[Ot]=null,Xn=xt[--Ot],xt[Ot]=null,Ln=xt[--Ot],xt[Ot]=null}var Rt=null,kt=null,Se=!1,an=null;function FA(e,t){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function iC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rt=e,kt=ni(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rt=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ki!==null?{id:Ln,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rt=e,kt=null,!0):!1;default:return!1}}function Is(e){return(e.mode&1)!==0&&(e.flags&128)===0}function us(e){if(Se){var t=kt;if(t){var n=t;if(!iC(e,t)){if(Is(e))throw Error(E(418));t=ni(n.nextSibling);var i=Rt;t&&iC(e,t)?FA(i,n):(e.flags=e.flags&-4097|2,Se=!1,Rt=e)}}else{if(Is(e))throw Error(E(418));e.flags=e.flags&-4097|2,Se=!1,Rt=e}}}function rC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rt=e}function Qo(e){if(e!==Rt)return!1;if(!Se)return rC(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gs(e.type,e.memoizedProps)),t&&(t=kt)){if(Is(e))throw _A(),Error(E(418));for(;t;)FA(e,t),t=ni(t.nextSibling)}if(rC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kt=ni(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=Rt?ni(e.stateNode.nextSibling):null;return!0}function _A(){for(var e=kt;e;)e=ni(e.nextSibling)}function Ir(){kt=Rt=null,Se=!1}function fI(e){an===null?an=[e]:an.push(e)}var Lm=Dn.ReactCurrentBatchConfig;function gn(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Eg=Ci(null),Tg=null,Qi=null,pI=null;function mI(){pI=Qi=Tg=null}function yI(e){var t=Eg.current;Be(Eg),e._currentValue=t}function Cs(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function rr(e,t){Tg=e,pI=Qi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function Jt(e){var t=e._currentValue;if(pI!==e)if(e={context:e,memoizedValue:t,next:null},Qi===null){if(Tg===null)throw Error(E(308));Qi=e,Tg.dependencies={lanes:0,firstContext:e}}else Qi=Qi.next=e;return t}var Gi=null;function vI(e){Gi===null?Gi=[e]:Gi.push(e)}function NA(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,vI(t)):(n.next=r.next,r.next=n),t.interleaved=n,Nn(e,i)}function Nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jn=!1;function bI(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Ce&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Nn(e,n)}return r=i.interleaved,r===null?(t.next=t,vI(i)):(t.next=r.next,r.next=t),i.interleaved=t,Nn(e,n)}function fg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,lI(e,n)}}function oC(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var g={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=g:o=o.next=g,n=n.next}while(n!==null);o===null?r=o=t:o=o.next=t}else r=o=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dg(e,t,n,i){var r=e.updateQueue;jn=!1;var o=r.firstBaseUpdate,g=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var a=l,s=a.next;a.next=null,g===null?o=s:g.next=s,g=a;var C=e.alternate;C!==null&&(C=C.updateQueue,l=C.lastBaseUpdate,l!==g&&(l===null?C.firstBaseUpdate=s:l.next=s,C.lastBaseUpdate=a))}if(o!==null){var c=r.baseState;g=0,C=s=a=null,l=o;do{var A=l.lane,y=l.eventTime;if((i&A)===A){C!==null&&(C=C.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,b=l;switch(A=t,y=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){c=v.call(y,c,A);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,A=typeof v=="function"?v.call(y,c,A):v,A==null)break e;c=Le({},c,A);break e;case 2:jn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,A=r.effects,A===null?r.effects=[l]:A.push(l))}else y={eventTime:y,lane:A,tag:l.tag,payload:l.payload,callback:l.callback,next:null},C===null?(s=C=y,a=c):C=C.next=y,g|=A;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;A=l,l=A.next,A.next=null,r.lastBaseUpdate=A,r.shared.pending=null}}while(!0);if(C===null&&(a=c),r.baseState=a,r.firstBaseUpdate=s,r.lastBaseUpdate=C,t=r.shared.interleaved,t!==null){r=t;do g|=r.lane,r=r.next;while(r!==t)}else o===null&&(r.shared.lanes=0);Yi|=g,e.lanes=g,e.memoizedState=c}}function gC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(E(191,r));r.call(i)}}}var TA=new Nc.Component().refs;function cs(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yl={isMounted:function(e){return(e=e._reactInternals)?Xi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ct(),r=oi(e),o=Hn(i,r);o.payload=t,n!=null&&(o.callback=n),t=ii(e,o,r),t!==null&&(cn(t,e,r,i),fg(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ct(),r=oi(e),o=Hn(i,r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ii(e,o,r),t!==null&&(cn(t,e,r,i),fg(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ct(),i=oi(e),r=Hn(n,i);r.tag=2,t!=null&&(r.callback=t),t=ii(e,r,i),t!==null&&(cn(t,e,i,n),fg(t,e,i))}};function lC(e,t,n,i,r,o,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,g):t.prototype&&t.prototype.isPureReactComponent?!lo(n,i)||!lo(r,o):!0}function DA(e,t,n){var i=!1,r=ai,o=t.contextType;return typeof o=="object"&&o!==null?o=Jt(o):(r=vt(t)?Wi:ot.current,i=t.contextTypes,o=(i=i!=null)?sr(e,r):ai),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yl,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function aC(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function As(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=TA,bI(e);var o=t.contextType;typeof o=="object"&&o!==null?r.context=Jt(o):(o=vt(t)?Wi:ot.current,r.context=sr(e,o)),r.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(cs(e,t,o,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&yl.enqueueReplaceState(r,r.state,null),Dg(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var i=n.stateNode}if(!i)throw Error(E(147,e));var r=i,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(g){var l=r.refs;l===TA&&(l=r.refs={}),g===null?delete l[o]:l[o]=g},t._stringRef=o,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function $o(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sC(e){var t=e._init;return t(e._payload)}function PA(e){function t(p,f){if(e){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function i(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function r(p,f){return p=gi(p,f),p.index=0,p.sibling=null,p}function o(p,f,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function g(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,m,G){return f===null||f.tag!==6?(f=va(m,p.mode,G),f.return=p,f):(f=r(f,m),f.return=p,f)}function a(p,f,m,G){var V=m.type;return V===Pi?C(p,f,m.props.children,G,m.key):f!==null&&(f.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===zn&&sC(V)===f.type)?(G=r(f,m.props),G.ref=Xr(p,f,m),G.return=p,G):(G=Gg(m.type,m.key,m.props,null,p.mode,G),G.ref=Xr(p,f,m),G.return=p,G)}function s(p,f,m,G){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=ba(m,p.mode,G),f.return=p,f):(f=r(f,m.children||[]),f.return=p,f)}function C(p,f,m,G,V){return f===null||f.tag!==7?(f=Si(m,p.mode,G,V),f.return=p,f):(f=r(f,m),f.return=p,f)}function c(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=va(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case To:return m=Gg(f.type,f.key,f.props,null,p.mode,m),m.ref=Xr(p,null,f),m.return=p,m;case Di:return f=ba(f,p.mode,m),f.return=p,f;case zn:var G=f._init;return c(p,G(f._payload),m)}if(Nr(f)||kr(f))return f=Si(f,p.mode,m,null),f.return=p,f;$o(p,f)}return null}function A(p,f,m,G){var V=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return V!==null?null:l(p,f,""+m,G);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case To:return m.key===V?a(p,f,m,G):null;case Di:return m.key===V?s(p,f,m,G):null;case zn:return V=m._init,A(p,f,V(m._payload),G)}if(Nr(m)||kr(m))return V!==null?null:C(p,f,m,G,null);$o(p,m)}return null}function y(p,f,m,G,V){if(typeof G=="string"&&G!==""||typeof G=="number")return p=p.get(m)||null,l(f,p,""+G,V);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case To:return p=p.get(G.key===null?m:G.key)||null,a(f,p,G,V);case Di:return p=p.get(G.key===null?m:G.key)||null,s(f,p,G,V);case zn:var F=G._init;return y(p,f,m,F(G._payload),V)}if(Nr(G)||kr(G))return p=p.get(m)||null,C(f,p,G,V,null);$o(f,G)}return null}function v(p,f,m,G){for(var V=null,F=null,Y=f,R=f=0,T=null;Y!==null&&R<m.length;R++){Y.index>R?(T=Y,Y=null):T=Y.sibling;var Z=A(p,Y,m[R],G);if(Z===null){Y===null&&(Y=T);break}e&&Y&&Z.alternate===null&&t(p,Y),f=o(Z,f,R),F===null?V=Z:F.sibling=Z,F=Z,Y=T}if(R===m.length)return n(p,Y),Se&&hi(p,R),V;if(Y===null){for(;R<m.length;R++)Y=c(p,m[R],G),Y!==null&&(f=o(Y,f,R),F===null?V=Y:F.sibling=Y,F=Y);return Se&&hi(p,R),V}for(Y=i(p,Y);R<m.length;R++)T=y(Y,p,R,m[R],G),T!==null&&(e&&T.alternate!==null&&Y.delete(T.key===null?R:T.key),f=o(T,f,R),F===null?V=T:F.sibling=T,F=T);return e&&Y.forEach(function(k){return t(p,k)}),Se&&hi(p,R),V}function b(p,f,m,G){var V=kr(m);if(typeof V!="function")throw Error(E(150));if(m=V.call(m),m==null)throw Error(E(151));for(var F=V=null,Y=f,R=f=0,T=null,Z=m.next();Y!==null&&!Z.done;R++,Z=m.next()){Y.index>R?(T=Y,Y=null):T=Y.sibling;var k=A(p,Y,Z.value,G);if(k===null){Y===null&&(Y=T);break}e&&Y&&k.alternate===null&&t(p,Y),f=o(k,f,R),F===null?V=k:F.sibling=k,F=k,Y=T}if(Z.done)return n(p,Y),Se&&hi(p,R),V;if(Y===null){for(;!Z.done;R++,Z=m.next())Z=c(p,Z.value,G),Z!==null&&(f=o(Z,f,R),F===null?V=Z:F.sibling=Z,F=Z);return Se&&hi(p,R),V}for(Y=i(p,Y);!Z.done;R++,Z=m.next())Z=y(Y,p,R,Z.value,G),Z!==null&&(e&&Z.alternate!==null&&Y.delete(Z.key===null?R:Z.key),f=o(Z,f,R),F===null?V=Z:F.sibling=Z,F=Z);return e&&Y.forEach(function(H){return t(p,H)}),Se&&hi(p,R),V}function B(p,f,m,G){if(typeof m=="object"&&m!==null&&m.type===Pi&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case To:e:{for(var V=m.key,F=f;F!==null;){if(F.key===V){if(V=m.type,V===Pi){if(F.tag===7){n(p,F.sibling),f=r(F,m.props.children),f.return=p,p=f;break e}}else if(F.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===zn&&sC(V)===F.type){n(p,F.sibling),f=r(F,m.props),f.ref=Xr(p,F,m),f.return=p,p=f;break e}n(p,F);break}else t(p,F);F=F.sibling}m.type===Pi?(f=Si(m.props.children,p.mode,G,m.key),f.return=p,p=f):(G=Gg(m.type,m.key,m.props,null,p.mode,G),G.ref=Xr(p,f,m),G.return=p,p=G)}return g(p);case Di:e:{for(F=m.key;f!==null;){if(f.key===F)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=r(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=ba(m,p.mode,G),f.return=p,p=f}return g(p);case zn:return F=m._init,B(p,f,F(m._payload),G)}if(Nr(m))return v(p,f,m,G);if(kr(m))return b(p,f,m,G);$o(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=r(f,m),f.return=p,p=f):(n(p,f),f=va(m,p.mode,G),f.return=p,p=f),g(p)):n(p,f)}return B}var ur=PA(!0),MA=PA(!1),Zo={},Gn=Ci(Zo),uo=Ci(Zo),Co=Ci(Zo);function wi(e){if(e===Zo)throw Error(E(174));return e}function GI(e,t){switch(Ge(Co,t),Ge(uo,e),Ge(Gn,Zo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oa(t,e)}Be(Gn),Ge(Gn,t)}function Cr(){Be(Gn),Be(uo),Be(Co)}function xA(e){wi(Co.current);var t=wi(Gn.current),n=Oa(t,e.type);t!==n&&(Ge(uo,e),Ge(Gn,n))}function wI(e){uo.current===e&&(Be(Gn),Be(uo))}var Ye=Ci(0);function Pg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=[];function BI(){for(var e=0;e<da.length;e++)da[e]._workInProgressVersionPrimary=null;da.length=0}var pg=Dn.ReactCurrentDispatcher,ha=Dn.ReactCurrentBatchConfig,ki=0,Ve=null,Oe=null,je=null,Mg=!1,jr=!1,co=0,Xm=0;function nt(){throw Error(E(321))}function ZI(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!An(e[n],t[n]))return!1;return!0}function SI(e,t,n,i,r,o){if(ki=o,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pg.current=e===null||e.memoizedState===null?Nm:Em,e=n(i,r),jr){o=0;do{if(jr=!1,co=0,25<=o)throw Error(E(301));o+=1,je=Oe=null,t.updateQueue=null,pg.current=Tm,e=n(i,r)}while(jr)}if(pg.current=xg,t=Oe!==null&&Oe.next!==null,ki=0,je=Oe=Ve=null,Mg=!1,t)throw Error(E(300));return e}function WI(){var e=co!==0;return co=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ve.memoizedState=je=e:je=je.next=e,je}function Ut(){if(Oe===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=je===null?Ve.memoizedState:je.next;if(t!==null)je=t,Oe=e;else{if(e===null)throw Error(E(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},je===null?Ve.memoizedState=je=e:je=je.next=e}return je}function Ao(e,t){return typeof t=="function"?t(e):t}function fa(e){var t=Ut(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var i=Oe,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var g=r.next;r.next=o.next,o.next=g}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var l=g=null,a=null,s=o;do{var C=s.lane;if((ki&C)===C)a!==null&&(a=a.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),i=s.hasEagerState?s.eagerState:e(i,s.action);else{var c={lane:C,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};a===null?(l=a=c,g=i):a=a.next=c,Ve.lanes|=C,Yi|=C}s=s.next}while(s!==null&&s!==o);a===null?g=i:a.next=l,An(i,t.memoizedState)||(mt=!0),t.memoizedState=i,t.baseState=g,t.baseQueue=a,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do o=r.lane,Ve.lanes|=o,Yi|=o,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pa(e){var t=Ut(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(r!==null){n.pending=null;var g=r=r.next;do o=e(o,g.action),g=g.next;while(g!==r);An(o,t.memoizedState)||(mt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function OA(){}function zA(e,t){var n=Ve,i=Ut(),r=t(),o=!An(i.memoizedState,r);if(o&&(i.memoizedState=r,mt=!0),i=i.queue,KI(UA.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,ho(9,JA.bind(null,n,i,r,t),void 0,null),Je===null)throw Error(E(349));ki&30||jA(n,t,r)}return r}function jA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function JA(e,t,n,i){t.value=n,t.getSnapshot=i,QA(t)&&$A(e)}function UA(e,t,n){return n(function(){QA(t)&&$A(e)})}function QA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!An(e,n)}catch{return!0}}function $A(e){var t=Nn(e,1);t!==null&&cn(t,e,1,-1)}function IC(e){var t=mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=_m.bind(null,Ve,e),[t.memoizedState,e]}function ho(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function qA(){return Ut().memoizedState}function mg(e,t,n,i){var r=mn();Ve.flags|=e,r.memoizedState=ho(1|t,n,void 0,i===void 0?null:i)}function vl(e,t,n,i){var r=Ut();i=i===void 0?null:i;var o=void 0;if(Oe!==null){var g=Oe.memoizedState;if(o=g.destroy,i!==null&&ZI(i,g.deps)){r.memoizedState=ho(t,n,o,i);return}}Ve.flags|=e,r.memoizedState=ho(1|t,n,o,i)}function uC(e,t){return mg(8390656,8,e,t)}function KI(e,t){return vl(2048,8,e,t)}function ed(e,t){return vl(4,2,e,t)}function td(e,t){return vl(4,4,e,t)}function nd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function id(e,t,n){return n=n!=null?n.concat([e]):null,vl(4,4,nd.bind(null,t,e),n)}function kI(){}function rd(e,t){var n=Ut();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&ZI(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function od(e,t){var n=Ut();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&ZI(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function gd(e,t,n){return ki&21?(An(n,t)||(n=sA(),Ve.lanes|=n,Yi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=n)}function Hm(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var i=ha.transition;ha.transition={};try{e(!1),t()}finally{me=n,ha.transition=i}}function ld(){return Ut().memoizedState}function Fm(e,t,n){var i=oi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ad(e))sd(t,n);else if(n=NA(e,t,n,i),n!==null){var r=ct();cn(n,e,i,r),Id(n,t,i)}}function _m(e,t,n){var i=oi(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ad(e))sd(t,r);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var g=t.lastRenderedState,l=o(g,n);if(r.hasEagerState=!0,r.eagerState=l,An(l,g)){var a=t.interleaved;a===null?(r.next=r,vI(t)):(r.next=a.next,a.next=r),t.interleaved=r;return}}catch{}finally{}n=NA(e,t,r,i),n!==null&&(r=ct(),cn(n,e,i,r),Id(n,t,i))}}function ad(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function sd(e,t){jr=Mg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Id(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,lI(e,n)}}var xg={readContext:Jt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},Nm={readContext:Jt,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:uC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mg(4194308,4,nd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mg(4194308,4,e,t)},useInsertionEffect:function(e,t){return mg(4,2,e,t)},useMemo:function(e,t){var n=mn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=mn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Fm.bind(null,Ve,e),[i.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:IC,useDebugValue:kI,useDeferredValue:function(e){return mn().memoizedState=e},useTransition:function(){var e=IC(!1),t=e[0];return e=Hm.bind(null,e[1]),mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Ve,r=mn();if(Se){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),Je===null)throw Error(E(349));ki&30||jA(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,uC(UA.bind(null,i,o,e),[e]),i.flags|=2048,ho(9,JA.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=mn(),t=Je.identifierPrefix;if(Se){var n=Xn,i=Ln;n=(i&~(1<<32-Cn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=co++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Xm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Em={readContext:Jt,useCallback:rd,useContext:Jt,useEffect:KI,useImperativeHandle:id,useInsertionEffect:ed,useLayoutEffect:td,useMemo:od,useReducer:fa,useRef:qA,useState:function(){return fa(Ao)},useDebugValue:kI,useDeferredValue:function(e){var t=Ut();return gd(t,Oe.memoizedState,e)},useTransition:function(){var e=fa(Ao)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:OA,useSyncExternalStore:zA,useId:ld,unstable_isNewReconciler:!1},Tm={readContext:Jt,useCallback:rd,useContext:Jt,useEffect:KI,useImperativeHandle:id,useInsertionEffect:ed,useLayoutEffect:td,useMemo:od,useReducer:pa,useRef:qA,useState:function(){return pa(Ao)},useDebugValue:kI,useDeferredValue:function(e){var t=Ut();return Oe===null?t.memoizedState=e:gd(t,Oe.memoizedState,e)},useTransition:function(){var e=pa(Ao)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:OA,useSyncExternalStore:zA,useId:ld,unstable_isNewReconciler:!1};function cr(e,t){try{var n="",i=t;do n+=dp(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:r,digest:null}}function ma(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dm=typeof WeakMap=="function"?WeakMap:Map;function ud(e,t,n){n=Hn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){zg||(zg=!0,Bs=i),ds(e,t)},n}function Cd(e,t,n){n=Hn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ds(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ds(e,t),typeof i!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),n}function CC(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Dm;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=n0.bind(null,e,t,n),t.then(e,e))}function cC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function AC(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hn(-1,1),t.tag=2,ii(n,t,1))),n.lanes|=1),e)}var Pm=Dn.ReactCurrentOwner,mt=!1;function It(e,t,n,i){t.child=e===null?MA(t,null,n,i):ur(t,e.child,n,i)}function dC(e,t,n,i,r){n=n.render;var o=t.ref;return rr(t,r),i=SI(e,t,n,i,o,r),n=WI(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,En(e,t,r)):(Se&&n&&dI(t),t.flags|=1,It(e,t,i,r),t.child)}function hC(e,t,n,i,r){if(e===null){var o=n.type;return typeof o=="function"&&!_I(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,cd(e,t,o,i,r)):(e=Gg(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&r)){var g=o.memoizedProps;if(n=n.compare,n=n!==null?n:lo,n(g,i)&&e.ref===t.ref)return En(e,t,r)}return t.flags|=1,e=gi(o,i),e.ref=t.ref,e.return=t,t.child=e}function cd(e,t,n,i,r){if(e!==null){var o=e.memoizedProps;if(lo(o,i)&&e.ref===t.ref)if(mt=!1,t.pendingProps=i=o,(e.lanes&r)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,En(e,t,r)}return hs(e,t,n,i,r)}function Ad(e,t,n){var i=t.pendingProps,r=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(qi,Kt),Kt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(qi,Kt),Kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Ge(qi,Kt),Kt|=i}else o!==null?(i=o.baseLanes|n,t.memoizedState=null):i=n,Ge(qi,Kt),Kt|=i;return It(e,t,r,n),t.child}function dd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function hs(e,t,n,i,r){var o=vt(n)?Wi:ot.current;return o=sr(t,o),rr(t,r),n=SI(e,t,n,i,o,r),i=WI(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,En(e,t,r)):(Se&&i&&dI(t),t.flags|=1,It(e,t,n,r),t.child)}function fC(e,t,n,i,r){if(vt(n)){var o=!0;Fg(t)}else o=!1;if(rr(t,r),t.stateNode===null)yg(e,t),DA(t,n,i),As(t,n,i,r),i=!0;else if(e===null){var g=t.stateNode,l=t.memoizedProps;g.props=l;var a=g.context,s=n.contextType;typeof s=="object"&&s!==null?s=Jt(s):(s=vt(n)?Wi:ot.current,s=sr(t,s));var C=n.getDerivedStateFromProps,c=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function";c||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(l!==i||a!==s)&&aC(t,g,i,s),jn=!1;var A=t.memoizedState;g.state=A,Dg(t,i,g,r),a=t.memoizedState,l!==i||A!==a||yt.current||jn?(typeof C=="function"&&(cs(t,n,C,i),a=t.memoizedState),(l=jn||lC(t,n,l,i,A,a,s))?(c||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=a),g.props=i,g.state=a,g.context=s,i=l):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{g=t.stateNode,EA(e,t),l=t.memoizedProps,s=t.type===t.elementType?l:gn(t.type,l),g.props=s,c=t.pendingProps,A=g.context,a=n.contextType,typeof a=="object"&&a!==null?a=Jt(a):(a=vt(n)?Wi:ot.current,a=sr(t,a));var y=n.getDerivedStateFromProps;(C=typeof y=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(l!==c||A!==a)&&aC(t,g,i,a),jn=!1,A=t.memoizedState,g.state=A,Dg(t,i,g,r);var v=t.memoizedState;l!==c||A!==v||yt.current||jn?(typeof y=="function"&&(cs(t,n,y,i),v=t.memoizedState),(s=jn||lC(t,n,s,i,A,v,a)||!1)?(C||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(i,v,a),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(i,v,a)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=v),g.props=i,g.state=v,g.context=a,i=s):(typeof g.componentDidUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),i=!1)}return fs(e,t,n,i,o,r)}function fs(e,t,n,i,r,o){dd(e,t);var g=(t.flags&128)!==0;if(!i&&!g)return r&&nC(t,n,!1),En(e,t,o);i=t.stateNode,Pm.current=t;var l=g&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&g?(t.child=ur(t,e.child,null,o),t.child=ur(t,null,l,o)):It(e,t,l,o),t.memoizedState=i.state,r&&nC(t,n,!0),t.child}function hd(e){var t=e.stateNode;t.pendingContext?tC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tC(e,t.context,!1),GI(e,t.containerInfo)}function pC(e,t,n,i,r){return Ir(),fI(r),t.flags|=256,It(e,t,n,i),t.child}var ps={dehydrated:null,treeContext:null,retryLane:0};function ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function fd(e,t,n){var i=t.pendingProps,r=Ye.current,o=!1,g=(t.flags&128)!==0,l;if((l=g)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Ge(Ye,r&1),e===null)return us(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=i.children,e=i.fallback,o?(i=t.mode,o=t.child,g={mode:"hidden",children:g},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=g):o=wl(g,i,0,null),e=Si(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ms(n),t.memoizedState=ps,e):YI(t,g));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return Mm(e,t,g,i,l,r,n);if(o){o=i.fallback,g=t.mode,r=e.child,l=r.sibling;var a={mode:"hidden",children:i.children};return!(g&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=a,t.deletions=null):(i=gi(r,a),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?o=gi(l,o):(o=Si(o,g,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,g=e.child.memoizedState,g=g===null?ms(n):{baseLanes:g.baseLanes|n,cachePool:null,transitions:g.transitions},o.memoizedState=g,o.childLanes=e.childLanes&~n,t.memoizedState=ps,i}return o=e.child,e=o.sibling,i=gi(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function YI(e,t){return t=wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qo(e,t,n,i){return i!==null&&fI(i),ur(t,e.child,null,n),e=YI(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mm(e,t,n,i,r,o,g){if(n)return t.flags&256?(t.flags&=-257,i=ma(Error(E(422))),qo(e,t,g,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=wl({mode:"visible",children:i.children},r,0,null),o=Si(o,r,g,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&ur(t,e.child,null,g),t.child.memoizedState=ms(g),t.memoizedState=ps,o);if(!(t.mode&1))return qo(e,t,g,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,o=Error(E(419)),i=ma(o,i,void 0),qo(e,t,g,i)}if(l=(g&e.childLanes)!==0,mt||l){if(i=Je,i!==null){switch(g&-g){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|g)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Nn(e,r),cn(i,e,r,-1))}return FI(),i=ma(Error(E(421))),qo(e,t,g,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=i0.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,kt=ni(r.nextSibling),Rt=t,Se=!0,an=null,e!==null&&(xt[Ot++]=Ln,xt[Ot++]=Xn,xt[Ot++]=Ki,Ln=e.id,Xn=e.overflow,Ki=t),t=YI(t,i.children),t.flags|=4096,t)}function mC(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Cs(e.return,t,n)}function ya(e,t,n,i,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function pd(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(It(e,t,i.children,n),i=Ye.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mC(e,n,t);else if(e.tag===19)mC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ge(Ye,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Pg(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ya(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Pg(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}ya(t,!0,n,null,o);break;case"together":ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=gi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xm(e,t,n){switch(t.tag){case 3:hd(t),Ir();break;case 5:xA(t);break;case 1:vt(t.type)&&Fg(t);break;case 4:GI(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Ge(Eg,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Ge(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?fd(e,t,n):(Ge(Ye,Ye.current&1),e=En(e,t,n),e!==null?e.sibling:null);Ge(Ye,Ye.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return pd(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ge(Ye,Ye.current),i)break;return null;case 22:case 23:return t.lanes=0,Ad(e,t,n)}return En(e,t,n)}var md,ys,yd,vd;md=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ys=function(){};yd=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,wi(Gn.current);var o=null;switch(n){case"input":r=Da(e,r),i=Da(e,i),o=[];break;case"select":r=Le({},r,{value:void 0}),i=Le({},i,{value:void 0}),o=[];break;case"textarea":r=xa(e,r),i=xa(e,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Xg)}za(n,i);var g;n=null;for(s in r)if(!i.hasOwnProperty(s)&&r.hasOwnProperty(s)&&r[s]!=null)if(s==="style"){var l=r[s];for(g in l)l.hasOwnProperty(g)&&(n||(n={}),n[g]="")}else s!=="dangerouslySetInnerHTML"&&s!=="children"&&s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(eo.hasOwnProperty(s)?o||(o=[]):(o=o||[]).push(s,null));for(s in i){var a=i[s];if(l=r!=null?r[s]:void 0,i.hasOwnProperty(s)&&a!==l&&(a!=null||l!=null))if(s==="style")if(l){for(g in l)!l.hasOwnProperty(g)||a&&a.hasOwnProperty(g)||(n||(n={}),n[g]="");for(g in a)a.hasOwnProperty(g)&&l[g]!==a[g]&&(n||(n={}),n[g]=a[g])}else n||(o||(o=[]),o.push(s,n)),n=a;else s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(s,a)):s==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(s,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&(eo.hasOwnProperty(s)?(a!=null&&s==="onScroll"&&we("scroll",e),o||l===a||(o=[])):(o=o||[]).push(s,a))}n&&(o=o||[]).push("style",n);var s=o;(t.updateQueue=s)&&(t.flags|=4)}};vd=function(e,t,n,i){n!==i&&(t.flags|=4)};function Hr(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Om(e,t,n){var i=t.pendingProps;switch(hI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return vt(t.type)&&Hg(),it(t),null;case 3:return i=t.stateNode,Cr(),Be(yt),Be(ot),BI(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Qo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,an!==null&&(Ws(an),an=null))),ys(e,t),it(t),null;case 5:wI(t);var r=wi(Co.current);if(n=t.type,e!==null&&t.stateNode!=null)yd(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(E(166));return it(t),null}if(e=wi(Gn.current),Qo(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[yn]=t,i[Io]=o,e=(t.mode&1)!==0,n){case"dialog":we("cancel",i),we("close",i);break;case"iframe":case"object":case"embed":we("load",i);break;case"video":case"audio":for(r=0;r<Tr.length;r++)we(Tr[r],i);break;case"source":we("error",i);break;case"img":case"image":case"link":we("error",i),we("load",i);break;case"details":we("toggle",i);break;case"input":Wu(i,o),we("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},we("invalid",i);break;case"textarea":ku(i,o),we("invalid",i)}za(n,o),r=null;for(var g in o)if(o.hasOwnProperty(g)){var l=o[g];g==="children"?typeof l=="string"?i.textContent!==l&&(o.suppressHydrationWarning!==!0&&Uo(i.textContent,l,e),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Uo(i.textContent,l,e),r=["children",""+l]):eo.hasOwnProperty(g)&&l!=null&&g==="onScroll"&&we("scroll",i)}switch(n){case"input":Do(i),Ku(i,o,!0);break;case"textarea":Do(i),Yu(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Xg)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{g=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=g.createElement(n,{is:i.is}):(e=g.createElement(n),n==="select"&&(g=e,i.multiple?g.multiple=!0:i.size&&(g.size=i.size))):e=g.createElementNS(e,n),e[yn]=t,e[Io]=i,md(e,t,!1,!1),t.stateNode=e;e:{switch(g=ja(n,i),n){case"dialog":we("cancel",e),we("close",e),r=i;break;case"iframe":case"object":case"embed":we("load",e),r=i;break;case"video":case"audio":for(r=0;r<Tr.length;r++)we(Tr[r],e);r=i;break;case"source":we("error",e),r=i;break;case"img":case"image":case"link":we("error",e),we("load",e),r=i;break;case"details":we("toggle",e),r=i;break;case"input":Wu(e,i),r=Da(e,i),we("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=Le({},i,{value:void 0}),we("invalid",e);break;case"textarea":ku(e,i),r=xa(e,i),we("invalid",e);break;default:r=i}za(n,r),l=r;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Qc(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Jc(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&to(e,a):typeof a=="number"&&to(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(eo.hasOwnProperty(o)?a!=null&&o==="onScroll"&&we("scroll",e):a!=null&&tI(e,o,a,g))}switch(n){case"input":Do(e),Ku(e,i,!1);break;case"textarea":Do(e),Yu(e);break;case"option":i.value!=null&&e.setAttribute("value",""+li(i.value));break;case"select":e.multiple=!!i.multiple,o=i.value,o!=null?er(e,!!i.multiple,o,!1):i.defaultValue!=null&&er(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Xg)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)vd(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(E(166));if(n=wi(Co.current),wi(Gn.current),Qo(t)){if(i=t.stateNode,n=t.memoizedProps,i[yn]=t,(o=i.nodeValue!==n)&&(e=Rt,e!==null))switch(e.tag){case 3:Uo(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uo(i.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[yn]=t,t.stateNode=i}return it(t),null;case 13:if(Be(Ye),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&kt!==null&&t.mode&1&&!(t.flags&128))_A(),Ir(),t.flags|=98560,o=!1;else if(o=Qo(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(E(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(E(317));o[yn]=t}else Ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),o=!1}else an!==null&&(Ws(an),an=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?ze===0&&(ze=3):FI())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Cr(),ys(e,t),e===null&&ao(t.stateNode.containerInfo),it(t),null;case 10:return yI(t.type._context),it(t),null;case 17:return vt(t.type)&&Hg(),it(t),null;case 19:if(Be(Ye),o=t.memoizedState,o===null)return it(t),null;if(i=(t.flags&128)!==0,g=o.rendering,g===null)if(i)Hr(o,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=Pg(e),g!==null){for(t.flags|=128,Hr(o,!1),i=g.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)o=n,e=i,o.flags&=14680066,g=o.alternate,g===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=g.childLanes,o.lanes=g.lanes,o.child=g.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=g.memoizedProps,o.memoizedState=g.memoizedState,o.updateQueue=g.updateQueue,o.type=g.type,e=g.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(Ye,Ye.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ee()>Ar&&(t.flags|=128,i=!0,Hr(o,!1),t.lanes=4194304)}else{if(!i)if(e=Pg(g),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!g.alternate&&!Se)return it(t),null}else 2*Ee()-o.renderingStartTime>Ar&&n!==1073741824&&(t.flags|=128,i=!0,Hr(o,!1),t.lanes=4194304);o.isBackwards?(g.sibling=t.child,t.child=g):(n=o.last,n!==null?n.sibling=g:t.child=g,o.last=g)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ee(),t.sibling=null,n=Ye.current,Ge(Ye,i?n&1|2:n&1),t):(it(t),null);case 22:case 23:return HI(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Kt&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function zm(e,t){switch(hI(t),t.tag){case 1:return vt(t.type)&&Hg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cr(),Be(yt),Be(ot),BI(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wI(t),null;case 13:if(Be(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Ye),null;case 4:return Cr(),null;case 10:return yI(t.type._context),null;case 22:case 23:return HI(),null;case 24:return null;default:return null}}var eg=!1,rt=!1,jm=typeof WeakSet=="function"?WeakSet:Set,$=null;function $i(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Fe(e,t,i)}else n.current=null}function vs(e,t,n){try{n()}catch(i){Fe(e,t,i)}}var yC=!1;function Jm(e,t){if(rs=Rg,e=BA(),AI(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var g=0,l=-1,a=-1,s=0,C=0,c=e,A=null;t:for(;;){for(var y;c!==n||r!==0&&c.nodeType!==3||(l=g+r),c!==o||i!==0&&c.nodeType!==3||(a=g+i),c.nodeType===3&&(g+=c.nodeValue.length),(y=c.firstChild)!==null;)A=c,c=y;for(;;){if(c===e)break t;if(A===n&&++s===r&&(l=g),A===o&&++C===i&&(a=g),(y=c.nextSibling)!==null)break;c=A,A=c.parentNode}c=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(os={focusedElem:e,selectionRange:n},Rg=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,B=v.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?b:gn(t.type,b),B);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(G){Fe(t,t.return,G)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return v=yC,yC=!1,v}function Jr(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,o!==void 0&&vs(t,n,o)}r=r.next}while(r!==i)}}function bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function bs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bd(e){var t=e.alternate;t!==null&&(e.alternate=null,bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[Io],delete t[as],delete t[Ym],delete t[Rm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gd(e){return e.tag===5||e.tag===3||e.tag===4}function vC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gs(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xg));else if(i!==4&&(e=e.child,e!==null))for(Gs(e,t,n),e=e.sibling;e!==null;)Gs(e,t,n),e=e.sibling}function ws(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ws(e,t,n),e=e.sibling;e!==null;)ws(e,t,n),e=e.sibling}var $e=null,ln=!1;function xn(e,t,n){for(n=n.child;n!==null;)wd(e,t,n),n=n.sibling}function wd(e,t,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Al,n)}catch{}switch(n.tag){case 5:rt||$i(n,t);case 6:var i=$e,r=ln;$e=null,xn(e,t,n),$e=i,ln=r,$e!==null&&(ln?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(ln?(e=$e,n=n.stateNode,e.nodeType===8?ca(e.parentNode,n):e.nodeType===1&&ca(e,n),oo(e)):ca($e,n.stateNode));break;case 4:i=$e,r=ln,$e=n.stateNode.containerInfo,ln=!0,xn(e,t,n),$e=i,ln=r;break;case 0:case 11:case 14:case 15:if(!rt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,g=o.destroy;o=o.tag,g!==void 0&&(o&2||o&4)&&vs(n,t,g),r=r.next}while(r!==i)}xn(e,t,n);break;case 1:if(!rt&&($i(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){Fe(n,t,l)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(rt=(i=rt)||n.memoizedState!==null,xn(e,t,n),rt=i):xn(e,t,n);break;default:xn(e,t,n)}}function bC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jm),t.forEach(function(i){var r=r0.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function on(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,g=t,l=g;e:for(;l!==null;){switch(l.tag){case 5:$e=l.stateNode,ln=!1;break e;case 3:$e=l.stateNode.containerInfo,ln=!0;break e;case 4:$e=l.stateNode.containerInfo,ln=!0;break e}l=l.return}if($e===null)throw Error(E(160));wd(o,g,r),$e=null,ln=!1;var a=r.alternate;a!==null&&(a.return=null),r.return=null}catch(s){Fe(r,t,s)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bd(t,e),t=t.sibling}function Bd(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),hn(e),i&4){try{Jr(3,e,e.return),bl(3,e)}catch(b){Fe(e,e.return,b)}try{Jr(5,e,e.return)}catch(b){Fe(e,e.return,b)}}break;case 1:on(t,e),hn(e),i&512&&n!==null&&$i(n,n.return);break;case 5:if(on(t,e),hn(e),i&512&&n!==null&&$i(n,n.return),e.flags&32){var r=e.stateNode;try{to(r,"")}catch(b){Fe(e,e.return,b)}}if(i&4&&(r=e.stateNode,r!=null)){var o=e.memoizedProps,g=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Oc(r,o),ja(l,g);var s=ja(l,o);for(g=0;g<a.length;g+=2){var C=a[g],c=a[g+1];C==="style"?Qc(r,c):C==="dangerouslySetInnerHTML"?Jc(r,c):C==="children"?to(r,c):tI(r,C,c,s)}switch(l){case"input":Pa(r,o);break;case"textarea":zc(r,o);break;case"select":var A=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?er(r,!!o.multiple,y,!1):A!==!!o.multiple&&(o.defaultValue!=null?er(r,!!o.multiple,o.defaultValue,!0):er(r,!!o.multiple,o.multiple?[]:"",!1))}r[Io]=o}catch(b){Fe(e,e.return,b)}}break;case 6:if(on(t,e),hn(e),i&4){if(e.stateNode===null)throw Error(E(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(b){Fe(e,e.return,b)}}break;case 3:if(on(t,e),hn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{oo(t.containerInfo)}catch(b){Fe(e,e.return,b)}break;case 4:on(t,e),hn(e);break;case 13:on(t,e),hn(e),r=e.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(LI=Ee())),i&4&&bC(e);break;case 22:if(C=n!==null&&n.memoizedState!==null,e.mode&1?(rt=(s=rt)||C,on(t,e),rt=s):on(t,e),hn(e),i&8192){if(s=e.memoizedState!==null,(e.stateNode.isHidden=s)&&!C&&e.mode&1)for($=e,C=e.child;C!==null;){for(c=$=C;$!==null;){switch(A=$,y=A.child,A.tag){case 0:case 11:case 14:case 15:Jr(4,A,A.return);break;case 1:$i(A,A.return);var v=A.stateNode;if(typeof v.componentWillUnmount=="function"){i=A,n=A.return;try{t=i,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(b){Fe(i,n,b)}}break;case 5:$i(A,A.return);break;case 22:if(A.memoizedState!==null){wC(c);continue}}y!==null?(y.return=A,$=y):wC(c)}C=C.sibling}e:for(C=null,c=e;;){if(c.tag===5){if(C===null){C=c;try{r=c.stateNode,s?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=c.stateNode,a=c.memoizedProps.style,g=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Uc("display",g))}catch(b){Fe(e,e.return,b)}}}else if(c.tag===6){if(C===null)try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(b){Fe(e,e.return,b)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;C===c&&(C=null),c=c.return}C===c&&(C=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:on(t,e),hn(e),i&4&&bC(e);break;case 21:break;default:on(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gd(n)){var i=n;break e}n=n.return}throw Error(E(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(to(r,""),i.flags&=-33);var o=vC(e);ws(e,o,r);break;case 3:case 4:var g=i.stateNode.containerInfo,l=vC(e);Gs(e,l,g);break;default:throw Error(E(161))}}catch(a){Fe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Um(e,t,n){$=e,Zd(e)}function Zd(e,t,n){for(var i=(e.mode&1)!==0;$!==null;){var r=$,o=r.child;if(r.tag===22&&i){var g=r.memoizedState!==null||eg;if(!g){var l=r.alternate,a=l!==null&&l.memoizedState!==null||rt;l=eg;var s=rt;if(eg=g,(rt=a)&&!s)for($=r;$!==null;)g=$,a=g.child,g.tag===22&&g.memoizedState!==null?BC(r):a!==null?(a.return=g,$=a):BC(r);for(;o!==null;)$=o,Zd(o),o=o.sibling;$=r,eg=l,rt=s}GC(e)}else r.subtreeFlags&8772&&o!==null?(o.return=r,$=o):GC(e)}}function GC(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rt||bl(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!rt)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:gn(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&gC(t,o,i);break;case 3:var g=t.updateQueue;if(g!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gC(t,g,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var s=t.alternate;if(s!==null){var C=s.memoizedState;if(C!==null){var c=C.dehydrated;c!==null&&oo(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}rt||t.flags&512&&bs(t)}catch(A){Fe(t,t.return,A)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function wC(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function BC(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bl(4,t)}catch(a){Fe(t,n,a)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(a){Fe(t,r,a)}}var o=t.return;try{bs(t)}catch(a){Fe(t,o,a)}break;case 5:var g=t.return;try{bs(t)}catch(a){Fe(t,g,a)}}}catch(a){Fe(t,t.return,a)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var Qm=Math.ceil,Og=Dn.ReactCurrentDispatcher,RI=Dn.ReactCurrentOwner,jt=Dn.ReactCurrentBatchConfig,Ce=0,Je=null,Te=null,et=0,Kt=0,qi=Ci(0),ze=0,fo=null,Yi=0,Gl=0,VI=0,Ur=null,pt=null,LI=0,Ar=1/0,Rn=null,zg=!1,Bs=null,ri=null,tg=!1,$n=null,jg=0,Qr=0,Zs=null,vg=-1,bg=0;function ct(){return Ce&6?Ee():vg!==-1?vg:vg=Ee()}function oi(e){return e.mode&1?Ce&2&&et!==0?et&-et:Lm.transition!==null?(bg===0&&(bg=sA()),bg):(e=me,e!==0||(e=window.event,e=e===void 0?16:hA(e.type)),e):1}function cn(e,t,n,i){if(50<Qr)throw Qr=0,Zs=null,Error(E(185));Go(e,n,i),(!(Ce&2)||e!==Je)&&(e===Je&&(!(Ce&2)&&(Gl|=n),ze===4&&Un(e,et)),bt(e,i),n===1&&Ce===0&&!(t.mode&1)&&(Ar=Ee()+500,ml&&ci()))}function bt(e,t){var n=e.callbackNode;Lp(e,t);var i=Yg(e,e===Je?et:0);if(i===0)n!==null&&Lu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Lu(n),t===1)e.tag===0?Vm(ZC.bind(null,e)):XA(ZC.bind(null,e)),Km(function(){!(Ce&6)&&ci()}),n=null;else{switch(IA(i)){case 1:n=gI;break;case 4:n=lA;break;case 16:n=kg;break;case 536870912:n=aA;break;default:n=kg}n=Ld(n,Sd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sd(e,t){if(vg=-1,bg=0,Ce&6)throw Error(E(327));var n=e.callbackNode;if(or()&&e.callbackNode!==n)return null;var i=Yg(e,e===Je?et:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Jg(e,i);else{t=i;var r=Ce;Ce|=2;var o=Kd();(Je!==e||et!==t)&&(Rn=null,Ar=Ee()+500,Zi(e,t));do try{e0();break}catch(l){Wd(e,l)}while(!0);mI(),Og.current=o,Ce=r,Te!==null?t=0:(Je=null,et=0,t=ze)}if(t!==0){if(t===2&&(r=qa(e),r!==0&&(i=r,t=Ss(e,r))),t===1)throw n=fo,Zi(e,0),Un(e,i),bt(e,Ee()),n;if(t===6)Un(e,i);else{if(r=e.current.alternate,!(i&30)&&!$m(r)&&(t=Jg(e,i),t===2&&(o=qa(e),o!==0&&(i=o,t=Ss(e,o))),t===1))throw n=fo,Zi(e,0),Un(e,i),bt(e,Ee()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(E(345));case 2:fi(e,pt,Rn);break;case 3:if(Un(e,i),(i&130023424)===i&&(t=LI+500-Ee(),10<t)){if(Yg(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){ct(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ls(fi.bind(null,e,pt,Rn),t);break}fi(e,pt,Rn);break;case 4:if(Un(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var g=31-Cn(i);o=1<<g,g=t[g],g>r&&(r=g),i&=~o}if(i=r,i=Ee()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Qm(i/1960))-i,10<i){e.timeoutHandle=ls(fi.bind(null,e,pt,Rn),i);break}fi(e,pt,Rn);break;case 5:fi(e,pt,Rn);break;default:throw Error(E(329))}}}return bt(e,Ee()),e.callbackNode===n?Sd.bind(null,e):null}function Ss(e,t){var n=Ur;return e.current.memoizedState.isDehydrated&&(Zi(e,t).flags|=256),e=Jg(e,t),e!==2&&(t=pt,pt=n,t!==null&&Ws(t)),e}function Ws(e){pt===null?pt=e:pt.push.apply(pt,e)}function $m(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!An(o(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t){for(t&=~VI,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Cn(t),i=1<<n;e[n]=-1,t&=~i}}function ZC(e){if(Ce&6)throw Error(E(327));or();var t=Yg(e,0);if(!(t&1))return bt(e,Ee()),null;var n=Jg(e,t);if(e.tag!==0&&n===2){var i=qa(e);i!==0&&(t=i,n=Ss(e,i))}if(n===1)throw n=fo,Zi(e,0),Un(e,t),bt(e,Ee()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fi(e,pt,Rn),bt(e,Ee()),null}function XI(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(Ar=Ee()+500,ml&&ci())}}function Ri(e){$n!==null&&$n.tag===0&&!(Ce&6)&&or();var t=Ce;Ce|=1;var n=jt.transition,i=me;try{if(jt.transition=null,me=1,e)return e()}finally{me=i,jt.transition=n,Ce=t,!(Ce&6)&&ci()}}function HI(){Kt=qi.current,Be(qi)}function Zi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wm(n)),Te!==null)for(n=Te.return;n!==null;){var i=n;switch(hI(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Hg();break;case 3:Cr(),Be(yt),Be(ot),BI();break;case 5:wI(i);break;case 4:Cr();break;case 13:Be(Ye);break;case 19:Be(Ye);break;case 10:yI(i.type._context);break;case 22:case 23:HI()}n=n.return}if(Je=e,Te=e=gi(e.current,null),et=Kt=t,ze=0,fo=null,VI=Gl=Yi=0,pt=Ur=null,Gi!==null){for(t=0;t<Gi.length;t++)if(n=Gi[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var g=o.next;o.next=r,i.next=g}n.pending=i}Gi=null}return e}function Wd(e,t){do{var n=Te;try{if(mI(),pg.current=xg,Mg){for(var i=Ve.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Mg=!1}if(ki=0,je=Oe=Ve=null,jr=!1,co=0,RI.current=null,n===null||n.return===null){ze=1,fo=t,Te=null;break}e:{var o=e,g=n.return,l=n,a=t;if(t=et,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var s=a,C=l,c=C.tag;if(!(C.mode&1)&&(c===0||c===11||c===15)){var A=C.alternate;A?(C.updateQueue=A.updateQueue,C.memoizedState=A.memoizedState,C.lanes=A.lanes):(C.updateQueue=null,C.memoizedState=null)}var y=cC(g);if(y!==null){y.flags&=-257,AC(y,g,l,o,t),y.mode&1&&CC(o,s,t),t=y,a=s;var v=t.updateQueue;if(v===null){var b=new Set;b.add(a),t.updateQueue=b}else v.add(a);break e}else{if(!(t&1)){CC(o,s,t),FI();break e}a=Error(E(426))}}else if(Se&&l.mode&1){var B=cC(g);if(B!==null){!(B.flags&65536)&&(B.flags|=256),AC(B,g,l,o,t),fI(cr(a,l));break e}}o=a=cr(a,l),ze!==4&&(ze=2),Ur===null?Ur=[o]:Ur.push(o),o=g;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=ud(o,a,t);oC(o,p);break e;case 1:l=a;var f=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ri===null||!ri.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var G=Cd(o,l,t);oC(o,G);break e}}o=o.return}while(o!==null)}Yd(n)}catch(V){t=V,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function Kd(){var e=Og.current;return Og.current=xg,e===null?xg:e}function FI(){(ze===0||ze===3||ze===2)&&(ze=4),Je===null||!(Yi&268435455)&&!(Gl&268435455)||Un(Je,et)}function Jg(e,t){var n=Ce;Ce|=2;var i=Kd();(Je!==e||et!==t)&&(Rn=null,Zi(e,t));do try{qm();break}catch(r){Wd(e,r)}while(!0);if(mI(),Ce=n,Og.current=i,Te!==null)throw Error(E(261));return Je=null,et=0,ze}function qm(){for(;Te!==null;)kd(Te)}function e0(){for(;Te!==null&&!Bp();)kd(Te)}function kd(e){var t=Vd(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?Yd(e):Te=t,RI.current=null}function Yd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zm(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Te=null;return}}else if(n=Om(n,t,Kt),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);ze===0&&(ze=5)}function fi(e,t,n){var i=me,r=jt.transition;try{jt.transition=null,me=1,t0(e,t,n,i)}finally{jt.transition=r,me=i}return null}function t0(e,t,n,i){do or();while($n!==null);if(Ce&6)throw Error(E(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Xp(e,o),e===Je&&(Te=Je=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tg||(tg=!0,Ld(kg,function(){return or(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=jt.transition,jt.transition=null;var g=me;me=1;var l=Ce;Ce|=4,RI.current=null,Jm(e,n),Bd(n,e),vm(os),Rg=!!rs,os=rs=null,e.current=n,Um(n),Zp(),Ce=l,me=g,jt.transition=o}else e.current=n;if(tg&&(tg=!1,$n=e,jg=r),o=e.pendingLanes,o===0&&(ri=null),Kp(n.stateNode),bt(e,Ee()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(zg)throw zg=!1,e=Bs,Bs=null,e;return jg&1&&e.tag!==0&&or(),o=e.pendingLanes,o&1?e===Zs?Qr++:(Qr=0,Zs=e):Qr=0,ci(),null}function or(){if($n!==null){var e=IA(jg),t=jt.transition,n=me;try{if(jt.transition=null,me=16>e?16:e,$n===null)var i=!1;else{if(e=$n,$n=null,jg=0,Ce&6)throw Error(E(331));var r=Ce;for(Ce|=4,$=e.current;$!==null;){var o=$,g=o.child;if($.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var s=l[a];for($=s;$!==null;){var C=$;switch(C.tag){case 0:case 11:case 15:Jr(8,C,o)}var c=C.child;if(c!==null)c.return=C,$=c;else for(;$!==null;){C=$;var A=C.sibling,y=C.return;if(bd(C),C===s){$=null;break}if(A!==null){A.return=y,$=A;break}$=y}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var B=b.sibling;b.sibling=null,b=B}while(b!==null)}}$=o}}if(o.subtreeFlags&2064&&g!==null)g.return=o,$=g;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Jr(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,$=p;break e}$=o.return}}var f=e.current;for($=f;$!==null;){g=$;var m=g.child;if(g.subtreeFlags&2064&&m!==null)m.return=g,$=m;else e:for(g=f;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bl(9,l)}}catch(V){Fe(l,l.return,V)}if(l===g){$=null;break e}var G=l.sibling;if(G!==null){G.return=l.return,$=G;break e}$=l.return}}if(Ce=r,ci(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Al,e)}catch{}i=!0}return i}finally{me=n,jt.transition=t}}return!1}function SC(e,t,n){t=cr(n,t),t=ud(e,t,1),e=ii(e,t,1),t=ct(),e!==null&&(Go(e,1,t),bt(e,t))}function Fe(e,t,n){if(e.tag===3)SC(e,e,n);else for(;t!==null;){if(t.tag===3){SC(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ri===null||!ri.has(i))){e=cr(n,e),e=Cd(t,e,1),t=ii(t,e,1),e=ct(),t!==null&&(Go(t,1,e),bt(t,e));break}}t=t.return}}function n0(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(et&n)===n&&(ze===4||ze===3&&(et&130023424)===et&&500>Ee()-LI?Zi(e,0):VI|=n),bt(e,t)}function Rd(e,t){t===0&&(e.mode&1?(t=xo,xo<<=1,!(xo&130023424)&&(xo=4194304)):t=1);var n=ct();e=Nn(e,t),e!==null&&(Go(e,t,n),bt(e,n))}function i0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rd(e,n)}function r0(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(E(314))}i!==null&&i.delete(t),Rd(e,n)}var Vd;Vd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yt.current)mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mt=!1,xm(e,t,n);mt=!!(e.flags&131072)}else mt=!1,Se&&t.flags&1048576&&HA(t,Ng,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;yg(e,t),e=t.pendingProps;var r=sr(t,ot.current);rr(t,n),r=SI(null,t,i,e,r,n);var o=WI();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(i)?(o=!0,Fg(t)):o=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,bI(t),r.updater=yl,t.stateNode=r,r._reactInternals=t,As(t,i,e,n),t=fs(null,t,i,!0,o,n)):(t.tag=0,Se&&o&&dI(t),It(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(yg(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=g0(i),e=gn(i,e),r){case 0:t=hs(null,t,i,e,n);break e;case 1:t=fC(null,t,i,e,n);break e;case 11:t=dC(null,t,i,e,n);break e;case 14:t=hC(null,t,i,gn(i.type,e),n);break e}throw Error(E(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:gn(i,r),hs(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:gn(i,r),fC(e,t,i,r,n);case 3:e:{if(hd(t),e===null)throw Error(E(387));i=t.pendingProps,o=t.memoizedState,r=o.element,EA(e,t),Dg(t,i,null,n);var g=t.memoizedState;if(i=g.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){r=cr(Error(E(423)),t),t=pC(e,t,i,n,r);break e}else if(i!==r){r=cr(Error(E(424)),t),t=pC(e,t,i,n,r);break e}else for(kt=ni(t.stateNode.containerInfo.firstChild),Rt=t,Se=!0,an=null,n=MA(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ir(),i===r){t=En(e,t,n);break e}It(e,t,i,n)}t=t.child}return t;case 5:return xA(t),e===null&&us(t),i=t.type,r=t.pendingProps,o=e!==null?e.memoizedProps:null,g=r.children,gs(i,r)?g=null:o!==null&&gs(i,o)&&(t.flags|=32),dd(e,t),It(e,t,g,n),t.child;case 6:return e===null&&us(t),null;case 13:return fd(e,t,n);case 4:return GI(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ur(t,null,i,n):It(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:gn(i,r),dC(e,t,i,r,n);case 7:return It(e,t,t.pendingProps,n),t.child;case 8:return It(e,t,t.pendingProps.children,n),t.child;case 12:return It(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,g=r.value,Ge(Eg,i._currentValue),i._currentValue=g,o!==null)if(An(o.value,g)){if(o.children===r.children&&!yt.current){t=En(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){g=o.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(o.tag===1){a=Hn(-1,n&-n),a.tag=2;var s=o.updateQueue;if(s!==null){s=s.shared;var C=s.pending;C===null?a.next=a:(a.next=C.next,C.next=a),s.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cs(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)g=o.type===t.type?null:o.child;else if(o.tag===18){if(g=o.return,g===null)throw Error(E(341));g.lanes|=n,l=g.alternate,l!==null&&(l.lanes|=n),Cs(g,n,t),g=o.sibling}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===t){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}It(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,rr(t,n),r=Jt(r),i=i(r),t.flags|=1,It(e,t,i,n),t.child;case 14:return i=t.type,r=gn(i,t.pendingProps),r=gn(i.type,r),hC(e,t,i,r,n);case 15:return cd(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:gn(i,r),yg(e,t),t.tag=1,vt(i)?(e=!0,Fg(t)):e=!1,rr(t,n),DA(t,i,r),As(t,i,r,n),fs(null,t,i,!0,e,n);case 19:return pd(e,t,n);case 22:return Ad(e,t,n)}throw Error(E(156,t.tag))};function Ld(e,t){return gA(e,t)}function o0(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,i){return new o0(e,t,n,i)}function _I(e){return e=e.prototype,!(!e||!e.isReactComponent)}function g0(e){if(typeof e=="function")return _I(e)?1:0;if(e!=null){if(e=e.$$typeof,e===iI)return 11;if(e===rI)return 14}return 2}function gi(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gg(e,t,n,i,r,o){var g=2;if(i=e,typeof e=="function")_I(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Pi:return Si(n.children,r,o,t);case nI:g=8,r|=8;break;case _a:return e=zt(12,n,t,r|2),e.elementType=_a,e.lanes=o,e;case Na:return e=zt(13,n,t,r),e.elementType=Na,e.lanes=o,e;case Ea:return e=zt(19,n,t,r),e.elementType=Ea,e.lanes=o,e;case Pc:return wl(n,r,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tc:g=10;break e;case Dc:g=9;break e;case iI:g=11;break e;case rI:g=14;break e;case zn:g=16,i=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=zt(g,n,t,r),t.elementType=e,t.type=i,t.lanes=o,t}function Si(e,t,n,i){return e=zt(7,e,i,t),e.lanes=n,e}function wl(e,t,n,i){return e=zt(22,e,i,t),e.elementType=Pc,e.lanes=n,e.stateNode={isHidden:!1},e}function va(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function ba(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function l0(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=na(0),this.expirationTimes=na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=na(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function NI(e,t,n,i,r,o,g,l,a){return e=new l0(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=zt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bI(o),e}function a0(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Di,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Xd(e){if(!e)return ai;e=e._reactInternals;e:{if(Xi(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(vt(n))return LA(e,n,t)}return t}function Hd(e,t,n,i,r,o,g,l,a){return e=NI(n,i,!0,e,r,o,g,l,a),e.context=Xd(null),n=e.current,i=ct(),r=oi(n),o=Hn(i,r),o.callback=t??null,ii(n,o,r),e.current.lanes=r,Go(e,r,i),bt(e,i),e}function Bl(e,t,n,i){var r=t.current,o=ct(),g=oi(r);return n=Xd(n),t.context===null?t.context=n:t.pendingContext=n,t=Hn(o,g),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=ii(r,t,g),e!==null&&(cn(e,r,g,o),fg(e,r,g)),g}function Ug(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function WC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function EI(e,t){WC(e,t),(e=e.alternate)&&WC(e,t)}function s0(){return null}var Fd=typeof reportError=="function"?reportError:function(e){console.error(e)};function TI(e){this._internalRoot=e}Zl.prototype.render=TI.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Bl(e,t,null,null)};Zl.prototype.unmount=TI.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ri(function(){Bl(null,e,null,null)}),t[_n]=null}};function Zl(e){this._internalRoot=e}Zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=cA();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jn.length&&t!==0&&t<Jn[n].priority;n++);Jn.splice(n,0,e),n===0&&dA(e)}};function DI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function KC(){}function I0(e,t,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var s=Ug(g);o.call(s)}}var g=Hd(t,i,e,0,null,!1,!1,"",KC);return e._reactRootContainer=g,e[_n]=g.current,ao(e.nodeType===8?e.parentNode:e),Ri(),g}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var s=Ug(a);l.call(s)}}var a=NI(e,0,!1,null,null,!1,!1,"",KC);return e._reactRootContainer=a,e[_n]=a.current,ao(e.nodeType===8?e.parentNode:e),Ri(function(){Bl(t,a,n,i)}),a}function Wl(e,t,n,i,r){var o=n._reactRootContainer;if(o){var g=o;if(typeof r=="function"){var l=r;r=function(){var a=Ug(g);l.call(a)}}Bl(t,g,e,r)}else g=I0(n,t,e,r,i);return Ug(g)}uA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Er(t.pendingLanes);n!==0&&(lI(t,n|1),bt(t,Ee()),!(Ce&6)&&(Ar=Ee()+500,ci()))}break;case 13:Ri(function(){var i=Nn(e,1);if(i!==null){var r=ct();cn(i,e,1,r)}}),EI(e,1)}};aI=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var n=ct();cn(t,e,134217728,n)}EI(e,134217728)}};CA=function(e){if(e.tag===13){var t=oi(e),n=Nn(e,t);if(n!==null){var i=ct();cn(n,e,t,i)}EI(e,t)}};cA=function(){return me};AA=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};Ua=function(e,t,n){switch(t){case"input":if(Pa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=pl(i);if(!r)throw Error(E(90));xc(i),Pa(i,r)}}}break;case"textarea":zc(e,n);break;case"select":t=n.value,t!=null&&er(e,!!n.multiple,t,!1)}};eA=XI;tA=Ri;var u0={usingClientEntryPoint:!1,Events:[Bo,zi,pl,$c,qc,XI]},Fr={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},C0={bundleType:Fr.bundleType,version:Fr.version,rendererPackageName:Fr.rendererPackageName,rendererConfig:Fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rA(e),e===null?null:e.stateNode},findFiberByHostInstance:Fr.findFiberByHostInstance||s0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ng.isDisabled&&ng.supportsFiber)try{Al=ng.inject(C0),bn=ng}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u0;Ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DI(t))throw Error(E(200));return a0(e,t,null,n)};Ht.createRoot=function(e,t){if(!DI(e))throw Error(E(299));var n=!1,i="",r=Fd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=NI(e,1,!1,null,null,n,!1,i,r),e[_n]=t.current,ao(e.nodeType===8?e.parentNode:e),new TI(t)};Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=rA(t),e=e===null?null:e.stateNode,e};Ht.flushSync=function(e){return Ri(e)};Ht.hydrate=function(e,t,n){if(!Sl(t))throw Error(E(200));return Wl(null,e,t,!0,n)};Ht.hydrateRoot=function(e,t,n){if(!DI(e))throw Error(E(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",g=Fd;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),t=Hd(t,null,e,1,n??null,r,!1,o,g),e[_n]=t.current,ao(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Zl(t)};Ht.render=function(e,t,n){if(!Sl(t))throw Error(E(200));return Wl(null,e,t,!1,n)};Ht.unmountComponentAtNode=function(e){if(!Sl(e))throw Error(E(40));return e._reactRootContainer?(Ri(function(){Wl(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1};Ht.unstable_batchedUpdates=XI;Ht.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Sl(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Wl(e,t,n,!1,i)};Ht.version="18.2.0-next-9e3b772b8-20220608";function _d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_d)}catch(e){console.error(e)}}_d(),Hc.exports=Ht;var c0=Hc.exports,kC=c0;Ha.createRoot=kC.createRoot,Ha.hydrateRoot=kC.hydrateRoot;var Nd={exports:{}},Ed={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So=_;function A0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var d0=typeof Object.is=="function"?Object.is:A0,h0=So.useSyncExternalStore,f0=So.useRef,p0=So.useEffect,m0=So.useMemo,y0=So.useDebugValue;Ed.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var o=f0(null);if(o.current===null){var g={hasValue:!1,value:null};o.current=g}else g=o.current;o=m0(function(){function a(y){if(!s){if(s=!0,C=y,y=i(y),r!==void 0&&g.hasValue){var v=g.value;if(r(v,y))return c=v}return c=y}if(v=c,d0(C,y))return v;var b=i(y);return r!==void 0&&r(v,b)?v:(C=y,c=b)}var s=!1,C,c,A=n===void 0?null:n;return[function(){return a(t())},A===null?void 0:function(){return a(A())}]},[t,n,i,r]);var l=h0(e,o[0],o[1]);return p0(function(){g.hasValue=!0,g.value=l},[l]),y0(l),l};Nd.exports=Ed;var v0=Nd.exports,Yt="default"in wu?Re:wu,YC=Symbol.for("react-redux-context"),RC=typeof globalThis<"u"?globalThis:{};function b0(){if(!Yt.createContext)return{};const e=RC[YC]??(RC[YC]=new Map);let t=e.get(Yt.createContext);return t||(t=Yt.createContext(null),e.set(Yt.createContext,t)),t}var si=b0(),G0=()=>{throw new Error("uSES not initialized!")};function PI(e=si){return function(){return Yt.useContext(e)}}var Td=PI(),Dd=G0,w0=e=>{Dd=e},B0=(e,t)=>e===t;function Z0(e=si){const t=e===si?Td:PI(e),n=(i,r={})=>{const{equalityFn:o=B0,devModeChecks:g={}}=typeof r=="function"?{equalityFn:r}:r,{store:l,subscription:a,getServerState:s,stabilityCheck:C,identityFunctionCheck:c}=t();Yt.useRef(!0);const A=Yt.useCallback({[i.name](v){return i(v)}}[i.name],[i,C,g.stabilityCheck]),y=Dd(a.addNestedSub,l.getState,s||l.getState,A,o);return Yt.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var S0=Z0();function W0(e){e()}function K0(){let e=null,t=null;return{clear(){e=null,t=null},notify(){W0(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){!i||e===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var VC={notify(){},get:()=>[]};function k0(e,t){let n,i=VC,r=0,o=!1;function g(b){C();const B=i.subscribe(b);let p=!1;return()=>{p||(p=!0,B(),c())}}function l(){i.notify()}function a(){v.onStateChange&&v.onStateChange()}function s(){return o}function C(){r++,n||(n=t?t.addNestedSub(a):e.subscribe(a),i=K0())}function c(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=VC)}function A(){o||(o=!0,C())}function y(){o&&(o=!1,c())}const v={addNestedSub:g,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:s,trySubscribe:A,tryUnsubscribe:y,getListeners:()=>i};return v}var Y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R0=Y0?Yt.useLayoutEffect:Yt.useEffect;function V0({store:e,context:t,children:n,serverState:i,stabilityCheck:r="once",identityFunctionCheck:o="once"}){const g=Yt.useMemo(()=>{const s=k0(e);return{store:e,subscription:s,getServerState:i?()=>i:void 0,stabilityCheck:r,identityFunctionCheck:o}},[e,i,r,o]),l=Yt.useMemo(()=>e.getState(),[e]);R0(()=>{const{subscription:s}=g;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),l!==e.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[g,l]);const a=t||si;return Yt.createElement(a.Provider,{value:g},n)}var L0=V0;function Pd(e=si){const t=e===si?Td:PI(e),n=()=>{const{store:i}=t();return i};return Object.assign(n,{withTypes:()=>n}),n}var X0=Pd();function H0(e=si){const t=e===si?X0:Pd(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var F0=H0();w0(v0.useSyncExternalStoreWithSelector);const Wo=F0,ye=S0;function Qe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _0=typeof Symbol=="function"&&Symbol.observable||"@@observable",LC=_0,Ga=()=>Math.random().toString(36).substring(7).split("").join("."),N0={INIT:`@@redux/INIT${Ga()}`,REPLACE:`@@redux/REPLACE${Ga()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ga()}`},Qg=N0;function MI(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Md(e,t,n){if(typeof e!="function")throw new Error(Qe(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qe(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qe(1));return n(Md)(e,t)}let i=e,r=t,o=new Map,g=o,l=0,a=!1;function s(){g===o&&(g=new Map,o.forEach((B,p)=>{g.set(p,B)}))}function C(){if(a)throw new Error(Qe(3));return r}function c(B){if(typeof B!="function")throw new Error(Qe(4));if(a)throw new Error(Qe(5));let p=!0;s();const f=l++;return g.set(f,B),function(){if(p){if(a)throw new Error(Qe(6));p=!1,s(),g.delete(f),o=null}}}function A(B){if(!MI(B))throw new Error(Qe(7));if(typeof B.type>"u")throw new Error(Qe(8));if(typeof B.type!="string")throw new Error(Qe(17));if(a)throw new Error(Qe(9));try{a=!0,r=i(r,B)}finally{a=!1}return(o=g).forEach(f=>{f()}),B}function y(B){if(typeof B!="function")throw new Error(Qe(10));i=B,A({type:Qg.REPLACE})}function v(){const B=c;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(Qe(11));function f(){const G=p;G.next&&G.next(C())}return f(),{unsubscribe:B(f)}},[LC](){return this}}}return A({type:Qg.INIT}),{dispatch:A,subscribe:c,getState:C,replaceReducer:y,[LC]:v}}function E0(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Qg.INIT})>"u")throw new Error(Qe(12));if(typeof n(void 0,{type:Qg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qe(13))})}function T0(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const g=t[o];typeof e[g]=="function"&&(n[g]=e[g])}const i=Object.keys(n);let r;try{E0(n)}catch(o){r=o}return function(g={},l){if(r)throw r;let a=!1;const s={};for(let C=0;C<i.length;C++){const c=i[C],A=n[c],y=g[c],v=A(y,l);if(typeof v>"u")throw l&&l.type,new Error(Qe(14));s[c]=v,a=a||v!==y}return a=a||i.length!==Object.keys(g).length,a?s:g}}function $g(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function D0(...e){return t=>(n,i)=>{const r=t(n,i);let o=()=>{throw new Error(Qe(15))};const g={getState:r.getState,dispatch:(a,...s)=>o(a,...s)},l=e.map(a=>a(g));return o=$g(...l)(r.dispatch),{...r,dispatch:o}}}function P0(e){return MI(e)&&"type"in e&&typeof e.type=="string"}var xd=Symbol.for("immer-nothing"),XC=Symbol.for("immer-draftable"),Lt=Symbol.for("immer-state");function In(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var dr=Object.getPrototypeOf;function Ii(e){return!!e&&!!e[Lt]}function Tn(e){var t;return e?Od(e)||Array.isArray(e)||!!e[XC]||!!((t=e.constructor)!=null&&t[XC])||kl(e)||Yl(e):!1}var M0=Object.prototype.constructor.toString();function Od(e){if(!e||typeof e!="object")return!1;const t=dr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===M0}function qg(e,t){Kl(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,i)=>t(i,n,e))}function Kl(e){const t=e[Lt];return t?t.type_:Array.isArray(e)?1:kl(e)?2:Yl(e)?3:0}function Ks(e,t){return Kl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function zd(e,t,n){const i=Kl(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function x0(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function kl(e){return e instanceof Map}function Yl(e){return e instanceof Set}function pi(e){return e.copy_||e.base_}function ks(e,t){if(kl(e))return new Map(e);if(Yl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Od(e))return dr(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Lt];let i=Reflect.ownKeys(n);for(let r=0;r<i.length;r++){const o=i[r],g=n[o];g.writable===!1&&(g.writable=!0,g.configurable=!0),(g.get||g.set)&&(n[o]={configurable:!0,writable:!0,enumerable:g.enumerable,value:e[o]})}return Object.create(dr(e),n)}function xI(e,t=!1){return Rl(e)||Ii(e)||!Tn(e)||(Kl(e)>1&&(e.set=e.add=e.clear=e.delete=O0),Object.freeze(e),t&&Object.entries(e).forEach(([n,i])=>xI(i,!0))),e}function O0(){In(2)}function Rl(e){return Object.isFrozen(e)}var z0={};function Vi(e){const t=z0[e];return t||In(0,e),t}var po;function jd(){return po}function j0(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function HC(e,t){t&&(Vi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ys(e){Rs(e),e.drafts_.forEach(J0),e.drafts_=null}function Rs(e){e===po&&(po=e.parent_)}function FC(e){return po=j0(po,e)}function J0(e){const t=e[Lt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function _C(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Lt].modified_&&(Ys(t),In(4)),Tn(e)&&(e=el(t,e),t.parent_||tl(t,e)),t.patches_&&Vi("Patches").generateReplacementPatches_(n[Lt].base_,e,t.patches_,t.inversePatches_)):e=el(t,n,[]),Ys(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xd?e:void 0}function el(e,t,n){if(Rl(t))return t;const i=t[Lt];if(!i)return qg(t,(r,o)=>NC(e,i,t,r,o,n)),t;if(i.scope_!==e)return t;if(!i.modified_)return tl(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let o=r,g=!1;i.type_===3&&(o=new Set(r),r.clear(),g=!0),qg(o,(l,a)=>NC(e,i,r,l,a,n,g)),tl(e,r,!1),n&&e.patches_&&Vi("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function NC(e,t,n,i,r,o,g){if(Ii(r)){const l=o&&t&&t.type_!==3&&!Ks(t.assigned_,i)?o.concat(i):void 0,a=el(e,r,l);if(zd(n,i,a),Ii(a))e.canAutoFreeze_=!1;else return}else g&&n.add(r);if(Tn(r)&&!Rl(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;el(e,r),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&tl(e,r)}}function tl(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xI(t,n)}function U0(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:jd(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,o=OI;n&&(r=[i],o=mo);const{revoke:g,proxy:l}=Proxy.revocable(r,o);return i.draft_=l,i.revoke_=g,l}var OI={get(e,t){if(t===Lt)return e;const n=pi(e);if(!Ks(n,t))return Q0(e,n,t);const i=n[t];return e.finalized_||!Tn(i)?i:i===wa(e.base_,t)?(Ba(e),e.copy_[t]=Ls(i,e)):i},has(e,t){return t in pi(e)},ownKeys(e){return Reflect.ownKeys(pi(e))},set(e,t,n){const i=Jd(pi(e),t);if(i!=null&&i.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const r=wa(pi(e),t),o=r==null?void 0:r[Lt];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(x0(n,r)&&(n!==void 0||Ks(e.base_,t)))return!0;Ba(e),Vs(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return wa(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ba(e),Vs(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=pi(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){In(11)},getPrototypeOf(e){return dr(e.base_)},setPrototypeOf(){In(12)}},mo={};qg(OI,(e,t)=>{mo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});mo.deleteProperty=function(e,t){return mo.set.call(this,e,t,void 0)};mo.set=function(e,t,n){return OI.set.call(this,e[0],t,n,e[0])};function wa(e,t){const n=e[Lt];return(n?pi(n):e)[t]}function Q0(e,t,n){var r;const i=Jd(t,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(e.draft_):void 0}function Jd(e,t){if(!(t in e))return;let n=dr(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=dr(n)}}function Vs(e){e.modified_||(e.modified_=!0,e.parent_&&Vs(e.parent_))}function Ba(e){e.copy_||(e.copy_=ks(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $0=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const g=this;return function(a=o,...s){return g.produce(a,C=>n.call(this,C,...s))}}typeof n!="function"&&In(6),i!==void 0&&typeof i!="function"&&In(7);let r;if(Tn(t)){const o=FC(this),g=Ls(t,void 0);let l=!0;try{r=n(g),l=!1}finally{l?Ys(o):Rs(o)}return HC(o,i),_C(r,o)}else if(!t||typeof t!="object"){if(r=n(t),r===void 0&&(r=t),r===xd&&(r=void 0),this.autoFreeze_&&xI(r,!0),i){const o=[],g=[];Vi("Patches").generateReplacementPatches_(t,r,o,g),i(o,g)}return r}else In(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(g,...l)=>this.produceWithPatches(g,a=>t(a,...l));let i,r;return[this.produce(t,n,(g,l)=>{i=g,r=l}),i,r]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Tn(e)||In(8),Ii(e)&&(e=Ud(e));const t=FC(this),n=Ls(e,void 0);return n[Lt].isManual_=!0,Rs(t),n}finishDraft(e,t){const n=e&&e[Lt];(!n||!n.isManual_)&&In(9);const{scope_:i}=n;return HC(i,t),_C(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(r.path.length===0&&r.op==="replace"){e=r.value;break}}n>-1&&(t=t.slice(n+1));const i=Vi("Patches").applyPatches_;return Ii(e)?i(e,t):this.produce(e,r=>i(r,t))}};function Ls(e,t){const n=kl(e)?Vi("MapSet").proxyMap_(e,t):Yl(e)?Vi("MapSet").proxySet_(e,t):U0(e,t);return(t?t.scope_:jd()).drafts_.push(n),n}function Ud(e){return Ii(e)||In(10,e),Qd(e)}function Qd(e){if(!Tn(e)||Rl(e))return e;const t=e[Lt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ks(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ks(e,!0);return qg(n,(i,r)=>{zd(n,i,Qd(r))}),t&&(t.finalized_=!1),n}var Xt=new $0,$d=Xt.produce;Xt.produceWithPatches.bind(Xt);Xt.setAutoFreeze.bind(Xt);Xt.setUseStrictShallowCopy.bind(Xt);Xt.applyPatches.bind(Xt);Xt.createDraft.bind(Xt);Xt.finishDraft.bind(Xt);function q0(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ey(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ty(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${n}]`)}}var EC=e=>Array.isArray(e)?e:[e];function ny(e){const t=Array.isArray(e[0])?e[0]:e;return ty(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function iy(e,t){const n=[],{length:i}=e;for(let r=0;r<i;r++)n.push(e[r].apply(null,t));return n}var ry=class{constructor(e){this.value=e}deref(){return this.value}},oy=typeof WeakRef<"u"?WeakRef:ry,gy=0,TC=1;function ig(){return{s:gy,v:void 0,o:null,p:null}}function zI(e,t={}){let n=ig();const{resultEqualityCheck:i}=t;let r,o=0;function g(){var c;let l=n;const{length:a}=arguments;for(let A=0,y=a;A<y;A++){const v=arguments[A];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const B=b.get(v);B===void 0?(l=ig(),b.set(v,l)):l=B}else{let b=l.p;b===null&&(l.p=b=new Map);const B=b.get(v);B===void 0?(l=ig(),b.set(v,l)):l=B}}const s=l;let C;if(l.s===TC?C=l.v:(C=e.apply(null,arguments),o++),s.s=TC,i){const A=((c=r==null?void 0:r.deref)==null?void 0:c.call(r))??r;A!=null&&i(A,C)&&(C=A,o!==0&&o--),r=typeof C=="object"&&C!==null||typeof C=="function"?new oy(C):C}return s.v=C,C}return g.clearCache=()=>{n=ig(),g.resetResultsCount()},g.resultsCount=()=>o,g.resetResultsCount=()=>{o=0},g}function qd(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...r)=>{let o=0,g=0,l,a={},s=r.pop();typeof s=="object"&&(a=s,s=r.pop()),q0(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const C={...n,...a},{memoize:c,memoizeOptions:A=[],argsMemoize:y=zI,argsMemoizeOptions:v=[],devModeChecks:b={}}=C,B=EC(A),p=EC(v),f=ny(r),m=c(function(){return o++,s.apply(null,arguments)},...B),G=y(function(){g++;const F=iy(f,arguments);return l=m.apply(null,F),l},...p);return Object.assign(G,{resultFunc:s,memoizedResultFunc:m,dependencies:f,dependencyRecomputations:()=>g,resetDependencyRecomputations:()=>{g=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:c,argsMemoize:y})};return Object.assign(i,{withTypes:()=>i}),i}var ly=qd(zI),ay=Object.assign((e,t=ly)=>{ey(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),i=n.map(o=>e[o]);return t(i,(...o)=>o.reduce((g,l,a)=>(g[n[a]]=l,g),{}))},{withTypes:()=>ay});function eh(e){return({dispatch:n,getState:i})=>r=>o=>typeof o=="function"?o(n,i,e):r(o)}var sy=eh(),Iy=eh,uy=(...e)=>{const t=qd(...e),n=Object.assign((...i)=>{const r=t(...i),o=(g,...l)=>r(Ii(g)?Ud(g):g,...l);return Object.assign(o,r),o},{withTypes:()=>n});return n};uy(zI);var Cy=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$g:$g.apply(null,arguments)};function hr(e,t){function n(...i){if(t){let r=t(...i);if(!r)throw new Error(Gt(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>P0(i)&&i.type===e,n}var th=class Dr extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Dr.prototype)}static get[Symbol.species](){return Dr}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Dr(...t[0].concat(this)):new Dr(...t.concat(this))}};function DC(e){return Tn(e)?$d(e,()=>{}):e}function PC(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(Gt(10));const i=n.insert(t,e);return e.set(t,i),i}function cy(e){return typeof e=="boolean"}var Ay=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:o=!0}=t??{};let g=new th;return n&&(cy(n)?g.push(sy):g.push(Iy(n.extraArgument))),g},dy="RTK_autoBatch",nh=e=>t=>{setTimeout(t,e)},hy=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nh(10),fy=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let r=!0,o=!1,g=!1;const l=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?hy:e.type==="callback"?e.queueNotification:nh(e.timeout),s=()=>{g=!1,o&&(o=!1,l.forEach(C=>C()))};return Object.assign({},i,{subscribe(C){const c=()=>r&&C(),A=i.subscribe(c);return l.add(C),()=>{A(),l.delete(C)}},dispatch(C){var c;try{return r=!((c=C==null?void 0:C.meta)!=null&&c[dy]),o=!r,o&&(g||(g=!0,a(s))),i.dispatch(C)}finally{r=!0}}})},py=e=>function(n){const{autoBatch:i=!0}=n??{};let r=new th(e);return i&&r.push(fy(typeof i=="object"?i:void 0)),r},my=!0;function yy(e){const t=Ay(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:o=void 0,enhancers:g=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(MI(n))l=T0(n);else throw new Error(Gt(1));let a;typeof i=="function"?a=i(t):a=t();let s=$g;r&&(s=Cy({trace:!my,...typeof r=="object"&&r}));const C=D0(...a),c=py(C);let A=typeof g=="function"?g(c):c();const y=s(...A);return Md(l,o,y)}function ih(e){const t={},n=[];let i;const r={addCase(o,g){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(Gt(28));if(l in t)throw new Error(Gt(29));return t[l]=g,r},addMatcher(o,g){return n.push({matcher:o,reducer:g}),r},addDefaultCase(o){return i=o,r}};return e(r),[t,n,i]}function vy(e){return typeof e=="function"}function by(e,t){let[n,i,r]=ih(t),o;if(vy(e))o=()=>DC(e());else{const l=DC(e);o=()=>l}function g(l=o(),a){let s=[n[a.type],...i.filter(({matcher:C})=>C(a)).map(({reducer:C})=>C)];return s.filter(C=>!!C).length===0&&(s=[r]),s.reduce((C,c)=>{if(c)if(Ii(C)){const y=c(C,a);return y===void 0?C:y}else{if(Tn(C))return $d(C,A=>c(A,a));{const A=c(C,a);if(A===void 0){if(C===null)return C;throw new Error(Gt(9))}return A}}return C},l)}return g.getInitialState=o,g}var Gy="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wy=(e=21)=>{let t="",n=e;for(;n--;)t+=Gy[Math.random()*64|0];return t},By=Symbol.for("rtk-slice-createasyncthunk");function Zy(e,t){return`${e}/${t}`}function Sy({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[By];return function(r){const{name:o,reducerPath:g=o}=r;if(!o)throw new Error(Gt(11));typeof process<"u";const l=(typeof r.reducers=="function"?r.reducers(ky()):r.reducers)||{},a=Object.keys(l),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},C={addCase(m,G){const V=typeof m=="string"?m:m.type;if(!V)throw new Error(Gt(12));if(V in s.sliceCaseReducersByType)throw new Error(Gt(13));return s.sliceCaseReducersByType[V]=G,C},addMatcher(m,G){return s.sliceMatchers.push({matcher:m,reducer:G}),C},exposeAction(m,G){return s.actionCreators[m]=G,C},exposeCaseReducer(m,G){return s.sliceCaseReducersByName[m]=G,C}};a.forEach(m=>{const G=l[m],V={reducerName:m,type:Zy(o,m),createNotation:typeof r.reducers=="function"};Ry(G)?Ly(V,G,C,t):Yy(V,G,C)});function c(){const[m={},G=[],V=void 0]=typeof r.extraReducers=="function"?ih(r.extraReducers):[r.extraReducers],F={...m,...s.sliceCaseReducersByType};return by(r.initialState,Y=>{for(let R in F)Y.addCase(R,F[R]);for(let R of s.sliceMatchers)Y.addMatcher(R.matcher,R.reducer);for(let R of G)Y.addMatcher(R.matcher,R.reducer);V&&Y.addDefaultCase(V)})}const A=m=>m,y=new Map;let v;function b(m,G){return v||(v=c()),v(m,G)}function B(){return v||(v=c()),v.getInitialState()}function p(m,G=!1){function V(Y){let R=Y[m];return typeof R>"u"&&G&&(R=B()),R}function F(Y=A){const R=PC(y,G,{insert:()=>new WeakMap});return PC(R,Y,{insert:()=>{const T={};for(const[Z,k]of Object.entries(r.selectors??{}))T[Z]=Wy(k,Y,B,G);return T}})}return{reducerPath:m,getSelectors:F,get selectors(){return F(V)},selectSlice:V}}const f={name:o,reducer:b,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:B,...p(g),injectInto(m,{reducerPath:G,...V}={}){const F=G??g;return m.inject({reducerPath:F,reducer:b},V),{...f,...p(F,!0)}}};return f}}function Wy(e,t,n,i){function r(o,...g){let l=t(o);return typeof l>"u"&&i&&(l=n()),e(l,...g)}return r.unwrapped=e,r}var Ky=Sy();function ky(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Yy({type:e,reducerName:t,createNotation:n},i,r){let o,g;if("reducer"in i){if(n&&!Vy(i))throw new Error(Gt(17));o=i.reducer,g=i.prepare}else o=i;r.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,g?hr(e,g):hr(e))}function Ry(e){return e._reducerDefinitionType==="asyncThunk"}function Vy(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Ly({type:e,reducerName:t},n,i,r){if(!r)throw new Error(Gt(18));const{payloadCreator:o,fulfilled:g,pending:l,rejected:a,settled:s,options:C}=n,c=r(e,o,C);i.exposeAction(t,c),g&&i.addCase(c.fulfilled,g),l&&i.addCase(c.pending,l),a&&i.addCase(c.rejected,a),s&&i.addMatcher(c.settled,s),i.exposeCaseReducer(t,{fulfilled:g||rg,pending:l||rg,rejected:a||rg,settled:s||rg})}function rg(){}var Xy=(e,t)=>{if(typeof e!="function")throw new Error(Gt(32))},jI="listenerMiddleware",Hy=e=>{let{type:t,actionCreator:n,matcher:i,predicate:r,effect:o}=e;if(t)r=hr(t).match;else if(n)t=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error(Gt(21));return Xy(o),{predicate:r,type:t,effect:o}},Fy=Object.assign(e=>{const{type:t,predicate:n,effect:i}=Hy(e);return{id:wy(),effect:i,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Gt(22))}}},{withTypes:()=>Fy}),_y=Object.assign(hr(`${jI}/add`),{withTypes:()=>_y});hr(`${jI}/removeAll`);var Ny=Object.assign(hr(`${jI}/remove`),{withTypes:()=>Ny});function Gt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const rh="https://lottie.host/9ac9c440-c19e-4ac9-b60e-869b6d0ef8cb/7h97gYMCNE.lottie",Ey={src:rh,isJson:!0,theme:"",speed:1,autoplay:!0,loop:!0,backgroundColor:"#F3F6F8",currentFrame:0,totalFrames:0,themes:[],animations:[],activeAnimationId:"",activeThemeId:"",segment:[],segmentInput:[1,2],currentState:"idle",mode:"forward",userSrc:"",useFrameInterpolation:!0,loadTime:{lottieWeb:0,dotLottie:0},markers:[],activeMarker:""},oh=Ky({name:"viewer",initialState:Ey,reducers:{setSrc:(e,t)=>{e.activeAnimationId="",e.activeMarker="",e.markers=[],e.src=t.payload,e.src.endsWith(".json")||e.src.startsWith("data:application/json")?e.isJson=!0:e.isJson=!1},setIsJson:(e,t)=>{e.isJson=t.payload},setTheme:(e,t)=>{e.theme=t.payload},setSpeed:(e,t)=>{e.speed=t.payload},setAutoplay:(e,t)=>{e.autoplay=t.payload},setLoop:(e,t)=>{e.loop=t.payload},setBackgroundColor:(e,t)=>{e.backgroundColor=t.payload},setCurrentFrame:(e,t)=>{e.currentFrame=t.payload},setTotalFrames:(e,t)=>{e.totalFrames=t.payload,e.segmentInput=[1,t.payload]},setCurrentState:(e,t)=>{e.currentState=t.payload},setMdode:(e,t)=>{e.mode=t.payload},setThemes:(e,t)=>{e.themes=t.payload},setAnimations:(e,t)=>{e.animations=t.payload},setActiveAnimationId:(e,t)=>{e.activeAnimationId=t.payload},setActiveThemeId:(e,t)=>{e.activeThemeId=t.payload},setUserSrc:(e,t)=>{e.userSrc=t.payload},resetUserConfig:e=>{e.userSrc="",e.activeAnimationId="",e.activeMarker="",e.markers=[],e.src=rh,e.src.endsWith(".json")||e.src.startsWith("data:application/json")?e.isJson=!0:e.isJson=!1},setLoadTimeDotLottie:(e,t)=>{e.loadTime.dotLottie=t.payload},setLoadTimeLottieWeb:(e,t)=>{e.loadTime.lottieWeb=t.payload},setSegment:(e,t)=>{e.segment=t.payload},setSegmentInput:(e,t)=>{e.segmentInput=t.payload},setUseFrameInterpolation:(e,t)=>{e.useFrameInterpolation=t.payload},setMarkers:(e,t)=>{e.markers=t.payload},setActiveMarker:(e,t)=>{e.activeMarker=t.payload}}}),{setSrc:nl,setTheme:eB,setSpeed:Ty,setAutoplay:tB,setLoop:Dy,setBackgroundColor:Py,setCurrentFrame:My,setTotalFrames:xy,setCurrentState:og,setMdode:Oy,setThemes:MC,setAnimations:xC,setActiveAnimationId:wg,setActiveThemeId:zy,setUserSrc:Xs,resetUserConfig:jy,setIsJson:nB,setLoadTimeDotLottie:Jy,setLoadTimeLottieWeb:Uy,setSegment:Qy,setSegmentInput:$y,setUseFrameInterpolation:qy,setMarkers:ev,setActiveMarker:tv}=oh.actions,nv=oh.reducer;var gh={exports:{}},iv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rv=iv,ov=rv;function lh(){}function ah(){}ah.resetWarningCache=lh;var gv=function(){function e(i,r,o,g,l,a){if(a!==ov){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ah,resetWarningCache:lh};return n.PropTypes=n,n};gh.exports=gv();var lv=gh.exports;const ve=Bc(lv);function yr(e,t,n,i){function r(o){return o instanceof n?o:new n(function(g){g(o)})}return new(n||(n=Promise))(function(o,g){function l(C){try{s(i.next(C))}catch(c){g(c)}}function a(C){try{s(i.throw(C))}catch(c){g(c)}}function s(C){C.done?o(C.value):r(C.value).then(l,a)}s((i=i.apply(e,t||[])).next())})}function vr(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,g;return g={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function l(s){return function(C){return a([s,C])}}function a(s){if(i)throw new TypeError("Generator is already executing.");for(;g&&(g=0,s[0]&&(n=0)),n;)try{if(i=1,r&&(o=s[0]&2?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,r=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){n.label=s[1];break}if(s[0]===6&&n.label<o[1]){n.label=o[1],o=s;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(s);break}o[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(C){s=[6,C],r=0}finally{i=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function OC(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),r,o=[],g;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){g={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(g)throw g.error}}return o}function zC(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,o;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}var av=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Ko(e,t){var n=sv(e);if(typeof n.path!="string"){var i=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof i=="string"&&i.length>0?i:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function sv(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var i=t.split(".").pop().toLowerCase(),r=av.get(i);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}var Iv=[".DS_Store","Thumbs.db"];function uv(e){return yr(this,void 0,void 0,function(){return vr(this,function(t){return il(e)&&Cv(e.dataTransfer)?[2,hv(e.dataTransfer,e.type)]:cv(e)?[2,Av(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,dv(e)]:[2,[]]})})}function Cv(e){return il(e)}function cv(e){return il(e)&&il(e.target)}function il(e){return typeof e=="object"&&e!==null}function Av(e){return Hs(e.target.files).map(function(t){return Ko(t)})}function dv(e){return yr(this,void 0,void 0,function(){var t;return vr(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(i){return i.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(i){return Ko(i)})]}})})}function hv(e,t){return yr(this,void 0,void 0,function(){var n,i;return vr(this,function(r){switch(r.label){case 0:return e.items?(n=Hs(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(fv))]):[3,2];case 1:return i=r.sent(),[2,jC(sh(i))];case 2:return[2,jC(Hs(e.files).map(function(o){return Ko(o)}))]}})})}function jC(e){return e.filter(function(t){return Iv.indexOf(t.name)===-1})}function Hs(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(i)}return t}function fv(e){if(typeof e.webkitGetAsEntry!="function")return JC(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Ih(t):JC(e)}function sh(e){return e.reduce(function(t,n){return zC(zC([],OC(t),!1),OC(Array.isArray(n)?sh(n):[n]),!1)},[])}function JC(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=Ko(t);return Promise.resolve(n)}function pv(e){return yr(this,void 0,void 0,function(){return vr(this,function(t){return[2,e.isDirectory?Ih(e):mv(e)]})})}function Ih(e){var t=e.createReader();return new Promise(function(n,i){var r=[];function o(){var g=this;t.readEntries(function(l){return yr(g,void 0,void 0,function(){var a,s,C;return vr(this,function(c){switch(c.label){case 0:if(l.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=c.sent(),n(a),[3,4];case 3:return s=c.sent(),i(s),[3,4];case 4:return[3,6];case 5:C=Promise.all(l.map(pv)),r.push(C),o(),c.label=6;case 6:return[2]}})})},function(l){i(l)})}o()})}function mv(e){return yr(this,void 0,void 0,function(){return vr(this,function(t){return[2,new Promise(function(n,i){e.file(function(r){var o=Ko(r,e.fullPath);n(o)},function(r){i(r)})})]})})}var yv=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),i=e.name||"",r=(e.type||"").toLowerCase(),o=r.replace(/\/.*$/,"");return n.some(function(g){var l=g.trim().toLowerCase();return l.charAt(0)==="."?i.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):r===l})}return!0};function UC(e){return Gv(e)||bv(e)||Ch(e)||vv()}function vv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bv(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gv(e){if(Array.isArray(e))return Fs(e)}function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function $C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(n),!0).forEach(function(i){uh(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function uh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yo(e,t){return Zv(e)||Bv(e,t)||Ch(e,t)||wv()}function wv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ch(e,t){if(e){if(typeof e=="string")return Fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fs(e,t)}}function Fs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Bv(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],r=!0,o=!1,g,l;try{for(n=n.call(e);!(r=(g=n.next()).done)&&(i.push(g.value),!(t&&i.length===t));r=!0);}catch(a){o=!0,l=a}finally{try{!r&&n.return!=null&&n.return()}finally{if(o)throw l}}return i}}function Zv(e){if(Array.isArray(e))return e}var ch="file-invalid-type",Ah="file-too-large",dh="file-too-small",hh="too-many-files",rl={FileInvalidType:ch,FileTooLarge:Ah,FileTooSmall:dh,TooManyFiles:hh},Sv=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:ch,message:"File type must be ".concat(n)}},qC=function(t){return{code:Ah,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},ec=function(t){return{code:dh,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Wv={code:hh,message:"Too many files"};function fh(e,t){var n=e.type==="application/x-moz-file"||yv(e,t);return[n,n?null:Sv(t)]}function ph(e,t,n){if(yi(e.size))if(yi(t)&&yi(n)){if(e.size>n)return[!1,qC(n)];if(e.size<t)return[!1,ec(t)]}else{if(yi(t)&&e.size<t)return[!1,ec(t)];if(yi(n)&&e.size>n)return[!1,qC(n)]}return[!0,null]}function yi(e){return e!=null}function Kv(e){var t=e.files,n=e.accept,i=e.minSize,r=e.maxSize,o=e.multiple,g=e.maxFiles,l=e.validator;return!o&&t.length>1||o&&g>=1&&t.length>g?!1:t.every(function(a){var s=fh(a,n),C=yo(s,1),c=C[0],A=ph(a,i,r),y=yo(A,1),v=y[0],b=l?l(a):null;return c&&v&&!b})}function ol(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function gg(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function tc(e){e.preventDefault()}function kv(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Yv(e){return e.indexOf("Edge/")!==-1}function Rv(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return kv(e)||Yv(e)}function fn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),g=1;g<r;g++)o[g-1]=arguments[g];return t.some(function(l){return!ol(i)&&l&&l.apply(void 0,[i].concat(o)),ol(i)})}}function Vv(){return"showOpenFilePicker"in window}function Lv(e){if(yi(e)){var t=Object.entries(e).filter(function(n){var i=yo(n,2),r=i[0],o=i[1],g=!0;return mh(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),g=!1),(!Array.isArray(o)||!o.every(yh))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),g=!1),g}).reduce(function(n,i){var r=yo(i,2),o=r[0],g=r[1];return $C($C({},n),{},uh({},o,g))},{});return[{description:"Files",accept:t}]}return e}function Xv(e){if(yi(e))return Object.entries(e).reduce(function(t,n){var i=yo(n,2),r=i[0],o=i[1];return[].concat(UC(t),[r],UC(o))},[]).filter(function(t){return mh(t)||yh(t)}).join(",")}function Hv(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Fv(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function mh(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function yh(e){return/^.*\.[\w]+$/.test(e)}var _v=["children"],Nv=["open"],Ev=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Tv=["refKey","onChange","onClick"];function Dv(e){return xv(e)||Mv(e)||vh(e)||Pv()}function Pv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mv(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xv(e){if(Array.isArray(e))return _s(e)}function Za(e,t){return jv(e)||zv(e,t)||vh(e,t)||Ov()}function Ov(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vh(e,t){if(e){if(typeof e=="string")return _s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _s(e,t)}}function _s(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function zv(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],r=!0,o=!1,g,l;try{for(n=n.call(e);!(r=(g=n.next()).done)&&(i.push(g.value),!(t&&i.length===t));r=!0);}catch(a){o=!0,l=a}finally{try{!r&&n.return!=null&&n.return()}finally{if(o)throw l}}return i}}function jv(e){if(Array.isArray(e))return e}function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nc(Object(n),!0).forEach(function(i){Ns(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gl(e,t){if(e==null)return{};var n=Jv(e,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Jv(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,o;for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}var Vl=_.forwardRef(function(e,t){var n=e.children,i=gl(e,_v),r=Uv(i),o=r.open,g=gl(r,Nv);return _.useImperativeHandle(t,function(){return{open:o}},[o]),Re.createElement(_.Fragment,null,n(ke(ke({},g),{},{open:o})))});Vl.displayName="Dropzone";var bh={disabled:!1,getFilesFromEvent:uv,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Vl.defaultProps=bh;Vl.propTypes={children:ve.func,accept:ve.objectOf(ve.arrayOf(ve.string)),multiple:ve.bool,preventDropOnDocument:ve.bool,noClick:ve.bool,noKeyboard:ve.bool,noDrag:ve.bool,noDragEventsBubbling:ve.bool,minSize:ve.number,maxSize:ve.number,maxFiles:ve.number,disabled:ve.bool,getFilesFromEvent:ve.func,onFileDialogCancel:ve.func,onFileDialogOpen:ve.func,useFsAccessApi:ve.bool,autoFocus:ve.bool,onDragEnter:ve.func,onDragLeave:ve.func,onDragOver:ve.func,onDrop:ve.func,onDropAccepted:ve.func,onDropRejected:ve.func,onError:ve.func,validator:ve.func};const Gh=Vl;var Es={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Uv(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=ke(ke({},bh),e),n=t.accept,i=t.disabled,r=t.getFilesFromEvent,o=t.maxSize,g=t.minSize,l=t.multiple,a=t.maxFiles,s=t.onDragEnter,C=t.onDragLeave,c=t.onDragOver,A=t.onDrop,y=t.onDropAccepted,v=t.onDropRejected,b=t.onFileDialogCancel,B=t.onFileDialogOpen,p=t.useFsAccessApi,f=t.autoFocus,m=t.preventDropOnDocument,G=t.noClick,V=t.noKeyboard,F=t.noDrag,Y=t.noDragEventsBubbling,R=t.onError,T=t.validator,Z=_.useMemo(function(){return Xv(n)},[n]),k=_.useMemo(function(){return Lv(n)},[n]),H=_.useMemo(function(){return typeof B=="function"?B:ic},[B]),N=_.useMemo(function(){return typeof b=="function"?b:ic},[b]),P=_.useRef(null),O=_.useRef(null),Q=_.useReducer(Qv,Es),q=Za(Q,2),L=q[0],M=q[1],j=L.isFocused,le=L.isFileDialogActive,ne=_.useRef(typeof window<"u"&&window.isSecureContext&&p&&Vv()),pe=function(){!ne.current&&le&&setTimeout(function(){if(O.current){var ee=O.current.files;ee.length||(M({type:"closeDialog"}),N())}},300)};_.useEffect(function(){return window.addEventListener("focus",pe,!1),function(){window.removeEventListener("focus",pe,!1)}},[O,le,N,ne]);var ie=_.useRef([]),be=function(ee){P.current&&P.current.contains(ee.target)||(ee.preventDefault(),ie.current=[])};_.useEffect(function(){return m&&(document.addEventListener("dragover",tc,!1),document.addEventListener("drop",be,!1)),function(){m&&(document.removeEventListener("dragover",tc),document.removeEventListener("drop",be))}},[P,m]),_.useEffect(function(){return!i&&f&&P.current&&P.current.focus(),function(){}},[P,f,i]);var Ae=_.useCallback(function(z){R?R(z):console.error(z)},[R]),De=_.useCallback(function(z){z.preventDefault(),z.persist(),_i(z),ie.current=[].concat(Dv(ie.current),[z.target]),gg(z)&&Promise.resolve(r(z)).then(function(ee){if(!(ol(z)&&!Y)){var We=ee.length,Ke=We>0&&Kv({files:ee,accept:Z,minSize:g,maxSize:o,multiple:l,maxFiles:a,validator:T}),Ue=We>0&&!Ke;M({isDragAccept:Ke,isDragReject:Ue,isDragActive:!0,type:"setDraggedFiles"}),s&&s(z)}}).catch(function(ee){return Ae(ee)})},[r,s,Ae,Y,Z,g,o,l,a,T]),$t=_.useCallback(function(z){z.preventDefault(),z.persist(),_i(z);var ee=gg(z);if(ee&&z.dataTransfer)try{z.dataTransfer.dropEffect="copy"}catch{}return ee&&c&&c(z),!1},[c,Y]),gt=_.useCallback(function(z){z.preventDefault(),z.persist(),_i(z);var ee=ie.current.filter(function(Ke){return P.current&&P.current.contains(Ke)}),We=ee.indexOf(z.target);We!==-1&&ee.splice(We,1),ie.current=ee,!(ee.length>0)&&(M({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),gg(z)&&C&&C(z))},[P,C,Y]),Zt=_.useCallback(function(z,ee){var We=[],Ke=[];z.forEach(function(Ue){var en=fh(Ue,Z),Nt=Za(en,2),Zr=Nt[0],Pn=Nt[1],Bn=ph(Ue,g,o),Zn=Za(Bn,2),Sn=Zn[0],Ni=Zn[1],di=T?T(Ue):null;if(Zr&&Sn&&!di)We.push(Ue);else{var Sr=[Pn,Ni];di&&(Sr=Sr.concat(di)),Ke.push({file:Ue,errors:Sr.filter(function(Fl){return Fl})})}}),(!l&&We.length>1||l&&a>=1&&We.length>a)&&(We.forEach(function(Ue){Ke.push({file:Ue,errors:[Wv]})}),We.splice(0)),M({acceptedFiles:We,fileRejections:Ke,type:"setFiles"}),A&&A(We,Ke,ee),Ke.length>0&&v&&v(Ke,ee),We.length>0&&y&&y(We,ee)},[M,l,Z,g,o,a,A,y,v,T]),lt=_.useCallback(function(z){z.preventDefault(),z.persist(),_i(z),ie.current=[],gg(z)&&Promise.resolve(r(z)).then(function(ee){ol(z)&&!Y||Zt(ee,z)}).catch(function(ee){return Ae(ee)}),M({type:"reset"})},[r,Zt,Ae,Y]),Pe=_.useCallback(function(){if(ne.current){M({type:"openDialog"}),H();var z={multiple:l,types:k};window.showOpenFilePicker(z).then(function(ee){return r(ee)}).then(function(ee){Zt(ee,null),M({type:"closeDialog"})}).catch(function(ee){Hv(ee)?(N(ee),M({type:"closeDialog"})):Fv(ee)?(ne.current=!1,O.current?(O.current.value=null,O.current.click()):Ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ae(ee)});return}O.current&&(M({type:"openDialog"}),H(),O.current.value=null,O.current.click())},[M,H,N,p,Zt,Ae,k,l]),at=_.useCallback(function(z){!P.current||!P.current.isEqualNode(z.target)||(z.key===" "||z.key==="Enter"||z.keyCode===32||z.keyCode===13)&&(z.preventDefault(),Pe())},[P,Pe]),ht=_.useCallback(function(){M({type:"focus"})},[]),qt=_.useCallback(function(){M({type:"blur"})},[]),ft=_.useCallback(function(){G||(Rv()?setTimeout(Pe,0):Pe())},[G,Pe]),_t=function(ee){return i?null:ee},_e=function(ee){return V?null:_t(ee)},ge=function(ee){return F?null:_t(ee)},_i=function(ee){Y&&ee.stopPropagation()},St=_.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=z.refKey,We=ee===void 0?"ref":ee,Ke=z.role,Ue=z.onKeyDown,en=z.onFocus,Nt=z.onBlur,Zr=z.onClick,Pn=z.onDragEnter,Bn=z.onDragOver,Zn=z.onDragLeave,Sn=z.onDrop,Ni=gl(z,Ev);return ke(ke(Ns({onKeyDown:_e(fn(Ue,at)),onFocus:_e(fn(en,ht)),onBlur:_e(fn(Nt,qt)),onClick:_t(fn(Zr,ft)),onDragEnter:ge(fn(Pn,De)),onDragOver:ge(fn(Bn,$t)),onDragLeave:ge(fn(Zn,gt)),onDrop:ge(fn(Sn,lt)),role:typeof Ke=="string"&&Ke!==""?Ke:"presentation"},We,P),!i&&!V?{tabIndex:0}:{}),Ni)}},[P,at,ht,qt,ft,De,$t,gt,lt,V,F,i]),wr=_.useCallback(function(z){z.stopPropagation()},[]),Br=_.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=z.refKey,We=ee===void 0?"ref":ee,Ke=z.onChange,Ue=z.onClick,en=gl(z,Tv),Nt=Ns({accept:Z,multiple:l,type:"file",style:{display:"none"},onChange:_t(fn(Ke,lt)),onClick:_t(fn(Ue,wr)),tabIndex:-1},We,O);return ke(ke({},Nt),en)}},[O,n,l,lt,i]);return ke(ke({},L),{},{isFocused:j&&!i,getRootProps:St,getInputProps:Br,rootRef:P,inputRef:O,open:_t(Pe)})}function Qv(e,t){switch(t.type){case"focus":return ke(ke({},e),{},{isFocused:!0});case"blur":return ke(ke({},e),{},{isFocused:!1});case"openDialog":return ke(ke({},Es),{},{isFileDialogActive:!0});case"closeDialog":return ke(ke({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return ke(ke({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return ke(ke({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return ke({},Es);default:return e}}function ic(){}function $v(e){e=e.replace("#","");const t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16),r=(255-t).toString(16).padStart(2,"0"),o=(255-n).toString(16).padStart(2,"0"),g=(255-i).toString(16).padStart(2,"0");return`#${r}${o}${g}`}const qv=({className:e="",onChange:t,value:n,...i})=>{const r=_.useRef(null);return W.jsxs("button",{onClick:()=>{var o;(o=r.current)==null||o.click()},className:`border relative border-subtle rounded-lg bg-subtle w-full p-1 h-9 ${e}`,...i,children:[W.jsx("div",{className:"rounded-lg",style:{backgroundColor:n},children:W.jsx("span",{style:{color:$v(n)},children:n})}),W.jsx("input",{onChange:o=>t(o.target.value),ref:r,type:"color",className:"invisible absolute left-0 bottom-0",defaultValue:n})]})};var wh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rc=Re.createContext&&Re.createContext(wh),eb=["attr","size","title"];function tb(e,t){if(e==null)return{};var n=nb(e,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function nb(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,o;for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ll.apply(this,arguments)}function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oc(Object(n),!0).forEach(function(i){ib(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ib(e,t,n){return t=rb(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rb(e){var t=ob(e,"string");return typeof t=="symbol"?t:String(t)}function ob(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bh(e){return e&&e.map((t,n)=>Re.createElement(t.tag,al({key:n},t.attr),Bh(t.child)))}function br(e){return t=>Re.createElement(gb,ll({attr:al({},e.attr)},t),Bh(e.child))}function gb(e){var t=n=>{var{attr:i,size:r,title:o}=e,g=tb(e,eb),l=r||n.size||"1em",a;return n.className&&(a=n.className),e.className&&(a=(a?a+" ":"")+e.className),Re.createElement("svg",ll({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,g,{className:a,style:al(al({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&Re.createElement("title",null,o),e.children)};return rc!==void 0?Re.createElement(rc.Consumer,null,n=>t(n)):t(wh)}function lb(e){return br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function ab(e){return br({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(e)}function sb(e){return br({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}const lg=({className:e="",items:t,placeholder:n,emptyMessage:i,...r})=>{const o=`border rounded-lg font-bold border-subtle bg-subtle px-2 py-1 h-9 ${e}`,[g,l]=_.useState(()=>n?[{value:"",label:n},...t]:t);return _.useEffect(()=>{l(n?[{value:"",label:n},...t]:t)},[t,n]),t.length===0?W.jsxs("span",{className:"min-h-9 text-gray-500 text-xs flex items-center gap-2 h-10",children:[W.jsx(lb,{}),i]}):W.jsx("select",{className:`${o}`,...r,children:g.map(a=>W.jsx("option",{value:a.value,children:a.label},a.value))})},On=({className:e="",lablel:t,children:n,...i})=>{const r=`flex flex-col gap-1 w-full ${e}`;return W.jsxs("div",{className:r,children:[W.jsx("label",{className:"text-sm font-bold",...i,children:t}),W.jsx("div",{children:n})]})};var vo={},JI={},UI={},Ll={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Direction=void 0,function(t){t.Right="to right",t.Left="to left",t.Down="to bottom",t.Up="to top"}(e.Direction||(e.Direction={}))})(Ll);(function(e){var t=wt&&wt.__spreadArray||function(k,H,N){if(N||arguments.length===2)for(var P=0,O=H.length,Q;P<O;P++)(Q||!(P in H))&&(Q||(Q=Array.prototype.slice.call(H,0,P)),Q[P]=H[P]);return k.concat(Q||Array.prototype.slice.call(H))};Object.defineProperty(e,"__esModule",{value:!0}),e.useThumbOverlap=e.assertUnreachable=e.voidFn=e.getTrackBackground=e.replaceAt=e.schd=e.translate=e.getClosestThumbIndex=e.translateThumbs=e.getPaddingAndBorder=e.getMargin=e.checkInitialOverlap=e.checkValuesAgainstBoundaries=e.checkBoundaries=e.isVertical=e.relativeValue=e.normalizeValue=e.isStepDivisible=e.isTouchEvent=e.getStepDecimals=void 0;var n=_,i=Ll,r=function(k){var H=k.toString().split(".")[1];return H?H.length:0};e.getStepDecimals=r;function o(k){return k.touches&&k.touches.length||k.changedTouches&&k.changedTouches.length}e.isTouchEvent=o;function g(k,H,N){var P=(H-k)/N,O=8,Q=Number(P.toFixed(O));return parseInt(Q.toString(),10)===Q}e.isStepDivisible=g;function l(k,H,N,P,O,Q,q){var L=1e11;if(k=Math.round(k*L)/L,!Q){var M=q[H-1],j=q[H+1];if(M&&M>k)return M;if(j&&j<k)return j}if(k>P)return P;if(k<N)return N;var le=Math.floor(k*L-N*L)%Math.floor(O*L),ne=Math.floor(k*L-Math.abs(le)),pe=le===0?k:ne/L,ie=Math.abs(le/L)<O/2?pe:pe+O,be=(0,e.getStepDecimals)(O);return parseFloat(ie.toFixed(be))}e.normalizeValue=l;function a(k,H,N){return(k-H)/(N-H)}e.relativeValue=a;function s(k){return k===i.Direction.Up||k===i.Direction.Down}e.isVertical=s;function C(k,H,N){if(H>=N)throw new RangeError("min (".concat(H,") is equal/bigger than max (").concat(N,")"));if(k<H)throw new RangeError("value (".concat(k,") is smaller than min (").concat(H,")"));if(k>N)throw new RangeError("value (".concat(k,") is bigger than max (").concat(N,")"))}e.checkBoundaries=C;function c(k,H,N){return k<H?H:k>N?N:k}e.checkValuesAgainstBoundaries=c;function A(k){if(!(k.length<2)&&!k.slice(1).every(function(H,N){return k[N]<=H}))throw new RangeError("values={[".concat(k,"]} needs to be sorted when allowOverlap={false}"))}e.checkInitialOverlap=A;function y(k){var H=window.getComputedStyle(k);return{top:parseInt(H["margin-top"],10),bottom:parseInt(H["margin-bottom"],10),left:parseInt(H["margin-left"],10),right:parseInt(H["margin-right"],10)}}e.getMargin=y;function v(k){var H=window.getComputedStyle(k);return{top:parseInt(H["padding-top"],10)+parseInt(H["border-top-width"],10),bottom:parseInt(H["padding-bottom"],10)+parseInt(H["border-bottom-width"],10),left:parseInt(H["padding-left"],10)+parseInt(H["border-left-width"],10),right:parseInt(H["padding-right"],10)+parseInt(H["border-right-width"],10)}}e.getPaddingAndBorder=v;function b(k,H,N){var P=N?-1:1;k.forEach(function(O,Q){return p(O,P*H[Q].x,H[Q].y)})}e.translateThumbs=b;function B(k,H,N,P){for(var O=0,Q=Z(k[0],H,N,P),q=1;q<k.length;q++){var L=Z(k[q],H,N,P);L<Q&&(Q=L,O=q)}return O}e.getClosestThumbIndex=B;function p(k,H,N){k.style.transform="translate(".concat(H,"px, ").concat(N,"px)")}e.translate=p;var f=function(k){var H=[],N=null,P=function(){for(var O=[],Q=0;Q<arguments.length;Q++)O[Q]=arguments[Q];H=O,!N&&(N=requestAnimationFrame(function(){N=null,k.apply(void 0,H)}))};return P};e.schd=f;function m(k,H,N){var P=k.slice(0);return P[H]=N,P}e.replaceAt=m;function G(k){var H=k.values,N=k.colors,P=k.min,O=k.max,Q=k.direction,q=Q===void 0?i.Direction.Right:Q,L=k.rtl,M=L===void 0?!1:L;M&&q===i.Direction.Right?q=i.Direction.Left:M&&i.Direction.Left&&(q=i.Direction.Right);var j=H.slice(0).sort(function(ne,pe){return ne-pe}).map(function(ne){return(ne-P)/(O-P)*100}),le=j.reduce(function(ne,pe,ie){return"".concat(ne,", ").concat(N[ie]," ").concat(pe,"%, ").concat(N[ie+1]," ").concat(pe,"%")},"");return"linear-gradient(".concat(q,", ").concat(N[0]," 0%").concat(le,", ").concat(N[N.length-1]," 100%)")}e.getTrackBackground=G;function V(){}e.voidFn=V;function F(k){throw new Error("Didn't expect to get here")}e.assertUnreachable=F;var Y=function(k,H,N,P,O){O===void 0&&(O=function(q){return q});var Q=Math.ceil(t([k],Array.from(k.children),!0).reduce(function(q,L){var M=Math.ceil(L.getBoundingClientRect().width);if(L.innerText&&L.innerText.includes(N)&&L.childElementCount===0){var j=L.cloneNode(!0);j.innerHTML=O(H.toFixed(P)),j.style.visibility="hidden",document.body.appendChild(j),M=Math.ceil(j.getBoundingClientRect().width),document.body.removeChild(j)}return M>q?M:q},k.getBoundingClientRect().width));return Q},R=function(k,H,N,P,O,Q,q){q===void 0&&(q=function(j){return j});var L=[],M=function(j){var le=Y(N[j],P[j],O,Q,q),ne=H[j].x;H.forEach(function(pe,ie){var be=pe.x,Ae=Y(N[ie],P[ie],O,Q,q);j!==ie&&(ne>=be&&ne<=be+Ae||ne+le>=be&&ne+le<=be+Ae)&&(L.includes(ie)||(L.push(j),L.push(ie),L=t(t([],L,!0),[j,ie],!1),M(ie)))})};return M(k),Array.from(new Set(L.sort()))},T=function(k,H,N,P,O,Q){P===void 0&&(P=.1),O===void 0&&(O=" - "),Q===void 0&&(Q=function(ie){return ie});var q=(0,e.getStepDecimals)(P),L=(0,n.useState)({}),M=L[0],j=L[1],le=(0,n.useState)(Q(H[N].toFixed(q))),ne=le[0],pe=le[1];return(0,n.useEffect)(function(){if(k){var ie=k.getThumbs();if(ie.length<1)return;var be={},Ae=k.getOffsets(),De=R(N,Ae,ie,H,O,q,Q),$t=Q(H[N].toFixed(q));if(De.length){var gt=De.reduce(function(ht,qt,ft,_t){return ht.length?t(t([],ht,!0),[Ae[_t[ft]].x],!1):[Ae[_t[ft]].x]},[]);if(Math.min.apply(Math,gt)===Ae[N].x){var Zt=[];De.forEach(function(ht){Zt.push(H[ht].toFixed(q))}),$t=Array.from(new Set(Zt.sort(function(ht,qt){return parseFloat(ht)-parseFloat(qt)}))).map(Q).join(O);var lt=Math.min.apply(Math,gt),Pe=Math.max.apply(Math,gt),at=ie[De[gt.indexOf(Pe)]].getBoundingClientRect().width;be.left="".concat(Math.abs(lt-(Pe+at))/2,"px"),be.transform="translate(-50%, 0)"}else be.visibility="hidden"}pe($t),j(be)}},[k,H]),[ne,M]};e.useThumbOverlap=T;function Z(k,H,N,P){var O=k.getBoundingClientRect(),Q=O.left,q=O.top,L=O.width,M=O.height;return s(P)?Math.abs(N-(q+M/2)):Math.abs(H-(Q+L/2))}})(UI);var Ib=wt&&wt.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),ub=wt&&wt.__createBinding||(Object.create?function(e,t,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]}),Cb=wt&&wt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cb=wt&&wt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&ub(t,e,n);return Cb(t,e),t},gc=wt&&wt.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,o;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(JI,"__esModule",{value:!0});var ag=cb(_),ue=UI,xe=Ll,Ab=["ArrowRight","ArrowUp","k","PageUp"],db=["ArrowLeft","ArrowDown","j","PageDown"],hb=function(e){Ib(t,e);function t(n){var i=e.call(this,n)||this;if(i.trackRef=ag.createRef(),i.thumbRefs=[],i.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(i.props.values.length).fill(0).map(function(r,o){return o}),isChanged:!1,markOffsets:[]},i.getOffsets=function(){var r=i.props,o=r.direction,g=r.values,l=r.min,a=r.max,s=i.trackRef.current,C=s.getBoundingClientRect(),c=(0,ue.getPaddingAndBorder)(s);return i.getThumbs().map(function(A,y){var v={x:0,y:0},b=A.getBoundingClientRect(),B=(0,ue.getMargin)(A);switch(o){case xe.Direction.Right:return v.x=(B.left+c.left)*-1,v.y=((b.height-C.height)/2+c.top)*-1,v.x+=C.width*(0,ue.relativeValue)(g[y],l,a)-b.width/2,v;case xe.Direction.Left:return v.x=(B.right+c.right)*-1,v.y=((b.height-C.height)/2+c.top)*-1,v.x+=C.width-C.width*(0,ue.relativeValue)(g[y],l,a)-b.width/2,v;case xe.Direction.Up:return v.x=((b.width-C.width)/2+B.left+c.left)*-1,v.y=-c.left,v.y+=C.height-C.height*(0,ue.relativeValue)(g[y],l,a)-b.height/2,v;case xe.Direction.Down:return v.x=((b.width-C.width)/2+B.left+c.left)*-1,v.y=-c.left,v.y+=C.height*(0,ue.relativeValue)(g[y],l,a)-b.height/2,v;default:return(0,ue.assertUnreachable)(o)}})},i.getThumbs=function(){return i.trackRef&&i.trackRef.current?Array.from(i.trackRef.current.children).filter(function(r){return r.hasAttribute("aria-valuenow")}):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},i.getTargetIndex=function(r){return i.getThumbs().findIndex(function(o){return o===r.target||o.contains(r.target)})},i.addTouchEvents=function(r){document.addEventListener("touchmove",i.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",i.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",i.schdOnEnd,{passive:!1})},i.addMouseEvents=function(r){document.addEventListener("mousemove",i.schdOnMouseMove),document.addEventListener("mouseup",i.schdOnEnd)},i.onMouseDownTrack=function(r){var o;if(r.button===0)if(r.persist(),r.preventDefault(),i.addMouseEvents(r.nativeEvent),i.props.values.length>1&&i.props.draggableTrack){if(i.thumbRefs.some(function(l){var a;return(a=l.current)===null||a===void 0?void 0:a.contains(r.target)}))return;i.setState({draggedTrackPos:[r.clientX,r.clientY]},function(){return i.onMove(r.clientX,r.clientY)})}else{var g=(0,ue.getClosestThumbIndex)(i.thumbRefs.map(function(l){return l.current}),r.clientX,r.clientY,i.props.direction);(o=i.thumbRefs[g].current)===null||o===void 0||o.focus(),i.setState({draggedThumbIndex:g},function(){return i.onMove(r.clientX,r.clientY)})}},i.onResize=function(){(0,ue.translateThumbs)(i.getThumbs(),i.getOffsets(),i.props.rtl),i.calculateMarkOffsets()},i.onTouchStartTrack=function(r){var o;if(r.persist(),i.addTouchEvents(r.nativeEvent),i.props.values.length>1&&i.props.draggableTrack){if(i.thumbRefs.some(function(l){var a;return(a=l.current)===null||a===void 0?void 0:a.contains(r.target)}))return;i.setState({draggedTrackPos:[r.touches[0].clientX,r.touches[0].clientY]},function(){return i.onMove(r.touches[0].clientX,r.touches[0].clientY)})}else{var g=(0,ue.getClosestThumbIndex)(i.thumbRefs.map(function(l){return l.current}),r.touches[0].clientX,r.touches[0].clientY,i.props.direction);(o=i.thumbRefs[g].current)===null||o===void 0||o.focus(),i.setState({draggedThumbIndex:g},function(){return i.onMove(r.touches[0].clientX,r.touches[0].clientY)})}},i.onMouseOrTouchStart=function(r){if(!i.props.disabled){var o=(0,ue.isTouchEvent)(r);if(!(!o&&r.button!==0)){var g=i.getTargetIndex(r);g!==-1&&(o?i.addTouchEvents(r):i.addMouseEvents(r),i.setState({draggedThumbIndex:g,thumbZIndexes:i.state.thumbZIndexes.map(function(l,a){return a===g?Math.max.apply(Math,i.state.thumbZIndexes):l<=i.state.thumbZIndexes[g]?l:l-1})}))}}},i.onMouseMove=function(r){r.preventDefault(),i.onMove(r.clientX,r.clientY)},i.onTouchMove=function(r){r.preventDefault(),i.onMove(r.touches[0].clientX,r.touches[0].clientY)},i.onKeyDown=function(r){var o=i.props,g=o.values,l=o.onChange,a=o.step,s=o.rtl,C=o.direction,c=i.state.isChanged,A=i.getTargetIndex(r.nativeEvent),y=s||C===xe.Direction.Left||C===xe.Direction.Down?-1:1;A!==-1&&(Ab.includes(r.key)?(r.preventDefault(),i.setState({draggedThumbIndex:A,isChanged:!0}),l((0,ue.replaceAt)(g,A,i.normalizeValue(g[A]+y*(r.key==="PageUp"?a*10:a),A)))):db.includes(r.key)?(r.preventDefault(),i.setState({draggedThumbIndex:A,isChanged:!0}),l((0,ue.replaceAt)(g,A,i.normalizeValue(g[A]-y*(r.key==="PageDown"?a*10:a),A)))):r.key==="Tab"?i.setState({draggedThumbIndex:-1},function(){c&&i.fireOnFinalChange()}):c&&i.fireOnFinalChange())},i.onKeyUp=function(r){var o=i.state.isChanged;i.setState({draggedThumbIndex:-1},function(){o&&i.fireOnFinalChange()})},i.onMove=function(r,o){var g=i.state,l=g.draggedThumbIndex,a=g.draggedTrackPos,s=i.props,C=s.direction,c=s.min,A=s.max,y=s.onChange,v=s.values,b=s.step,B=s.rtl;if(l===-1&&a[0]===-1&&a[1]===-1)return null;var p=i.trackRef.current;if(!p)return null;var f=p.getBoundingClientRect(),m=(0,ue.isVertical)(C)?f.height:f.width;if(a[0]!==-1&&a[1]!==-1){var G=r-a[0],V=o-a[1],F=0;switch(C){case xe.Direction.Right:case xe.Direction.Left:F=G/m*(A-c);break;case xe.Direction.Down:case xe.Direction.Up:F=V/m*(A-c);break;default:(0,ue.assertUnreachable)(C)}if(B&&(F*=-1),Math.abs(F)>=b/2){for(var Y=0;Y<i.thumbRefs.length;Y++){if(v[Y]===A&&Math.sign(F)===1||v[Y]===c&&Math.sign(F)===-1)return;var R=v[Y]+F;R>A?F=A-v[Y]:R<c&&(F=c-v[Y])}for(var T=v.slice(0),Y=0;Y<i.thumbRefs.length;Y++)T=(0,ue.replaceAt)(T,Y,i.normalizeValue(v[Y]+F,Y));i.setState({draggedTrackPos:[r,o]}),y(T)}}else{var Z=0;switch(C){case xe.Direction.Right:Z=(r-f.left)/m*(A-c)+c;break;case xe.Direction.Left:Z=(m-(r-f.left))/m*(A-c)+c;break;case xe.Direction.Down:Z=(o-f.top)/m*(A-c)+c;break;case xe.Direction.Up:Z=(m-(o-f.top))/m*(A-c)+c;break;default:(0,ue.assertUnreachable)(C)}B&&(Z=A+c-Z),Math.abs(v[l]-Z)>=b/2&&y((0,ue.replaceAt)(v,l,i.normalizeValue(Z,l)))}},i.normalizeValue=function(r,o){var g=i.props,l=g.min,a=g.max,s=g.step,C=g.allowOverlap,c=g.values;return(0,ue.normalizeValue)(r,o,l,a,s,C,c)},i.onEnd=function(r){if(r.preventDefault(),document.removeEventListener("mousemove",i.schdOnMouseMove),document.removeEventListener("touchmove",i.schdOnTouchMove),document.removeEventListener("mouseup",i.schdOnEnd),document.removeEventListener("touchend",i.schdOnEnd),document.removeEventListener("touchcancel",i.schdOnEnd),i.state.draggedThumbIndex===-1&&i.state.draggedTrackPos[0]===-1&&i.state.draggedTrackPos[1]===-1)return null;i.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},function(){i.fireOnFinalChange()})},i.fireOnFinalChange=function(){i.setState({isChanged:!1});var r=i.props,o=r.onFinalChange,g=r.values;o&&o(g)},i.updateMarkRefs=function(r){if(!r.renderMark){i.numOfMarks=void 0,i.markRefs=void 0;return}i.numOfMarks=(r.max-r.min)/i.props.step,i.markRefs=[];for(var o=0;o<i.numOfMarks+1;o++)i.markRefs[o]=ag.createRef()},i.calculateMarkOffsets=function(){if(!(!i.props.renderMark||!i.trackRef||!i.numOfMarks||!i.markRefs||i.trackRef.current===null)){for(var r=window.getComputedStyle(i.trackRef.current),o=parseInt(r.width,10),g=parseInt(r.height,10),l=parseInt(r.paddingLeft,10),a=parseInt(r.paddingTop,10),s=[],C=0;C<i.numOfMarks+1;C++){var c=9999,A=9999;if(i.markRefs[C].current){var y=i.markRefs[C].current.getBoundingClientRect();c=y.height,A=y.width}i.props.direction===xe.Direction.Left||i.props.direction===xe.Direction.Right?s.push([Math.round(o/i.numOfMarks*C+l-A/2),-Math.round((c-g)/2)]):s.push([Math.round(g/i.numOfMarks*C+a-c/2),-Math.round((A-o)/2)])}i.setState({markOffsets:s})}},n.step===0)throw new Error('"step" property should be a positive number');return i.schdOnMouseMove=(0,ue.schd)(i.onMouseMove),i.schdOnTouchMove=(0,ue.schd)(i.onTouchMove),i.schdOnEnd=(0,ue.schd)(i.onEnd),i.thumbRefs=n.values.map(function(){return ag.createRef()}),i.updateMarkRefs(n),i}return t.prototype.componentDidMount=function(){var n=this,i=this.props,r=i.values,o=i.min,g=i.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",n.onResize)},unobserve:function(){return window.removeEventListener("resize",n.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&(0,ue.checkInitialOverlap)(this.props.values),this.props.values.forEach(function(l){return(0,ue.checkBoundaries)(l,n.props.min,n.props.max)}),this.resizeObserver.observe(this.trackRef.current),(0,ue.translateThumbs)(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),r.forEach(function(l){(0,ue.isStepDivisible)(o,l,g)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})},t.prototype.componentDidUpdate=function(n,i){var r=this.props,o=r.max,g=r.min,l=r.step,a=r.values,s=r.rtl;(n.max!==o||n.min!==g||n.step!==l)&&this.updateMarkRefs(this.props),(0,ue.translateThumbs)(this.getThumbs(),this.getOffsets(),s),(n.max!==o||n.min!==g||n.step!==l||i.markOffsets.length!==this.state.markOffsets.length)&&(this.calculateMarkOffsets(),a.forEach(function(C){(0,ue.isStepDivisible)(g,C,l)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},t.prototype.componentWillUnmount=function(){var n={passive:!1};document.removeEventListener("mousedown",this.onMouseOrTouchStart,n),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},t.prototype.render=function(){var n=this,i=this.props,r=i.renderTrack,o=i.renderThumb,g=i.renderMark,l=g===void 0?function(){return null}:g,a=i.values,s=i.min,C=i.max,c=i.allowOverlap,A=i.disabled,y=this.state,v=y.draggedThumbIndex,b=y.thumbZIndexes,B=y.markOffsets;return r({props:{style:{transform:"scale(1)",cursor:v>-1?"grabbing":this.props.draggableTrack?(0,ue.isVertical)(this.props.direction)?"ns-resize":"ew-resize":a.length===1&&!A?"pointer":"inherit"},onMouseDown:A?ue.voidFn:this.onMouseDownTrack,onTouchStart:A?ue.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:A,children:gc(gc([],B.map(function(p,f,m){return l({props:{style:n.props.direction===xe.Direction.Left||n.props.direction===xe.Direction.Right?{position:"absolute",left:"".concat(p[0],"px"),marginTop:"".concat(p[1],"px")}:{position:"absolute",top:"".concat(p[0],"px"),marginLeft:"".concat(p[1],"px")},key:"mark".concat(f),ref:n.markRefs[f]},index:f})}),!0),a.map(function(p,f){var m=n.state.draggedThumbIndex===f;return o({index:f,value:p,isDragged:m,props:{style:{position:"absolute",zIndex:b[f],cursor:A?"inherit":m?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:f,tabIndex:A?void 0:0,"aria-valuemax":c?C:a[f+1]||C,"aria-valuemin":c?s:a[f-1]||s,"aria-valuenow":p,draggable:!1,ref:n.thumbRefs[f],role:"slider",onKeyDown:A?ue.voidFn:n.onKeyDown,onKeyUp:A?ue.voidFn:n.onKeyUp}})}),!0)})},t.defaultProps={step:1,direction:xe.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},t}(ag.Component);JI.default=hb;(function(e){var t=wt&&wt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.checkValuesAgainstBoundaries=e.relativeValue=e.useThumbOverlap=e.Direction=e.getTrackBackground=e.Range=void 0;var n=t(JI);e.Range=n.default;var i=UI;Object.defineProperty(e,"getTrackBackground",{enumerable:!0,get:function(){return i.getTrackBackground}}),Object.defineProperty(e,"useThumbOverlap",{enumerable:!0,get:function(){return i.useThumbOverlap}}),Object.defineProperty(e,"relativeValue",{enumerable:!0,get:function(){return i.relativeValue}}),Object.defineProperty(e,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return i.checkValuesAgainstBoundaries}});var r=Ll;Object.defineProperty(e,"Direction",{enumerable:!0,get:function(){return r.Direction}})})(vo);const lc=({className:e="",min:t,max:n,step:i=1,allowOverlap:r=!1,values:o,onChange:g,...l})=>W.jsxs("div",{className:`flex gap-1 h-9 w-full ${e}`,...l,children:[W.jsx("div",{className:"flex items-center justify-center rounded-lg bg-subtle text-xs border border-subtle w-16 p-1 text-secondary",children:o.join(" - ")}),W.jsx(vo.Range,{min:t,max:n,step:i,allowOverlap:r,values:o,onChange:a=>{g(a)},renderTrack:({props:a,children:s})=>W.jsx("div",{className:"flex-grow flex bg-subtle border border-subtle overflow-hidden rounded-lg",onMouseDown:C=>{a.onMouseDown(C)},onTouchStart:C=>{a.onTouchStart(C)},style:{...a.style},children:W.jsx("div",{ref:a.ref,style:{background:vo.getTrackBackground({values:o,colors:o.length===2?["#F3F6F8","#80cec8","#F3F6F8"]:["#80cec8","#F3F6F8"],min:t,max:n})},className:"self-center w-full h-full",children:s})}),renderThumb:({props:a})=>W.jsx("div",{...a,className:"rounded-lg border border-subtle h-full w-5 bg-white hover:bg-hover",style:{...a.style}})})]}),fb=({className:e="",onChange:t,items:n,value:i})=>W.jsx("div",{className:`h-9 w-min p-1 text-sm flex justify-evenly gap-1 rounded-lg bg-subtle border border-subtle ${e}`,children:W.jsx(W.Fragment,{children:n.map(r=>W.jsx("button",{className:`text-secondary flex justify-center items-center min-w-9 flex-1 p-2 rounded-lg border font-bold ${i==r.value?"bg-white border-subtle":"bg-subtle border-transparent hover:border-subtle text-tertiary"}`,onClick:()=>{t(r.value)},children:r.label},r.value))})});function pb(){const e=ye(C=>C.viewer.speed),t=ye(C=>C.viewer.animations),n=ye(C=>C.viewer.themes),i=ye(C=>C.viewer.backgroundColor),r=ye(C=>C.viewer.activeAnimationId),o=ye(C=>C.viewer.totalFrames),g=ye(C=>C.viewer.segmentInput),l=ye(C=>C.viewer.useFrameInterpolation),a=ye(C=>C.viewer.markers),s=Wo();return W.jsx("div",{className:"flex border p-4 bg-white rounded-lg h-full",children:W.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[W.jsx(On,{lablel:"backgroundColor",children:W.jsx(qv,{value:i,onChange:C=>{s(Py(C))}})}),W.jsx(On,{lablel:"Speed",children:W.jsx(lc,{min:.5,max:3,step:.5,values:[e],onChange:C=>{s(Ty(C[0]))}})}),W.jsx(On,{lablel:"Mode",children:W.jsx(lg,{className:"w-full",onChange:C=>{s(Oy(C.target.value))},defaultValue:"3",items:[{value:"forward",label:"Forward"},{value:"reverse",label:"Reverse"},{value:"bounce",label:"Bounce"},{value:"reverse-bounce",label:"Reverse Bounce"}]})}),W.jsx(On,{lablel:"Segment",children:W.jsxs("div",{className:"flex gap-2",children:[W.jsx(lc,{min:1,max:o||2,step:1,values:g,onChange:C=>{s($y(C))}}),W.jsx("button",{className:"bg-subtle hover:bg-subtle/60 border border-subtle rounded-lg p-1 px-2 font-bold h-9",onClick:()=>{s(Qy(g))},children:"Apply"})]})}),W.jsx(On,{lablel:"useFrameInterpolation",children:W.jsx(fb,{onChange:C=>{s(qy(C==="true"))},items:[{label:"On",value:"true"},{label:"Off",value:"false"}],value:String(l)})}),W.jsx(On,{lablel:"Animation",children:W.jsx(lg,{className:"w-full",onChange:C=>{s(wg(C.target.value))},value:r,emptyMessage:"Single animation available for this file",placeholder:"Select an Animation",items:t.length===1?[]:t.map(C=>({value:C,label:C}))})}),W.jsx(On,{lablel:"Themes",children:W.jsx(lg,{className:"w-full",onChange:C=>{s(zy(C.target.value))},placeholder:"default theme",emptyMessage:"No themes available for this animation",items:n.map(C=>({value:C.id,label:C.id}))})}),W.jsx(On,{lablel:"Markers",children:W.jsx(lg,{className:"w-full",onChange:C=>{s(tv(C.target.value))},placeholder:"Select a marker",emptyMessage:"No markers available for this animation",items:a.map(C=>({value:C,label:C}))})})]})})}var mb=Object.create,Zh=Object.defineProperty,yb=Object.getOwnPropertyDescriptor,Sh=Object.getOwnPropertyNames,vb=Object.getPrototypeOf,bb=Object.prototype.hasOwnProperty,Gb=(e,t)=>function(){return t||(0,e[Sh(e)[0]])((t={exports:{}}).exports,t),t.exports},wb=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Sh(t))!bb.call(e,r)&&r!==n&&Zh(e,r,{get:()=>t[r],enumerable:!(i=yb(t,r))||i.enumerable});return e},Wh=(e,t,n)=>(n=e!=null?mb(vb(e)):{},wb(t||!e||!e.__esModule?Zh(n,"default",{value:e,enumerable:!0}):n,e)),Kh=Gb({"../../node_modules/.pnpm/debounce@2.0.0/node_modules/debounce/index.js"(e,t){function n(i,r=100,o={}){if(typeof i!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof i}\`.`);if(r<0)throw new RangeError("`wait` must not be negative.");const{immediate:g}=typeof o=="boolean"?{immediate:o}:o;let l,a,s,C,c;function A(){const v=Date.now()-C;if(v<r&&v>=0)s=setTimeout(A,r-v);else if(s=void 0,!g){const b=l,B=a;l=void 0,a=void 0,c=i.apply(b,B)}}const y=function(...v){if(l&&this!==l)throw new Error("Debounced method called with different contexts.");l=this,a=v,C=Date.now();const b=g&&!s;if(s||(s=setTimeout(A,r)),b){const B=l,p=a;l=void 0,a=void 0,c=i.apply(B,p)}return c};return y.clear=()=>{s&&(clearTimeout(s),s=void 0)},y.flush=()=>{if(!s)return;const v=l,b=a;l=void 0,a=void 0,c=i.apply(v,b),clearTimeout(s),s=void 0},y}t.exports.debounce=n,t.exports=n}}),Bb=Object.defineProperty,Zb=(e,t,n)=>t in e?Bb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ae=(e,t,n)=>Zb(e,typeof t!="symbol"?t+"":t,n),Sb=class{requestAnimationFrame(e){return requestAnimationFrame(e)}cancelAnimationFrame(e){cancelAnimationFrame(e)}},Wb=class{constructor(){ae(this,"_lastHandleId",0),ae(this,"_lastImmediate",null)}requestAnimationFrame(e){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate(()=>{e(Date.now())}),this._lastHandleId}cancelAnimationFrame(e){this._lastImmediate&&clearImmediate(this._lastImmediate)}},Kb=class{constructor(){ae(this,"_strategy"),this._strategy=typeof requestAnimationFrame=="function"?new Sb:new Wb}requestAnimationFrame(e){return this._strategy.requestAnimationFrame(e)}cancelAnimationFrame(e){this._strategy.cancelAnimationFrame(e)}},vi=typeof window<"u"&&typeof window.document<"u",Sa=new Uint8Array([80,75,3,4]),kb=["v","ip","op","layers","fr","w","h"],kh="0.30.1",Yh="@lottiefiles/dotlottie-web",Yb=(()=>{var t;var e=typeof document<"u"?(t=document.currentScript)==null?void 0:t.src:void 0;return function(n={}){var i=n,r,o,g=new Promise((I,u)=>{r=I,o=u}),l=Object.assign({},i),a="./this.program",s="";typeof document<"u"&&document.currentScript&&(s=document.currentScript.src),e&&(s=e),s.startsWith("blob:")?s="":s=s.substr(0,s.replace(/[?#].*/,"").lastIndexOf("/")+1);var C=i.print||console.log.bind(console),c=i.printErr||console.error.bind(console);Object.assign(i,l),l=null,i.thisProgram&&(a=i.thisProgram);var A;i.wasmBinary&&(A=i.wasmBinary);var y,v=!1,b,B,p,f,m,G,V,F;function Y(){var I=y.buffer;i.HEAP8=b=new Int8Array(I),i.HEAP16=p=new Int16Array(I),i.HEAPU8=B=new Uint8Array(I),i.HEAPU16=f=new Uint16Array(I),i.HEAP32=m=new Int32Array(I),i.HEAPU32=G=new Uint32Array(I),i.HEAPF32=V=new Float32Array(I),i.HEAPF64=F=new Float64Array(I)}var R=[],T=[],Z=[];function k(){var I=i.preRun.shift();R.unshift(I)}var H=0,N=null;function P(I){var u;throw(u=i.onAbort)==null||u.call(i,I),I="Aborted("+I+")",c(I),v=!0,I=new WebAssembly.RuntimeError(I+". Build with -sASSERTIONS for more info."),o(I),I}var O=I=>I.startsWith("data:application/octet-stream;base64,"),Q;if(Q="DotLottiePlayer.wasm",!O(Q)){var q=Q;Q=i.locateFile?i.locateFile(q,s):s+q}function L(I){if(I==Q&&A)return new Uint8Array(A);throw"both async and sync fetching of the wasm failed"}function M(I){return A||typeof fetch!="function"?Promise.resolve().then(()=>L(I)):fetch(I,{credentials:"same-origin"}).then(u=>{if(!u.ok)throw`failed to load wasm binary file at '${I}'`;return u.arrayBuffer()}).catch(()=>L(I))}function j(I,u,d){return M(I).then(h=>WebAssembly.instantiate(h,u)).then(d,h=>{c(`failed to asynchronously prepare wasm: ${h}`),P(h)})}function le(I,u){var d=Q;return A||typeof WebAssembly.instantiateStreaming!="function"||O(d)||typeof fetch!="function"?j(d,I,u):fetch(d,{credentials:"same-origin"}).then(h=>WebAssembly.instantiateStreaming(h,I).then(u,function(w){return c(`wasm streaming compile failed: ${w}`),c("falling back to ArrayBuffer instantiation"),j(d,I,u)}))}var ne=I=>{for(;0<I.length;)I.shift()(i)},pe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ie=(I,u,d)=>{var h=u+d;for(d=u;I[d]&&!(d>=h);)++d;if(16<d-u&&I.buffer&&pe)return pe.decode(I.subarray(u,d));for(h="";u<d;){var w=I[u++];if(w&128){var S=I[u++]&63;if((w&224)==192)h+=String.fromCharCode((w&31)<<6|S);else{var D=I[u++]&63;w=(w&240)==224?(w&15)<<12|S<<6|D:(w&7)<<18|S<<12|D<<6|I[u++]&63,65536>w?h+=String.fromCharCode(w):(w-=65536,h+=String.fromCharCode(55296|w>>10,56320|w&1023))}}else h+=String.fromCharCode(w)}return h};class be{constructor(u){this.ya=u-24}}var Ae=0,De=I=>{for(var u=0,d=0;d<I.length;++d){var h=I.charCodeAt(d);127>=h?u++:2047>=h?u+=2:55296<=h&&57343>=h?(u+=4,++d):u+=3}return u},$t=(I,u,d,h)=>{if(0<h){h=d+h-1;for(var w=0;w<I.length;++w){var S=I.charCodeAt(w);if(55296<=S&&57343>=S){var D=I.charCodeAt(++w);S=65536+((S&1023)<<10)|D&1023}if(127>=S){if(d>=h)break;u[d++]=S}else{if(2047>=S){if(d+1>=h)break;u[d++]=192|S>>6}else{if(65535>=S){if(d+2>=h)break;u[d++]=224|S>>12}else{if(d+3>=h)break;u[d++]=240|S>>18,u[d++]=128|S>>12&63}u[d++]=128|S>>6&63}u[d++]=128|S&63}}u[d]=0}},gt={},Zt=I=>{for(;I.length;){var u=I.pop();I.pop()(u)}};function lt(I){return this.fromWireType(G[I>>2])}var Pe={},at={},ht={},qt,ft=(I,u,d)=>{function h(X){if(X=d(X),X.length!==I.length)throw new qt("Mismatched type converter count");for(var J=0;J<I.length;++J)St(I[J],X[J])}I.forEach(function(X){ht[X]=u});var w=Array(u.length),S=[],D=0;u.forEach((X,J)=>{at.hasOwnProperty(X)?w[J]=at[X]:(S.push(X),Pe.hasOwnProperty(X)||(Pe[X]=[]),Pe[X].push(()=>{w[J]=at[X],++D,D===S.length&&h(w)}))}),S.length===0&&h(w)},_t,_e=I=>{for(var u="";B[I];)u+=_t[B[I++]];return u},ge;function _i(I,u,d={}){var h=u.name;if(!I)throw new ge(`type "${h}" must have a positive integer typeid pointer`);if(at.hasOwnProperty(I)){if(d.ib)return;throw new ge(`Cannot register type '${h}' twice`)}at[I]=u,delete ht[I],Pe.hasOwnProperty(I)&&(u=Pe[I],delete Pe[I],u.forEach(w=>w()))}function St(I,u,d={}){if(!("argPackAdvance"in u))throw new TypeError("registerType registeredInstance requires argPackAdvance");return _i(I,u,d)}var wr=I=>{throw new ge(I.ma.za.xa.name+" instance already deleted")},Br=!1,z=()=>{},ee=(I,u,d)=>u===d?I:d.Ca===void 0?null:(I=ee(I,u,d.Ca),I===null?null:d.ab(I)),We={},Ke=[],Ue=()=>{for(;Ke.length;){var I=Ke.pop();I.ma.Ka=!1,I.delete()}},en,Nt={},Zr=(I,u)=>{if(u===void 0)throw new ge("ptr should not be undefined");for(;I.Ca;)u=I.Na(u),I=I.Ca;return Nt[u]},Pn=(I,u)=>{if(!u.za||!u.ya)throw new qt("makeClassHandle requires ptr and ptrType");if(!!u.Da!=!!u.Aa)throw new qt("Both smartPtrType and smartPtr must be specified");return u.count={value:1},Bn(Object.create(I,{ma:{value:u,writable:!0}}))},Bn=I=>typeof FinalizationRegistry>"u"?(Bn=u=>u,I):(Br=new FinalizationRegistry(u=>{u=u.ma,--u.count.value,u.count.value===0&&(u.Aa?u.Da.Fa(u.Aa):u.za.xa.Fa(u.ya))}),Bn=u=>{var d=u.ma;return d.Aa&&Br.register(u,{ma:d},u),u},z=u=>{Br.unregister(u)},Bn(I));function Zn(){}var Sn=(I,u)=>Object.defineProperty(u,"name",{value:I}),Ni=(I,u,d)=>{if(I[u].Ba===void 0){var h=I[u];I[u]=function(...w){if(!I[u].Ba.hasOwnProperty(w.length))throw new ge(`Function '${d}' called with an invalid number of arguments (${w.length}) - expects one of (${I[u].Ba})!`);return I[u].Ba[w.length].apply(this,w)},I[u].Ba=[],I[u].Ba[h.Oa]=h}},di=(I,u,d)=>{if(i.hasOwnProperty(I)){if(d===void 0||i[I].Ba!==void 0&&i[I].Ba[d]!==void 0)throw new ge(`Cannot register public name '${I}' twice`);if(Ni(i,I,I),i.hasOwnProperty(d))throw new ge(`Cannot register multiple overloads of a function with the same number of arguments (${d})!`);i[I].Ba[d]=u}else i[I]=u,d!==void 0&&(i[I].vb=d)},Sr=I=>{if(I===void 0)return"_unknown";I=I.replace(/[^a-zA-Z0-9_]/g,"$");var u=I.charCodeAt(0);return 48<=u&&57>=u?`_${I}`:I};function Fl(I,u,d,h,w,S,D,X){this.name=I,this.constructor=u,this.La=d,this.Fa=h,this.Ca=w,this.cb=S,this.Na=D,this.ab=X,this.kb=[]}var _l=(I,u,d)=>{for(;u!==d;){if(!u.Na)throw new ge(`Expected null or instance of ${d.name}, got an instance of ${u.name}`);I=u.Na(I),u=u.Ca}return I};function lf(I,u){if(u===null){if(this.Ta)throw new ge(`null is not a valid ${this.name}`);return 0}if(!u.ma)throw new ge(`Cannot pass "${xl(u)}" as a ${this.name}`);if(!u.ma.ya)throw new ge(`Cannot pass deleted object as a pointer of type ${this.name}`);return _l(u.ma.ya,u.ma.za.xa,this.xa)}function af(I,u){if(u===null){if(this.Ta)throw new ge(`null is not a valid ${this.name}`);if(this.Qa){var d=this.Ua();return I!==null&&I.push(this.Fa,d),d}return 0}if(!u||!u.ma)throw new ge(`Cannot pass "${xl(u)}" as a ${this.name}`);if(!u.ma.ya)throw new ge(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.Pa&&u.ma.za.Pa)throw new ge(`Cannot convert argument of type ${u.ma.Da?u.ma.Da.name:u.ma.za.name} to parameter type ${this.name}`);if(d=_l(u.ma.ya,u.ma.za.xa,this.xa),this.Qa){if(u.ma.Aa===void 0)throw new ge("Passing raw pointer to smart pointer is illegal");switch(this.pb){case 0:if(u.ma.Da===this)d=u.ma.Aa;else throw new ge(`Cannot convert argument of type ${u.ma.Da?u.ma.Da.name:u.ma.za.name} to parameter type ${this.name}`);break;case 1:d=u.ma.Aa;break;case 2:if(u.ma.Da===this)d=u.ma.Aa;else{var h=u.clone();d=this.lb(d,Ho(()=>h.delete())),I!==null&&I.push(this.Fa,d)}break;default:throw new ge("Unsupporting sharing policy")}}return d}function sf(I,u){if(u===null){if(this.Ta)throw new ge(`null is not a valid ${this.name}`);return 0}if(!u.ma)throw new ge(`Cannot pass "${xl(u)}" as a ${this.name}`);if(!u.ma.ya)throw new ge(`Cannot pass deleted object as a pointer of type ${this.name}`);if(u.ma.za.Pa)throw new ge(`Cannot convert argument of type ${u.ma.za.name} to parameter type ${this.name}`);return _l(u.ma.ya,u.ma.za.xa,this.xa)}function Wr(I,u,d,h,w,S,D,X,J,x,U){this.name=I,this.xa=u,this.Ta=d,this.Pa=h,this.Qa=w,this.jb=S,this.pb=D,this.Za=X,this.Ua=J,this.lb=x,this.Fa=U,w||u.Ca!==void 0?this.toWireType=af:(this.toWireType=h?lf:sf,this.Ea=null)}var gu=(I,u,d)=>{if(!i.hasOwnProperty(I))throw new qt("Replacing nonexistent public symbol");i[I].Ba!==void 0&&d!==void 0?i[I].Ba[d]=u:(i[I]=u,i[I].Oa=d)},Et,If=(I,u,d=[])=>(I.includes("j")?(I=I.replace(/p/g,"i"),u=(0,i["dynCall_"+I])(u,...d)):u=Et.get(u)(...d),u),uf=(I,u)=>(...d)=>If(I,u,d),st=(I,u)=>{I=_e(I);var d=I.includes("j")?uf(I,u):Et.get(u);if(typeof d!="function")throw new ge(`unknown function pointer with signature ${I}: ${u}`);return d},lu,au=I=>{I=fu(I);var u=_e(I);return Kn(I),u},Xo=(I,u)=>{function d(S){w[S]||at[S]||(ht[S]?ht[S].forEach(d):(h.push(S),w[S]=!0))}var h=[],w={};throw u.forEach(d),new lu(`${I}: `+h.map(au).join([", "]))},Nl=(I,u)=>{for(var d=[],h=0;h<I;h++)d.push(G[u+4*h>>2]);return d};function Cf(I){for(var u=1;u<I.length;++u)if(I[u]!==null&&I[u].Ea===void 0)return!0;return!1}function El(I,u,d,h,w){var S=u.length;if(2>S)throw new ge("argTypes array size mismatch! Must at least get return value and 'this' types!");var D=u[1]!==null&&d!==null,X=Cf(u),J=u[0].name!=="void",x=S-2,U=Array(x),Ie=[],de=[];return Sn(I,function(...K){if(K.length!==x)throw new ge(`function ${I} called with ${K.length} arguments, expected ${x}`);if(de.length=0,Ie.length=D?2:1,Ie[0]=w,D){var te=u[1].toWireType(de,this);Ie[1]=te}for(var re=0;re<x;++re)U[re]=u[re+2].toWireType(de,K[re]),Ie.push(U[re]);if(K=h(...Ie),X)Zt(de);else for(re=D?1:2;re<u.length;re++){var Me=re===1?te:U[re-2];u[re].Ea!==null&&u[re].Ea(Me)}return te=J?u[0].fromWireType(K):void 0,te})}var su=I=>{I=I.trim();let u=I.indexOf("(");return u!==-1?I.substr(0,u):I},Tl=[],Wn=[],Dl=I=>{9<I&&--Wn[I+1]===0&&(Wn[I]=void 0,Tl.push(I))},Pl=I=>{if(!I)throw new ge("Cannot use deleted val. handle = "+I);return Wn[I]},Ho=I=>{switch(I){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let u=Tl.pop()||Wn.length;return Wn[u]=I,Wn[u+1]=1,u}},Iu={name:"emscripten::val",fromWireType:I=>{var u=Pl(I);return Dl(I),u},toWireType:(I,u)=>Ho(u),argPackAdvance:8,readValueFromPointer:lt,Ea:null},cf=(I,u,d)=>{switch(u){case 1:return d?function(h){return this.fromWireType(b[h])}:function(h){return this.fromWireType(B[h])};case 2:return d?function(h){return this.fromWireType(p[h>>1])}:function(h){return this.fromWireType(f[h>>1])};case 4:return d?function(h){return this.fromWireType(m[h>>2])}:function(h){return this.fromWireType(G[h>>2])};default:throw new TypeError(`invalid integer width (${u}): ${I}`)}},Ml=(I,u)=>{var d=at[I];if(d===void 0)throw I=`${u} has unknown type ${au(I)}`,new ge(I);return d},xl=I=>{if(I===null)return"null";var u=typeof I;return u==="object"||u==="array"||u==="function"?I.toString():""+I},Af=(I,u)=>{switch(u){case 4:return function(d){return this.fromWireType(V[d>>2])};case 8:return function(d){return this.fromWireType(F[d>>3])};default:throw new TypeError(`invalid float width (${u}): ${I}`)}},df=(I,u,d)=>{switch(u){case 1:return d?h=>b[h]:h=>B[h];case 2:return d?h=>p[h>>1]:h=>f[h>>1];case 4:return d?h=>m[h>>2]:h=>G[h>>2];default:throw new TypeError(`invalid integer width (${u}): ${I}`)}},uu=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,hf=(I,u)=>{for(var d=I>>1,h=d+u/2;!(d>=h)&&f[d];)++d;if(d<<=1,32<d-I&&uu)return uu.decode(B.subarray(I,d));for(d="",h=0;!(h>=u/2);++h){var w=p[I+2*h>>1];if(w==0)break;d+=String.fromCharCode(w)}return d},ff=(I,u,d)=>{if(d??(d=2147483647),2>d)return 0;d-=2;var h=u;d=d<2*I.length?d/2:I.length;for(var w=0;w<d;++w)p[u>>1]=I.charCodeAt(w),u+=2;return p[u>>1]=0,u-h},pf=I=>2*I.length,mf=(I,u)=>{for(var d=0,h="";!(d>=u/4);){var w=m[I+4*d>>2];if(w==0)break;++d,65536<=w?(w-=65536,h+=String.fromCharCode(55296|w>>10,56320|w&1023)):h+=String.fromCharCode(w)}return h},yf=(I,u,d)=>{if(d??(d=2147483647),4>d)return 0;var h=u;d=h+d-4;for(var w=0;w<I.length;++w){var S=I.charCodeAt(w);if(55296<=S&&57343>=S){var D=I.charCodeAt(++w);S=65536+((S&1023)<<10)|D&1023}if(m[u>>2]=S,u+=4,u+4>d)break}return m[u>>2]=0,u-h},vf=I=>{for(var u=0,d=0;d<I.length;++d){var h=I.charCodeAt(d);55296<=h&&57343>=h&&++d,u+=4}return u},Ol=[],bf=I=>{var u=Ol.length;return Ol.push(I),u},Gf=(I,u)=>{for(var d=Array(I),h=0;h<I;++h)d[h]=Ml(G[u+4*h>>2],"parameter "+h);return d},wf=Reflect.construct,zl={},Cu=()=>{if(!jl){var I={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:a||"./this.program"},u;for(u in zl)zl[u]===void 0?delete I[u]:I[u]=zl[u];var d=[];for(u in I)d.push(`${u}=${I[u]}`);jl=d}return jl},jl,Bf=[null,[],[]],Zf=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return I=>crypto.getRandomValues(I);P("initRandomDevice")},cu=I=>(cu=Zf())(I),Fo=I=>I%4===0&&(I%100!==0||I%400===0),Au=[31,29,31,30,31,30,31,31,30,31,30,31],du=[31,28,31,30,31,30,31,31,30,31,30,31];function Sf(I){var u=Array(De(I)+1);return $t(I,u,0,u.length),u}var Wf=(I,u,d,h)=>{function w(K,te,re){for(K=typeof K=="number"?K.toString():K||"";K.length<te;)K=re[0]+K;return K}function S(K,te){return w(K,te,"0")}function D(K,te){function re(Mn){return 0>Mn?-1:0<Mn?1:0}var Me;return(Me=re(K.getFullYear()-te.getFullYear()))===0&&(Me=re(K.getMonth()-te.getMonth()))===0&&(Me=re(K.getDate()-te.getDate())),Me}function X(K){switch(K.getDay()){case 0:return new Date(K.getFullYear()-1,11,29);case 1:return K;case 2:return new Date(K.getFullYear(),0,3);case 3:return new Date(K.getFullYear(),0,2);case 4:return new Date(K.getFullYear(),0,1);case 5:return new Date(K.getFullYear()-1,11,31);case 6:return new Date(K.getFullYear()-1,11,30)}}function J(K){var te=K.Ia;for(K=new Date(new Date(K.Ja+1900,0,1).getTime());0<te;){var re=K.getMonth(),Me=(Fo(K.getFullYear())?Au:du)[re];if(te>Me-K.getDate())te-=Me-K.getDate()+1,K.setDate(1),11>re?K.setMonth(re+1):(K.setMonth(0),K.setFullYear(K.getFullYear()+1));else{K.setDate(K.getDate()+te);break}}return re=new Date(K.getFullYear()+1,0,4),te=X(new Date(K.getFullYear(),0,4)),re=X(re),0>=D(te,K)?0>=D(re,K)?K.getFullYear()+1:K.getFullYear():K.getFullYear()-1}var x=G[h+40>>2];h={sb:m[h>>2],rb:m[h+4>>2],Ra:m[h+8>>2],Va:m[h+12>>2],Sa:m[h+16>>2],Ja:m[h+20>>2],Ga:m[h+24>>2],Ia:m[h+28>>2],wb:m[h+32>>2],qb:m[h+36>>2],tb:x&&x?ie(B,x):""},d=d?ie(B,d):"",x={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var U in x)d=d.replace(new RegExp(U,"g"),x[U]);var Ie="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),de="January February March April May June July August September October November December".split(" ");x={"%a":K=>Ie[K.Ga].substring(0,3),"%A":K=>Ie[K.Ga],"%b":K=>de[K.Sa].substring(0,3),"%B":K=>de[K.Sa],"%C":K=>S((K.Ja+1900)/100|0,2),"%d":K=>S(K.Va,2),"%e":K=>w(K.Va,2," "),"%g":K=>J(K).toString().substring(2),"%G":J,"%H":K=>S(K.Ra,2),"%I":K=>(K=K.Ra,K==0?K=12:12<K&&(K-=12),S(K,2)),"%j":K=>{for(var te=0,re=0;re<=K.Sa-1;te+=(Fo(K.Ja+1900)?Au:du)[re++]);return S(K.Va+te,3)},"%m":K=>S(K.Sa+1,2),"%M":K=>S(K.rb,2),"%n":()=>`
`,"%p":K=>0<=K.Ra&&12>K.Ra?"AM":"PM","%S":K=>S(K.sb,2),"%t":()=>"	","%u":K=>K.Ga||7,"%U":K=>S(Math.floor((K.Ia+7-K.Ga)/7),2),"%V":K=>{var te=Math.floor((K.Ia+7-(K.Ga+6)%7)/7);if(2>=(K.Ga+371-K.Ia-2)%7&&te++,te)te==53&&(re=(K.Ga+371-K.Ia)%7,re==4||re==3&&Fo(K.Ja)||(te=1));else{te=52;var re=(K.Ga+7-K.Ia-1)%7;(re==4||re==5&&Fo(K.Ja%400-1))&&te++}return S(te,2)},"%w":K=>K.Ga,"%W":K=>S(Math.floor((K.Ia+7-(K.Ga+6)%7)/7),2),"%y":K=>(K.Ja+1900).toString().substring(2),"%Y":K=>K.Ja+1900,"%z":K=>{K=K.qb;var te=0<=K;return K=Math.abs(K)/60,(te?"+":"-")+("0000"+(K/60*100+K%60)).slice(-4)},"%Z":K=>K.tb,"%%":()=>"%"},d=d.replace(/%%/g,"\0\0");for(U in x)d.includes(U)&&(d=d.replace(new RegExp(U,"g"),x[U](h)));return d=d.replace(/\0\0/g,"%"),U=Sf(d),U.length>u?0:(b.set(U,I),U.length-1)};qt=i.InternalError=class extends Error{constructor(I){super(I),this.name="InternalError"}};for(var hu=Array(256),_o=0;256>_o;++_o)hu[_o]=String.fromCharCode(_o);_t=hu,ge=i.BindingError=class extends Error{constructor(I){super(I),this.name="BindingError"}},Object.assign(Zn.prototype,{isAliasOf:function(I){if(!(this instanceof Zn&&I instanceof Zn))return!1;var u=this.ma.za.xa,d=this.ma.ya;I.ma=I.ma;var h=I.ma.za.xa;for(I=I.ma.ya;u.Ca;)d=u.Na(d),u=u.Ca;for(;h.Ca;)I=h.Na(I),h=h.Ca;return u===h&&d===I},clone:function(){if(this.ma.ya||wr(this),this.ma.Ma)return this.ma.count.value+=1,this;var I=Bn,u=Object,d=u.create,h=Object.getPrototypeOf(this),w=this.ma;return I=I(d.call(u,h,{ma:{value:{count:w.count,Ka:w.Ka,Ma:w.Ma,ya:w.ya,za:w.za,Aa:w.Aa,Da:w.Da}}})),I.ma.count.value+=1,I.ma.Ka=!1,I},delete(){if(this.ma.ya||wr(this),this.ma.Ka&&!this.ma.Ma)throw new ge("Object already scheduled for deletion");z(this);var I=this.ma;--I.count.value,I.count.value===0&&(I.Aa?I.Da.Fa(I.Aa):I.za.xa.Fa(I.ya)),this.ma.Ma||(this.ma.Aa=void 0,this.ma.ya=void 0)},isDeleted:function(){return!this.ma.ya},deleteLater:function(){if(this.ma.ya||wr(this),this.ma.Ka&&!this.ma.Ma)throw new ge("Object already scheduled for deletion");return Ke.push(this),Ke.length===1&&en&&en(Ue),this.ma.Ka=!0,this}}),i.getInheritedInstanceCount=()=>Object.keys(Nt).length,i.getLiveInheritedInstances=()=>{var I=[],u;for(u in Nt)Nt.hasOwnProperty(u)&&I.push(Nt[u]);return I},i.flushPendingDeletes=Ue,i.setDelayFunction=I=>{en=I,Ke.length&&en&&en(Ue)},Object.assign(Wr.prototype,{eb(I){return this.Za&&(I=this.Za(I)),I},Xa(I){var u;(u=this.Fa)==null||u.call(this,I)},argPackAdvance:8,readValueFromPointer:lt,fromWireType:function(I){function u(){return this.Qa?Pn(this.xa.La,{za:this.jb,ya:d,Da:this,Aa:I}):Pn(this.xa.La,{za:this,ya:I})}var d=this.eb(I);if(!d)return this.Xa(I),null;var h=Zr(this.xa,d);if(h!==void 0)return h.ma.count.value===0?(h.ma.ya=d,h.ma.Aa=I,h.clone()):(h=h.clone(),this.Xa(I),h);if(h=this.xa.cb(d),h=We[h],!h)return u.call(this);h=this.Pa?h.$a:h.pointerType;var w=ee(d,this.xa,h.xa);return w===null?u.call(this):this.Qa?Pn(h.xa.La,{za:h,ya:w,Da:this,Aa:I}):Pn(h.xa.La,{za:h,ya:w})}}),lu=i.UnboundTypeError=((I,u)=>{var d=Sn(u,function(h){this.name=u,this.message=h,h=Error(h).stack,h!==void 0&&(this.stack=this.toString()+`
`+h.replace(/^Error(:[^\n]*)?\n/,""))});return d.prototype=Object.create(I.prototype),d.prototype.constructor=d,d.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},d})(Error,"UnboundTypeError"),Wn.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=()=>Wn.length/2-5-Tl.length;var Kf={c:(I,u,d,h)=>{P(`Assertion failed: ${I?ie(B,I):""}, at: `+[u?u?ie(B,u):"":"unknown filename",d,h?h?ie(B,h):"":"unknown function"])},m:(I,u,d)=>{var h=new be(I);throw G[h.ya+16>>2]=0,G[h.ya+4>>2]=u,G[h.ya+8>>2]=d,Ae=I,Ae},C:function(){return 0},Q:()=>{},N:()=>{},R:function(){return 0},O:()=>{},B:function(){},P:()=>{},v:I=>{var u=gt[I];delete gt[I];var d=u.Ua,h=u.Fa,w=u.Ya,S=w.map(D=>D.hb).concat(w.map(D=>D.nb));ft([I],S,D=>{var X={};return w.forEach((J,x)=>{var U=D[x],Ie=J.fb,de=J.gb,K=D[x+w.length],te=J.mb,re=J.ob;X[J.bb]={read:Me=>U.fromWireType(Ie(de,Me)),write:(Me,Mn)=>{var Wt=[];te(re,Me,K.toWireType(Wt,Mn)),Zt(Wt)}}}),[{name:u.name,fromWireType:J=>{var x={},U;for(U in X)x[U]=X[U].read(J);return h(J),x},toWireType:(J,x)=>{for(var U in X)if(!(U in x))throw new TypeError(`Missing field: "${U}"`);var Ie=d();for(U in X)X[U].write(Ie,x[U]);return J!==null&&J.push(h,Ie),Ie},argPackAdvance:8,readValueFromPointer:lt,Ea:h}]})},J:()=>{},Y:(I,u,d,h)=>{u=_e(u),St(I,{name:u,fromWireType:function(w){return!!w},toWireType:function(w,S){return S?d:h},argPackAdvance:8,readValueFromPointer:function(w){return this.fromWireType(B[w])},Ea:null})},r:(I,u,d,h,w,S,D,X,J,x,U,Ie,de)=>{U=_e(U),S=st(w,S),X&&(X=st(D,X)),x&&(x=st(J,x)),de=st(Ie,de);var K=Sr(U);di(K,function(){Xo(`Cannot construct ${U} due to unbound types`,[h])}),ft([I,u,d],h?[h]:[],te=>{if(te=te[0],h)var re=te.xa,Me=re.La;else Me=Zn.prototype;te=Sn(U,function(...Ul){if(Object.getPrototypeOf(this)!==Mn)throw new ge("Use 'new' to construct "+U);if(Wt.Ha===void 0)throw new ge(U+" has no accessible constructor");var yu=Wt.Ha[Ul.length];if(yu===void 0)throw new ge(`Tried to invoke ctor of ${U} with invalid number of parameters (${Ul.length}) - expected (${Object.keys(Wt.Ha).toString()}) parameters instead!`);return yu.apply(this,Ul)});var Mn=Object.create(Me,{constructor:{value:te}});te.prototype=Mn;var Wt=new Fl(U,te,Mn,de,re,S,X,x);if(Wt.Ca){var Kr;(Kr=Wt.Ca).Wa??(Kr.Wa=[]),Wt.Ca.Wa.push(Wt)}return re=new Wr(U,Wt,!0,!1,!1),Kr=new Wr(U+"*",Wt,!1,!1,!1),Me=new Wr(U+" const*",Wt,!1,!0,!1),We[I]={pointerType:Kr,$a:Me},gu(K,te),[re,Kr,Me]})},q:(I,u,d,h,w,S)=>{var D=Nl(u,d);w=st(h,w),ft([],[I],X=>{X=X[0];var J=`constructor ${X.name}`;if(X.xa.Ha===void 0&&(X.xa.Ha=[]),X.xa.Ha[u-1]!==void 0)throw new ge(`Cannot register multiple constructors with identical number of parameters (${u-1}) for class '${X.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return X.xa.Ha[u-1]=()=>{Xo(`Cannot construct ${X.name} due to unbound types`,D)},ft([],D,x=>(x.splice(1,0,null),X.xa.Ha[u-1]=El(J,x,null,w,S),[])),[]})},f:(I,u,d,h,w,S,D,X)=>{var J=Nl(d,h);u=_e(u),u=su(u),S=st(w,S),ft([],[I],x=>{function U(){Xo(`Cannot call ${Ie} due to unbound types`,J)}x=x[0];var Ie=`${x.name}.${u}`;u.startsWith("@@")&&(u=Symbol[u.substring(2)]),X&&x.xa.kb.push(u);var de=x.xa.La,K=de[u];return K===void 0||K.Ba===void 0&&K.className!==x.name&&K.Oa===d-2?(U.Oa=d-2,U.className=x.name,de[u]=U):(Ni(de,u,Ie),de[u].Ba[d-2]=U),ft([],J,te=>(te=El(Ie,te,x,S,D),de[u].Ba===void 0?(te.Oa=d-2,de[u]=te):de[u].Ba[d-2]=te,[])),[]})},X:I=>St(I,Iu),x:(I,u,d,h)=>{function w(){}u=_e(u),w.values={},St(I,{name:u,constructor:w,fromWireType:function(S){return this.constructor.values[S]},toWireType:(S,D)=>D.value,argPackAdvance:8,readValueFromPointer:cf(u,d,h),Ea:null}),di(u,w)},k:(I,u,d)=>{var h=Ml(I,"enum");u=_e(u),I=h.constructor,h=Object.create(h.constructor.prototype,{value:{value:d},constructor:{value:Sn(`${h.name}_${u}`,function(){})}}),I.values[d]=h,I[u]=h},D:(I,u,d)=>{u=_e(u),St(I,{name:u,fromWireType:h=>h,toWireType:(h,w)=>w,argPackAdvance:8,readValueFromPointer:Af(u,d),Ea:null})},F:(I,u,d,h,w,S)=>{var D=Nl(u,d);I=_e(I),I=su(I),w=st(h,w),di(I,function(){Xo(`Cannot call ${I} due to unbound types`,D)},u-1),ft([],D,X=>(gu(I,El(I,[X[0],null].concat(X.slice(1)),null,w,S),u-1),[]))},l:(I,u,d,h,w)=>{if(u=_e(u),w===-1&&(w=4294967295),w=X=>X,h===0){var S=32-8*d;w=X=>X<<S>>>S}var D=u.includes("unsigned")?function(X,J){return J>>>0}:function(X,J){return J};St(I,{name:u,fromWireType:w,toWireType:D,argPackAdvance:8,readValueFromPointer:df(u,d,h!==0),Ea:null})},g:(I,u,d)=>{function h(S){return new w(b.buffer,G[S+4>>2],G[S>>2])}var w=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][u];d=_e(d),St(I,{name:d,fromWireType:h,argPackAdvance:8,readValueFromPointer:h},{ib:!0})},w:I=>{St(I,Iu)},ca:(I,u,d,h,w,S,D,X,J,x,U,Ie)=>{d=_e(d),S=st(w,S),X=st(D,X),x=st(J,x),Ie=st(U,Ie),ft([I],[u],de=>(de=de[0],[new Wr(d,de.xa,!1,!1,!0,de,h,S,X,x,Ie)]))},E:(I,u)=>{u=_e(u);var d=u==="std::string";St(I,{name:u,fromWireType:function(h){var w=G[h>>2],S=h+4;if(d)for(var D=S,X=0;X<=w;++X){var J=S+X;if(X==w||B[J]==0){if(D=D?ie(B,D,J-D):"",x===void 0)var x=D;else x+="\0",x+=D;D=J+1}}else{for(x=Array(w),X=0;X<w;++X)x[X]=String.fromCharCode(B[S+X]);x=x.join("")}return Kn(h),x},toWireType:function(h,w){w instanceof ArrayBuffer&&(w=new Uint8Array(w));var S=typeof w=="string";if(!(S||w instanceof Uint8Array||w instanceof Uint8ClampedArray||w instanceof Int8Array))throw new ge("Cannot pass non-string to std::string");var D=d&&S?De(w):w.length,X=Jl(4+D+1),J=X+4;if(G[X>>2]=D,d&&S)$t(w,B,J,D+1);else if(S)for(S=0;S<D;++S){var x=w.charCodeAt(S);if(255<x)throw Kn(J),new ge("String has UTF-16 code units that do not fit in 8 bits");B[J+S]=x}else for(S=0;S<D;++S)B[J+S]=w[S];return h!==null&&h.push(Kn,X),X},argPackAdvance:8,readValueFromPointer:lt,Ea(h){Kn(h)}})},u:(I,u,d)=>{if(d=_e(d),u===2)var h=hf,w=ff,S=pf,D=X=>f[X>>1];else u===4&&(h=mf,w=yf,S=vf,D=X=>G[X>>2]);St(I,{name:d,fromWireType:X=>{for(var J=G[X>>2],x,U=X+4,Ie=0;Ie<=J;++Ie){var de=X+4+Ie*u;(Ie==J||D(de)==0)&&(U=h(U,de-U),x===void 0?x=U:(x+="\0",x+=U),U=de+u)}return Kn(X),x},toWireType:(X,J)=>{if(typeof J!="string")throw new ge(`Cannot pass non-string to C++ string type ${d}`);var x=S(J),U=Jl(4+x+u);return G[U>>2]=x/u,w(J,U+4,x+u),X!==null&&X.push(Kn,U),U},argPackAdvance:8,readValueFromPointer:lt,Ea(X){Kn(X)}})},s:(I,u,d,h,w,S)=>{gt[I]={name:_e(u),Ua:st(d,h),Fa:st(w,S),Ya:[]}},j:(I,u,d,h,w,S,D,X,J,x)=>{gt[I].Ya.push({bb:_e(u),hb:d,fb:st(h,w),gb:S,nb:D,mb:st(X,J),ob:x})},Z:(I,u)=>{u=_e(u),St(I,{ub:!0,name:u,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},K:()=>{throw 1/0},aa:(I,u,d,h)=>(I=Ol[I],u=Pl(u),I(null,u,d,h)),G:Dl,$:(I,u,d)=>{var h=Gf(I,u),w=h.shift();I--;var S=Array(I);return u=`methodCaller<(${h.map(D=>D.name).join(", ")}) => ${w.name}>`,bf(Sn(u,(D,X,J,x)=>{for(var U=0,Ie=0;Ie<I;++Ie)S[Ie]=h[Ie].readValueFromPointer(x+U),U+=h[Ie].argPackAdvance;return X=d===1?wf(X,S):X.apply(D,S),D=[],X=w.toWireType(D,X),D.length&&(G[J>>2]=Ho(D)),X}))},ba:I=>{9<I&&(Wn[I+1]+=1)},_:I=>{var u=Pl(I);Zt(u),Dl(I)},o:(I,u)=>(I=Ml(I,"_emval_take_value"),I=I.readValueFromPointer(u),Ho(I)),W:()=>{P("")},V:()=>performance.now(),M:I=>{var u=B.length;if(I>>>=0,2147483648<I)return!1;for(var d=1;4>=d;d*=2){var h=u*(1+.2/d);h=Math.min(h,I+100663296);var w=Math;h=Math.max(I,h);e:{w=(w.min.call(w,2147483648,h+(65536-h%65536)%65536)-y.buffer.byteLength+65535)/65536;try{y.grow(w),Y();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},S:(I,u)=>{var d=0;return Cu().forEach((h,w)=>{var S=u+d;for(w=G[I+4*w>>2]=S,S=0;S<h.length;++S)b[w++]=h.charCodeAt(S);b[w]=0,d+=h.length+1}),0},T:(I,u)=>{var d=Cu();G[I>>2]=d.length;var h=0;return d.forEach(w=>h+=w.length+1),G[u>>2]=h,0},t:()=>52,A:()=>52,I:function(){return 70},z:(I,u,d,h)=>{for(var w=0,S=0;S<d;S++){var D=G[u>>2],X=G[u+4>>2];u+=8;for(var J=0;J<X;J++){var x=B[D+J],U=Bf[I];x===0||x===10?((I===1?C:c)(ie(U,0)),U.length=0):U.push(x)}w+=X}return G[h>>2]=w,0},U:(I,u)=>(cu(B.subarray(I,I+u)),0),i:Lf,d:Vf,e:Rf,p:Xf,y:_f,b:kf,a:Yf,h:Ff,n:Hf,H:Nf,L:(I,u,d,h)=>Wf(I,u,d,h)},Ne=function(){var d;function I(h){var w;return Ne=h.exports,y=Ne.da,Y(),Et=Ne.ha,T.unshift(Ne.ea),H--,(w=i.monitorRunDependencies)==null||w.call(i,H),H==0&&N&&(h=N,N=null,h()),Ne}var u={a:Kf};if(H++,(d=i.monitorRunDependencies)==null||d.call(i,H),i.instantiateWasm)try{return i.instantiateWasm(u,I)}catch(h){c(`Module.instantiateWasm callback failed with error: ${h}`),o(h)}return le(u,function(h){I(h.instance)}).catch(o),{}}(),Jl=I=>(Jl=Ne.fa)(I),fu=I=>(fu=Ne.ga)(I),Kn=I=>(Kn=Ne.ia)(I),tn=(I,u)=>(tn=Ne.ja)(I,u),nn=I=>(nn=Ne.ka)(I),rn=()=>(rn=Ne.la)();i.dynCall_iijj=(I,u,d,h,w,S)=>(i.dynCall_iijj=Ne.na)(I,u,d,h,w,S),i.dynCall_vijj=(I,u,d,h,w,S)=>(i.dynCall_vijj=Ne.oa)(I,u,d,h,w,S),i.dynCall_jiii=(I,u,d,h)=>(i.dynCall_jiii=Ne.pa)(I,u,d,h),i.dynCall_jii=(I,u,d)=>(i.dynCall_jii=Ne.qa)(I,u,d);var pu=i.dynCall_viiij=(I,u,d,h,w,S)=>(pu=i.dynCall_viiij=Ne.ra)(I,u,d,h,w,S);i.dynCall_jiji=(I,u,d,h,w)=>(i.dynCall_jiji=Ne.sa)(I,u,d,h,w),i.dynCall_viijii=(I,u,d,h,w,S,D)=>(i.dynCall_viijii=Ne.ta)(I,u,d,h,w,S,D),i.dynCall_iiiiij=(I,u,d,h,w,S,D)=>(i.dynCall_iiiiij=Ne.ua)(I,u,d,h,w,S,D),i.dynCall_iiiiijj=(I,u,d,h,w,S,D,X,J)=>(i.dynCall_iiiiijj=Ne.va)(I,u,d,h,w,S,D,X,J),i.dynCall_iiiiiijj=(I,u,d,h,w,S,D,X,J,x)=>(i.dynCall_iiiiiijj=Ne.wa)(I,u,d,h,w,S,D,X,J,x);function kf(I,u){var d=rn();try{Et.get(I)(u)}catch(h){if(nn(d),h!==h+0)throw h;tn(1,0)}}function Yf(I,u,d){var h=rn();try{Et.get(I)(u,d)}catch(w){if(nn(h),w!==w+0)throw w;tn(1,0)}}function Rf(I,u,d,h){var w=rn();try{return Et.get(I)(u,d,h)}catch(S){if(nn(w),S!==S+0)throw S;tn(1,0)}}function Vf(I,u,d){var h=rn();try{return Et.get(I)(u,d)}catch(w){if(nn(h),w!==w+0)throw w;tn(1,0)}}function Lf(I,u){var d=rn();try{return Et.get(I)(u)}catch(h){if(nn(d),h!==h+0)throw h;tn(1,0)}}function Xf(I,u,d,h,w,S){var D=rn();try{return Et.get(I)(u,d,h,w,S)}catch(X){if(nn(D),X!==X+0)throw X;tn(1,0)}}function Hf(I,u,d,h,w){var S=rn();try{Et.get(I)(u,d,h,w)}catch(D){if(nn(S),D!==D+0)throw D;tn(1,0)}}function Ff(I,u,d,h){var w=rn();try{Et.get(I)(u,d,h)}catch(S){if(nn(w),S!==S+0)throw S;tn(1,0)}}function _f(I){var u=rn();try{Et.get(I)()}catch(d){if(nn(u),d!==d+0)throw d;tn(1,0)}}function Nf(I,u,d,h,w,S){var D=rn();try{pu(I,u,d,h,w,S)}catch(X){if(nn(D),X!==X+0)throw X;tn(1,0)}}var No;N=function I(){No||mu(),No||(N=I)};function mu(){function I(){if(!No&&(No=!0,i.calledRun=!0,!v)){if(ne(T),r(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;){var u=i.postRun.shift();Z.unshift(u)}ne(Z)}}if(!(0<H)){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)k();ne(R),0<H||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),I()},1)):I())}}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return mu(),g}})(),Rb=Yb,sl=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static async _tryLoad(t){return await Rb({locateFile:()=>t})}static async _loadWithBackup(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch(async t=>{let n=`https://unpkg.com/${Yh}@${kh}/dist/dotlottie-player.wasm`;console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${t.message}`),console.warn(`Attempting to load WASM from backup URL: ${n}`);try{return await this._tryLoad(n)}catch(i){throw console.error(`Primary WASM URL failed: ${t.message}`),console.error(`Backup WASM URL failed: ${i.message}`),new Error("WASM loading failed from all sources.")}})),this._ModulePromise}static async load(){return this._loadWithBackup()}static setWasmUrl(t){this._wasmURL=t,this._ModulePromise=null}};ae(sl,"_ModulePromise",null),ae(sl,"_wasmURL",`https://cdn.jsdelivr.net/npm/${Yh}@${kh}/dist/dotlottie-player.wasm`);var Rh=class{constructor(){ae(this,"_eventListeners",new Map)}addEventListener(e,t){let n=this._eventListeners.get(e);n||(n=new Set,this._eventListeners.set(e,n)),n.add(t)}removeEventListener(e,t){let n=this._eventListeners.get(e);n&&(t?(n.delete(t),n.size===0&&this._eventListeners.delete(e)):this._eventListeners.delete(e))}dispatch(e){var t;(t=this._eventListeners.get(e.type))==null||t.forEach(n=>n(e))}removeAllEventListeners(){this._eventListeners.clear()}};function Vb(e){return/^#([\da-f]{6}|[\da-f]{8})$/iu.test(e)}function Lb(e){if(!Vb(e))return 0;let t=e.replace("#","");return t=t.length===6?`${t}ff`:t,parseInt(t,16)}function ac(e){if(e.byteLength<4)return!1;let t=new Uint8Array(e.slice(0,Sa.byteLength));for(let n=0;n<Sa.length;n+=1)if(Sa[n]!==t[n])return!1;return!0}function sc(e){return kb.every(t=>Object.prototype.hasOwnProperty.call(e,t))}function Ic(e){if(typeof e=="string")try{return sc(JSON.parse(e))}catch{return!1}else return sc(e)}var Wa=(e,t)=>e==="reverse"?t.Mode.Reverse:e==="bounce"?t.Mode.Bounce:e==="reverse-bounce"?t.Mode.ReverseBounce:t.Mode.Forward,Ka=(e,t)=>e==="contain"?t.Fit.Contain:e==="cover"?t.Fit.Cover:e==="fill"?t.Fit.Fill:e==="fit-height"?t.Fit.FitHeight:e==="fit-width"?t.Fit.FitWidth:t.Fit.None,ka=(e,t)=>{let n=new t.VectorFloat;return n.push_back(e[0]),n.push_back(e[1]),n},Ya=(e,t)=>{let n=new t.VectorFloat;return e.length!==2||(n.push_back(e[0]),n.push_back(e[1])),n},Vh=class Ze{constructor(t){ae(this,"_canvas"),ae(this,"_context",null),ae(this,"_eventManager"),ae(this,"_animationFrameId",null),ae(this,"_frameManager"),ae(this,"_dotLottieCore",null),ae(this,"_renderConfig",{}),ae(this,"_isFrozen",!1),ae(this,"_backgroundColor",null),ae(this,"_pointerUpMethod"),ae(this,"_pointerDownMethod"),ae(this,"_pointerMoveMethod"),ae(this,"_pointerEnterMethod"),ae(this,"_pointerExitMethod"),ae(this,"_onCompleteMethod"),this._canvas=t.canvas,this._context=this._canvas.getContext("2d"),this._eventManager=new Rh,this._frameManager=new Kb,this._renderConfig=t.renderConfig??{},sl.load().then(n=>{Ze._wasmModule=n,this._dotLottieCore=new n.DotLottiePlayer({autoplay:t.autoplay??!1,backgroundColor:0,loopAnimation:t.loop??!1,mode:Wa(t.mode??"forward",n),segment:Ya(t.segment??[],n),speed:t.speed??1,useFrameInterpolation:t.useFrameInterpolation??!0,marker:t.marker??"",layout:t.layout?{align:ka(t.layout.align,n),fit:Ka(t.layout.fit,n)}:n.createDefaultLayout()}),this._eventManager.dispatch({type:"ready"}),t.data?this._loadFromData(t.data):t.src&&this._loadFromSrc(t.src),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor)}).catch(n=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${n}`)})}),this._pointerUpMethod=this._onPointerUp.bind(this),this._pointerDownMethod=this._onPointerDown.bind(this),this._pointerMoveMethod=this._onPointerMove.bind(this),this._pointerEnterMethod=this._onPointerEnter.bind(this),this._pointerExitMethod=this._onPointerLeave.bind(this),this._onCompleteMethod=this._onComplete.bind(this)}_dispatchError(t){console.error(t),this._eventManager.dispatch({type:"loadError",error:new Error(t)})}async _fetchData(t){let n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch animation data from URL: ${t}. ${n.status}: ${n.statusText}`);let i=await n.arrayBuffer();return ac(i)?i:new TextDecoder().decode(i)}_loadFromData(t){if(this._dotLottieCore===null)return;let n=this._canvas.width,i=this._canvas.height,r=!1;if(typeof t=="string"){if(!Ic(t)){this._dispatchError("Invalid Lottie JSON string: The provided string does not conform to the Lottie JSON format.");return}r=this._dotLottieCore.loadAnimationData(t,n,i)}else if(t instanceof ArrayBuffer){if(!ac(t)){this._dispatchError("Invalid dotLottie ArrayBuffer: The provided ArrayBuffer does not conform to the dotLottie format.");return}r=this._dotLottieCore.loadDotLottieData(t,n,i)}else if(typeof t=="object"){if(!Ic(t)){this._dispatchError("Invalid Lottie JSON object: The provided object does not conform to the Lottie JSON format.");return}r=this._dotLottieCore.loadAnimationData(JSON.stringify(t),n,i)}else{this._dispatchError(`Unsupported data type for animation data. Expected: 
          - string (Lottie JSON),
          - ArrayBuffer (dotLottie),
          - object (Lottie JSON). 
          Received: ${typeof t}`);return}r?(this._eventManager.dispatch({type:"load"}),vi&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()?(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))):console.error("something went wrong, the animation was suppose to autoplay"))):this._dispatchError("Failed to load animation data")}_loadFromSrc(t){this._fetchData(t).then(n=>this._loadFromData(n)).catch(n=>this._dispatchError(`Failed to load animation data from URL: ${t}. ${n}`))}get activeAnimationId(){var t;return(t=this._dotLottieCore)==null?void 0:t.activeAnimationId()}get activeThemeId(){var t;return(t=this._dotLottieCore)==null?void 0:t.activeThemeId()}get layout(){var n;let t=(n=this._dotLottieCore)==null?void 0:n.config().layout;if(t)return{align:[t.align.get(0),t.align.get(1)],fit:(()=>{var i,r,o,g,l,a;switch(t.fit){case((i=Ze._wasmModule)==null?void 0:i.Fit.Contain):return"contain";case((r=Ze._wasmModule)==null?void 0:r.Fit.Cover):return"cover";case((o=Ze._wasmModule)==null?void 0:o.Fit.Fill):return"fill";case((g=Ze._wasmModule)==null?void 0:g.Fit.FitHeight):return"fit-height";case((l=Ze._wasmModule)==null?void 0:l.Fit.FitWidth):return"fit-width";case((a=Ze._wasmModule)==null?void 0:a.Fit.None):return"none";default:return"contain"}})()}}get marker(){var t;return(t=this._dotLottieCore)==null?void 0:t.config().marker}get manifest(){var t;try{let n=(t=this._dotLottieCore)==null?void 0:t.manifestString();if(this._dotLottieCore===null||!n)return null;let i=JSON.parse(n);return Object.keys(i).length===0?null:i}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){var n;let t=(n=this._dotLottieCore)==null?void 0:n.config().segment;if(t&&t.size()===2)return[t.get(0),t.get(1)]}get loop(){var t;return((t=this._dotLottieCore)==null?void 0:t.config().loopAnimation)??!1}get mode(){var n,i,r,o;let t=(n=this._dotLottieCore)==null?void 0:n.config().mode;return t===((i=Ze._wasmModule)==null?void 0:i.Mode.Reverse)?"reverse":t===((r=Ze._wasmModule)==null?void 0:r.Mode.Bounce)?"bounce":t===((o=Ze._wasmModule)==null?void 0:o.Mode.ReverseBounce)?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){var t;return((t=this._dotLottieCore)==null?void 0:t.config().autoplay)??!1}get useFrameInterpolation(){var t;return((t=this._dotLottieCore)==null?void 0:t.config().useFrameInterpolation)??!1}get speed(){var t;return((t=this._dotLottieCore)==null?void 0:t.config().speed)??0}get isReady(){return this._dotLottieCore!==null}get isLoaded(){var t;return((t=this._dotLottieCore)==null?void 0:t.isLoaded())??!1}get isPlaying(){var t;return((t=this._dotLottieCore)==null?void 0:t.isPlaying())??!1}get isPaused(){var t;return((t=this._dotLottieCore)==null?void 0:t.isPaused())??!1}get isStopped(){var t;return((t=this._dotLottieCore)==null?void 0:t.isStopped())??!1}get currentFrame(){var t;return((t=this._dotLottieCore)==null?void 0:t.currentFrame())??0}get loopCount(){var t;return((t=this._dotLottieCore)==null?void 0:t.loopCount())??0}get totalFrames(){var t;return((t=this._dotLottieCore)==null?void 0:t.totalFrames())??0}get duration(){var t;return((t=this._dotLottieCore)==null?void 0:t.duration())??0}get segmentDuration(){var t;return((t=this._dotLottieCore)==null?void 0:t.segmentDuration())??0}get canvas(){return this._canvas}load(t){this._dotLottieCore===null||Ze._wasmModule===null||(this._dotLottieCore.setConfig({autoplay:t.autoplay??!1,backgroundColor:0,loopAnimation:t.loop??!1,mode:Wa(t.mode??"forward",Ze._wasmModule),segment:Ya(t.segment??[],Ze._wasmModule),speed:t.speed??1,useFrameInterpolation:t.useFrameInterpolation??!0,marker:t.marker??"",layout:t.layout?{align:ka(t.layout.align,Ze._wasmModule),fit:Ka(t.layout.fit,Ze._wasmModule)}:Ze._wasmModule.createDefaultLayout()}),t.data?this._loadFromData(t.data):t.src&&this._loadFromSrc(t.src),this.setBackgroundColor(t.backgroundColor??""))}_render(){if(this._dotLottieCore===null||this._context===null)return!1;if(this._dotLottieCore.render()){let t=this._dotLottieCore.buffer(),n=new Uint8ClampedArray(t,0,this._canvas.width*this._canvas.height*4),i=null;return typeof ImageData>"u"?(i=this._context.createImageData(this._canvas.width,this._canvas.height),i.data.set(n)):i=new ImageData(n,this._canvas.width,this._canvas.height),this._context.putImageData(i,0,0),this._eventManager.dispatch({type:"render",currentFrame:this._dotLottieCore.currentFrame()}),!0}return!1}_draw(){if(this._dotLottieCore===null||this._context===null||!this._dotLottieCore.isPlaying())return;let t=this._dotLottieCore.requestFrame();this._dotLottieCore.setFrame(t)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render()&&this._dotLottieCore.isComplete()&&(this._dotLottieCore.config().loopAnimation?this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()}):this._eventManager.dispatch({type:"complete"}))),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))}play(){this._dotLottieCore!==null&&(this._dotLottieCore.play()||this._dotLottieCore.isPlaying())&&(this._isFrozen=!1,this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)))}pause(){this._dotLottieCore!==null&&(this._dotLottieCore.pause()||this._dotLottieCore.isPaused())&&this._eventManager.dispatch({type:"pause"})}stop(){this._dotLottieCore!==null&&this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._eventManager.dispatch({type:"stop"}))}setFrame(t){this._dotLottieCore===null||t<0||t>this._dotLottieCore.totalFrames()||this._dotLottieCore.seek(t)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render())}setSpeed(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),speed:t})}setBackgroundColor(t){this._dotLottieCore!==null&&(vi&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=t:this._dotLottieCore.setConfig({...this._dotLottieCore.config(),backgroundColor:Lb(t)}),this._backgroundColor=t)}setLoop(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),loopAnimation:t})}setUseFrameInterpolation(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),useFrameInterpolation:t})}addEventListener(t,n){this._eventManager.addEventListener(t,n)}removeEventListener(t,n){this._eventManager.removeEventListener(t,n)}destroy(){var t;(t=this._dotLottieCore)==null||t.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners()}freeze(){this._animationFrameId!==null&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=!0,this._eventManager.dispatch({type:"freeze"}))}unfreeze(){this._animationFrameId===null&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=!1,this._eventManager.dispatch({type:"unfreeze"}))}resize(){var t;if(vi&&this._canvas instanceof HTMLCanvasElement){let n=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:i,width:r}=this._canvas.getBoundingClientRect();this._canvas.width=r*n,this._canvas.height=i*n}(t=this._dotLottieCore)!=null&&t.resize(this._canvas.width,this._canvas.height)&&this._render()}setSegment(t,n){this._dotLottieCore===null||Ze._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),segment:Ya([t,n],Ze._wasmModule)})}setMode(t){this._dotLottieCore===null||Ze._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),mode:Wa(t,Ze._wasmModule)})}setRenderConfig(t){this._renderConfig=t}loadAnimation(t){this._dotLottieCore===null||this._dotLottieCore.activeAnimationId()===t||(this._dotLottieCore.loadAnimation(t,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${t}`)}))}setMarker(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),marker:t})}markers(){var n;let t=(n=this._dotLottieCore)==null?void 0:n.markers();if(t){let i=[];for(let r=0;r<t.size();r+=1){let o=t.get(r);i.push({name:o.name,time:o.time,duration:o.duration})}return i}return[]}loadTheme(t){if(this._dotLottieCore===null)return!1;let n=this._dotLottieCore.loadTheme(t);return this._render(),n}loadThemeData(t){if(this._dotLottieCore===null)return!1;let n=this._dotLottieCore.loadThemeData(t);return this._render(),n}setLayout(t){this._dotLottieCore===null||Ze._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),layout:{align:ka(t.align,Ze._wasmModule),fit:Ka(t.fit,Ze._wasmModule)}})}setViewport(t,n,i,r){return this._dotLottieCore===null?!1:this._dotLottieCore.setViewport(t,n,i,r)}static setWasmUrl(t){sl.setWasmUrl(t)}loadStateMachine(t){var n;return((n=this._dotLottieCore)==null?void 0:n.loadStateMachine(t))??!1}startStateMachine(){var n;let t=((n=this._dotLottieCore)==null?void 0:n.startStateMachine())??!1;return t&&this._setupStateMachineListeners(),t}stopStateMachine(){var n;let t=((n=this._dotLottieCore)==null?void 0:n.stopStateMachine())??!1;return t&&this._cleanupStateMachineListeners(),t}_getPointerPosition(t){let n=this._canvas.getBoundingClientRect(),i=this._canvas.width/n.width,r=this._canvas.height/n.height,o=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,g=(t.clientX-n.left)*i/o,l=(t.clientY-n.top)*r/o;return{x:g,y:l}}_onPointerUp(t){let{x:n,y:i}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerUp: ${n} ${i}`)}_onPointerDown(t){let{x:n,y:i}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerDown: ${n} ${i}`)}_onPointerMove(t){let{x:n,y:i}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerMove: ${n} ${i}`)}_onPointerEnter(t){let{x:n,y:i}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerEnter: ${n} ${i}`)}_onPointerLeave(t){let{x:n,y:i}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerExit: ${n} ${i}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}postStateMachineEvent(t){var i;let n=((i=this._dotLottieCore)==null?void 0:i.postEventPayload(t))??1;return n===2?this.play():n===3?this.pause():n===4&&this._render(),n}getStateMachineListeners(){if(!this._dotLottieCore)return[];let t=this._dotLottieCore.stateMachineFrameworkSetup(),n=[];for(let i=0;i<t.size();i+=1)n.push(t.get(i));return n}_setupStateMachineListeners(){if(vi&&this._canvas instanceof HTMLCanvasElement&&this._dotLottieCore!==null&&this.isLoaded){let t=this.getStateMachineListeners();t.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._pointerUpMethod),t.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._pointerDownMethod),t.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._pointerMoveMethod),t.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._pointerEnterMethod),t.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._pointerExitMethod),t.includes("Complete")&&this.addEventListener("complete",this._onCompleteMethod)}}_cleanupStateMachineListeners(){vi&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._pointerUpMethod),this._canvas.removeEventListener("pointerdown",this._pointerDownMethod),this._canvas.removeEventListener("pointermove",this._pointerMoveMethod),this._canvas.removeEventListener("pointerenter",this._pointerEnterMethod),this._canvas.removeEventListener("pointerleave",this._pointerExitMethod),this.removeEventListener("complete",this._onCompleteMethod))}loadStateMachineData(t){var n;return((n=this._dotLottieCore)==null?void 0:n.loadStateMachineData(t))??!1}animationSize(){var i,r;let t=((i=this._dotLottieCore)==null?void 0:i.animationSize().get(0))??0,n=((r=this._dotLottieCore)==null?void 0:r.animationSize().get(1))??0;return{width:t,height:n}}setStateMachineBooleanContext(t,n){var i;return((i=this._dotLottieCore)==null?void 0:i.setStateMachineBooleanContext(t,n))??!1}setStateMachineNumericContext(t,n){var i;return((i=this._dotLottieCore)==null?void 0:i.setStateMachineNumericContext(t,n))??!1}setStateMachineStringContext(t,n){var i;return((i=this._dotLottieCore)==null?void 0:i.setStateMachineStringContext(t,n))??!1}};ae(Vh,"_wasmModule",null);var Lh=Vh,Xb=class extends Worker{constructor(){super("data:application/javascript;base64,InVzZSBzdHJpY3QiOwooKCkgPT4gewogIHZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7CiAgdmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlOwogIHZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gInN5bWJvbCIgPyBrZXkgKyAiIiA6IGtleSwgdmFsdWUpOwoKICAvLyBzcmMvYW5pbWF0aW9uLWZyYW1lLW1hbmFnZXIudHMKICB2YXIgV2ViQW5pbWF0aW9uRnJhbWVTdHJhdGVneSA9IGNsYXNzIHsKICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjaykgewogICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKTsKICAgIH0KICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKSB7CiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTsKICAgIH0KICB9OwogIHZhciBOb2RlQW5pbWF0aW9uRnJhbWVTdHJhdGVneSA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfbGFzdEhhbmRsZUlkIiwgMCk7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9sYXN0SW1tZWRpYXRlIiwgbnVsbCk7CiAgICB9CiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spIHsKICAgICAgaWYgKHRoaXMuX2xhc3RIYW5kbGVJZCA+PSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikgewogICAgICAgIHRoaXMuX2xhc3RIYW5kbGVJZCA9IDA7CiAgICAgIH0KICAgICAgdGhpcy5fbGFzdEhhbmRsZUlkICs9IDE7CiAgICAgIHRoaXMuX2xhc3RJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGUoKCkgPT4gewogICAgICAgIGNhbGxiYWNrKERhdGUubm93KCkpOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRoaXMuX2xhc3RIYW5kbGVJZDsKICAgIH0KICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKF9pZCkgewogICAgICBpZiAodGhpcy5fbGFzdEltbWVkaWF0ZSkgewogICAgICAgIGNsZWFySW1tZWRpYXRlKHRoaXMuX2xhc3RJbW1lZGlhdGUpOwogICAgICB9CiAgICB9CiAgfTsKICB2YXIgQW5pbWF0aW9uRnJhbWVNYW5hZ2VyID0gY2xhc3MgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9zdHJhdGVneSIpOwogICAgICB0aGlzLl9zdHJhdGVneSA9IHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09ICJmdW5jdGlvbiIgPyBuZXcgV2ViQW5pbWF0aW9uRnJhbWVTdHJhdGVneSgpIDogbmV3IE5vZGVBbmltYXRpb25GcmFtZVN0cmF0ZWd5KCk7CiAgICB9CiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spIHsKICAgICAgcmV0dXJuIHRoaXMuX3N0cmF0ZWd5LnJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjayk7CiAgICB9CiAgICBjYW5jZWxBbmltYXRpb25GcmFtZShpZCkgewogICAgICB0aGlzLl9zdHJhdGVneS5jYW5jZWxBbmltYXRpb25GcmFtZShpZCk7CiAgICB9CiAgfTsKCiAgLy8gc3JjL2NvbnN0YW50cy50cwogIHZhciBJU19CUk9XU0VSID0gdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gInVuZGVmaW5lZCI7CiAgdmFyIFpJUF9TSUdOQVRVUkUgPSBuZXcgVWludDhBcnJheShbODAsIDc1LCAzLCA0XSk7CiAgdmFyIExPVFRJRV9KU09OX01BTkRBVE9SWV9GSUVMRFMgPSBbInYiLCAiaXAiLCAib3AiLCAibGF5ZXJzIiwgImZyIiwgInciLCAiaCJdOwogIHZhciBQQUNLQUdFX1ZFUlNJT04gPSAiMC4zMC4xIjsKICB2YXIgUEFDS0FHRV9OQU1FID0gIkBsb3R0aWVmaWxlcy9kb3Rsb3R0aWUtd2ViIjsKCiAgLy8gc3JjL2NvcmUvZG90bG90dGllLXBsYXllci5qcwogIHZhciBjcmVhdGVEb3RMb3R0aWVQbGF5ZXJNb2R1bGUgPSAoKCkgPT4gewogICAgdmFyIF9zY3JpcHREaXIgPSB0eXBlb2YgZG9jdW1lbnQgIT0gInVuZGVmaW5lZCIgPyBkb2N1bWVudC5jdXJyZW50U2NyaXB0Py5zcmMgOiB2b2lkIDA7CiAgICByZXR1cm4gZnVuY3Rpb24obW9kdWxlQXJnID0ge30pIHsKICAgICAgdmFyIGsgPSBtb2R1bGVBcmcsIGFhLCBiYSwgcmVhZHlQcm9taXNlID0gbmV3IFByb21pc2UoKGEsIGIpID0+IHsKICAgICAgICBhYSA9IGE7CiAgICAgICAgYmEgPSBiOwogICAgICB9KSwgY2EgPSBPYmplY3QuYXNzaWduKHt9LCBrKSwgZGEgPSAiLi90aGlzLnByb2dyYW0iLCB0ID0gIiI7CiAgICAgICJ1bmRlZmluZWQiICE9IHR5cGVvZiBkb2N1bWVudCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmICh0ID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpOwogICAgICBfc2NyaXB0RGlyICYmICh0ID0gX3NjcmlwdERpcik7CiAgICAgIHQuc3RhcnRzV2l0aCgiYmxvYjoiKSA/IHQgPSAiIiA6IHQgPSB0LnN1YnN0cigwLCB0LnJlcGxhY2UoL1s/I10uKi8sICIiKS5sYXN0SW5kZXhPZigiLyIpICsgMSk7CiAgICAgIHZhciBlYSA9IGsucHJpbnQgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKSwgdyA9IGsucHJpbnRFcnIgfHwgY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpOwogICAgICBPYmplY3QuYXNzaWduKGssIGNhKTsKICAgICAgY2EgPSBudWxsOwogICAgICBrLnRoaXNQcm9ncmFtICYmIChkYSA9IGsudGhpc1Byb2dyYW0pOwogICAgICB2YXIgeDsKICAgICAgay53YXNtQmluYXJ5ICYmICh4ID0gay53YXNtQmluYXJ5KTsKICAgICAgdmFyIGZhLCBoYSA9IGZhbHNlLCB5LCBBLCBCLCBDLCBFLCBGLCBqYSwga2E7CiAgICAgIGZ1bmN0aW9uIGxhKCkgewogICAgICAgIHZhciBhID0gZmEuYnVmZmVyOwogICAgICAgIGsuSEVBUDggPSB5ID0gbmV3IEludDhBcnJheShhKTsKICAgICAgICBrLkhFQVAxNiA9IEIgPSBuZXcgSW50MTZBcnJheShhKTsKICAgICAgICBrLkhFQVBVOCA9IEEgPSBuZXcgVWludDhBcnJheShhKTsKICAgICAgICBrLkhFQVBVMTYgPSBDID0gbmV3IFVpbnQxNkFycmF5KGEpOwogICAgICAgIGsuSEVBUDMyID0gRSA9IG5ldyBJbnQzMkFycmF5KGEpOwogICAgICAgIGsuSEVBUFUzMiA9IEYgPSBuZXcgVWludDMyQXJyYXkoYSk7CiAgICAgICAgay5IRUFQRjMyID0gamEgPSBuZXcgRmxvYXQzMkFycmF5KGEpOwogICAgICAgIGsuSEVBUEY2NCA9IGthID0gbmV3IEZsb2F0NjRBcnJheShhKTsKICAgICAgfQogICAgICB2YXIgbWEgPSBbXSwgbmEgPSBbXSwgb2EgPSBbXTsKICAgICAgZnVuY3Rpb24gcGEoKSB7CiAgICAgICAgdmFyIGEgPSBrLnByZVJ1bi5zaGlmdCgpOwogICAgICAgIG1hLnVuc2hpZnQoYSk7CiAgICAgIH0KICAgICAgdmFyIEcgPSAwLCBxYSA9IG51bGwsIEggPSBudWxsOwogICAgICBmdW5jdGlvbiByYShhKSB7CiAgICAgICAgay5vbkFib3J0Py4oYSk7CiAgICAgICAgYSA9ICJBYm9ydGVkKCIgKyBhICsgIikiOwogICAgICAgIHcoYSk7CiAgICAgICAgaGEgPSB0cnVlOwogICAgICAgIGEgPSBuZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKGEgKyAiLiBCdWlsZCB3aXRoIC1zQVNTRVJUSU9OUyBmb3IgbW9yZSBpbmZvLiIpOwogICAgICAgIGJhKGEpOwogICAgICAgIHRocm93IGE7CiAgICAgIH0KICAgICAgdmFyIHNhID0gKGEpID0+IGEuc3RhcnRzV2l0aCgiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCIpLCBJOwogICAgICBJID0gIkRvdExvdHRpZVBsYXllci53YXNtIjsKICAgICAgaWYgKCFzYShJKSkgewogICAgICAgIHZhciB0YSA9IEk7CiAgICAgICAgSSA9IGsubG9jYXRlRmlsZSA/IGsubG9jYXRlRmlsZSh0YSwgdCkgOiB0ICsgdGE7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gdWEoYSkgewogICAgICAgIGlmIChhID09IEkgJiYgeCkgcmV0dXJuIG5ldyBVaW50OEFycmF5KHgpOwogICAgICAgIHRocm93ICJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCI7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gdmEoYSkgewogICAgICAgIHJldHVybiB4IHx8ICJmdW5jdGlvbiIgIT0gdHlwZW9mIGZldGNoID8gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB1YShhKSkgOiBmZXRjaChhLCB7IGNyZWRlbnRpYWxzOiAic2FtZS1vcmlnaW4iIH0pLnRoZW4oKGIpID0+IHsKICAgICAgICAgIGlmICghYi5vaykgdGhyb3cgYGZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyR7YX0nYDsKICAgICAgICAgIHJldHVybiBiLmFycmF5QnVmZmVyKCk7CiAgICAgICAgfSkuY2F0Y2goKCkgPT4gdWEoYSkpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHdhKGEsIGIsIGMpIHsKICAgICAgICByZXR1cm4gdmEoYSkudGhlbigoZCkgPT4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoZCwgYikpLnRoZW4oYywgKGQpID0+IHsKICAgICAgICAgIHcoYGZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICR7ZH1gKTsKICAgICAgICAgIHJhKGQpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHhhKGEsIGIpIHsKICAgICAgICB2YXIgYyA9IEk7CiAgICAgICAgcmV0dXJuIHggfHwgImZ1bmN0aW9uIiAhPSB0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcgfHwgc2EoYykgfHwgImZ1bmN0aW9uIiAhPSB0eXBlb2YgZmV0Y2ggPyB3YShjLCBhLCBiKSA6IGZldGNoKGMsIHsgY3JlZGVudGlhbHM6ICJzYW1lLW9yaWdpbiIgfSkudGhlbigKICAgICAgICAgIChkKSA9PiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhkLCBhKS50aGVuKGIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgdyhgd2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICR7ZX1gKTsKICAgICAgICAgICAgdygiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKTsKICAgICAgICAgICAgcmV0dXJuIHdhKGMsIGEsIGIpOwogICAgICAgICAgfSkKICAgICAgICApOwogICAgICB9CiAgICAgIHZhciB5YSA9IChhKSA9PiB7CiAgICAgICAgZm9yICg7IDAgPCBhLmxlbmd0aDsgKSBhLnNoaWZ0KCkoayk7CiAgICAgIH0sIHphID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIFRleHREZWNvZGVyID8gbmV3IFRleHREZWNvZGVyKCJ1dGY4IikgOiB2b2lkIDAsIEogPSAoYSwgYiwgYykgPT4gewogICAgICAgIHZhciBkID0gYiArIGM7CiAgICAgICAgZm9yIChjID0gYjsgYVtjXSAmJiAhKGMgPj0gZCk7ICkgKytjOwogICAgICAgIGlmICgxNiA8IGMgLSBiICYmIGEuYnVmZmVyICYmIHphKSByZXR1cm4gemEuZGVjb2RlKGEuc3ViYXJyYXkoYiwgYykpOwogICAgICAgIGZvciAoZCA9ICIiOyBiIDwgYzsgKSB7CiAgICAgICAgICB2YXIgZSA9IGFbYisrXTsKICAgICAgICAgIGlmIChlICYgMTI4KSB7CiAgICAgICAgICAgIHZhciBmID0gYVtiKytdICYgNjM7CiAgICAgICAgICAgIGlmICgxOTIgPT0gKGUgJiAyMjQpKSBkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGUgJiAzMSkgPDwgNiB8IGYpOwogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICB2YXIgbCA9IGFbYisrXSAmIDYzOwogICAgICAgICAgICAgIGUgPSAyMjQgPT0gKGUgJiAyNDApID8gKGUgJiAxNSkgPDwgMTIgfCBmIDw8IDYgfCBsIDogKGUgJiA3KSA8PCAxOCB8IGYgPDwgMTIgfCBsIDw8IDYgfCBhW2IrK10gJiA2MzsKICAgICAgICAgICAgICA2NTUzNiA+IGUgPyBkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoZSkgOiAoZSAtPSA2NTUzNiwgZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2IHwgZSA+PiAxMCwgNTYzMjAgfCBlICYgMTAyMykpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZDsKICAgICAgfTsKICAgICAgY2xhc3MgQWEgewogICAgICAgIGNvbnN0cnVjdG9yKGEpIHsKICAgICAgICAgIHRoaXMueWEgPSBhIC0gMjQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBCYSA9IDAsIENhID0gMCwgRGEgPSAoYSkgPT4gewogICAgICAgIGZvciAodmFyIGIgPSAwLCBjID0gMDsgYyA8IGEubGVuZ3RoOyArK2MpIHsKICAgICAgICAgIHZhciBkID0gYS5jaGFyQ29kZUF0KGMpOwogICAgICAgICAgMTI3ID49IGQgPyBiKysgOiAyMDQ3ID49IGQgPyBiICs9IDIgOiA1NTI5NiA8PSBkICYmIDU3MzQzID49IGQgPyAoYiArPSA0LCArK2MpIDogYiArPSAzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYjsKICAgICAgfSwgRWEgPSAoYSwgYiwgYywgZCkgPT4gewogICAgICAgIGlmICgwIDwgZCkgewogICAgICAgICAgZCA9IGMgKyBkIC0gMTsKICAgICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgYS5sZW5ndGg7ICsrZSkgewogICAgICAgICAgICB2YXIgZiA9IGEuY2hhckNvZGVBdChlKTsKICAgICAgICAgICAgaWYgKDU1Mjk2IDw9IGYgJiYgNTczNDMgPj0gZikgewogICAgICAgICAgICAgIHZhciBsID0gYS5jaGFyQ29kZUF0KCsrZSk7CiAgICAgICAgICAgICAgZiA9IDY1NTM2ICsgKChmICYgMTAyMykgPDwgMTApIHwgbCAmIDEwMjM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKDEyNyA+PSBmKSB7CiAgICAgICAgICAgICAgaWYgKGMgPj0gZCkgYnJlYWs7CiAgICAgICAgICAgICAgYltjKytdID0gZjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAoMjA0NyA+PSBmKSB7CiAgICAgICAgICAgICAgICBpZiAoYyArIDEgPj0gZCkgYnJlYWs7CiAgICAgICAgICAgICAgICBiW2MrK10gPSAxOTIgfCBmID4+IDY7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmICg2NTUzNSA+PSBmKSB7CiAgICAgICAgICAgICAgICAgIGlmIChjICsgMiA+PSBkKSBicmVhazsKICAgICAgICAgICAgICAgICAgYltjKytdID0gMjI0IHwgZiA+PiAxMjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGlmIChjICsgMyA+PSBkKSBicmVhazsKICAgICAgICAgICAgICAgICAgYltjKytdID0gMjQwIHwgZiA+PiAxODsKICAgICAgICAgICAgICAgICAgYltjKytdID0gMTI4IHwgZiA+PiAxMiAmIDYzOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYltjKytdID0gMTI4IHwgZiA+PiA2ICYgNjM7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJbYysrXSA9IDEyOCB8IGYgJiA2MzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgYltjXSA9IDA7CiAgICAgICAgfQogICAgICB9LCBGYSA9IHt9LCBHYSA9IChhKSA9PiB7CiAgICAgICAgZm9yICg7IGEubGVuZ3RoOyApIHsKICAgICAgICAgIHZhciBiID0gYS5wb3AoKTsKICAgICAgICAgIGEucG9wKCkoYik7CiAgICAgICAgfQogICAgICB9OwogICAgICBmdW5jdGlvbiBLKGEpIHsKICAgICAgICByZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUoRlthID4+IDJdKTsKICAgICAgfQogICAgICB2YXIgTCA9IHt9LCBNID0ge30sIEhhID0ge30sIElhLCBQID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBmdW5jdGlvbiBkKGgpIHsKICAgICAgICAgIGggPSBjKGgpOwogICAgICAgICAgaWYgKGgubGVuZ3RoICE9PSBhLmxlbmd0aCkgdGhyb3cgbmV3IElhKCJNaXNtYXRjaGVkIHR5cGUgY29udmVydGVyIGNvdW50Iik7CiAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGEubGVuZ3RoOyArK24pIE8oYVtuXSwgaFtuXSk7CiAgICAgICAgfQogICAgICAgIGEuZm9yRWFjaChmdW5jdGlvbihoKSB7CiAgICAgICAgICBIYVtoXSA9IGI7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGUgPSBBcnJheShiLmxlbmd0aCksIGYgPSBbXSwgbCA9IDA7CiAgICAgICAgYi5mb3JFYWNoKChoLCBuKSA9PiB7CiAgICAgICAgICBNLmhhc093blByb3BlcnR5KGgpID8gZVtuXSA9IE1baF0gOiAoZi5wdXNoKGgpLCBMLmhhc093blByb3BlcnR5KGgpIHx8IChMW2hdID0gW10pLCBMW2hdLnB1c2goKCkgPT4gewogICAgICAgICAgICBlW25dID0gTVtoXTsKICAgICAgICAgICAgKytsOwogICAgICAgICAgICBsID09PSBmLmxlbmd0aCAmJiBkKGUpOwogICAgICAgICAgfSkpOwogICAgICAgIH0pOwogICAgICAgIDAgPT09IGYubGVuZ3RoICYmIGQoZSk7CiAgICAgIH0sIEphLCBRID0gKGEpID0+IHsKICAgICAgICBmb3IgKHZhciBiID0gIiI7IEFbYV07ICkgYiArPSBKYVtBW2ErK11dOwogICAgICAgIHJldHVybiBiOwogICAgICB9LCBSOwogICAgICBmdW5jdGlvbiBLYShhLCBiLCBjID0ge30pIHsKICAgICAgICB2YXIgZCA9IGIubmFtZTsKICAgICAgICBpZiAoIWEpIHRocm93IG5ldyBSKGB0eXBlICIke2R9IiBtdXN0IGhhdmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIHR5cGVpZCBwb2ludGVyYCk7CiAgICAgICAgaWYgKE0uaGFzT3duUHJvcGVydHkoYSkpIHsKICAgICAgICAgIGlmIChjLmliKSByZXR1cm47CiAgICAgICAgICB0aHJvdyBuZXcgUihgQ2Fubm90IHJlZ2lzdGVyIHR5cGUgJyR7ZH0nIHR3aWNlYCk7CiAgICAgICAgfQogICAgICAgIE1bYV0gPSBiOwogICAgICAgIGRlbGV0ZSBIYVthXTsKICAgICAgICBMLmhhc093blByb3BlcnR5KGEpICYmIChiID0gTFthXSwgZGVsZXRlIExbYV0sIGIuZm9yRWFjaCgoZSkgPT4gZSgpKSk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gTyhhLCBiLCBjID0ge30pIHsKICAgICAgICBpZiAoISgiYXJnUGFja0FkdmFuY2UiIGluIGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWdpc3RlclR5cGUgcmVnaXN0ZXJlZEluc3RhbmNlIHJlcXVpcmVzIGFyZ1BhY2tBZHZhbmNlIik7CiAgICAgICAgcmV0dXJuIEthKGEsIGIsIGMpOwogICAgICB9CiAgICAgIHZhciBMYSA9IChhKSA9PiB7CiAgICAgICAgdGhyb3cgbmV3IFIoYS5tYS56YS54YS5uYW1lICsgIiBpbnN0YW5jZSBhbHJlYWR5IGRlbGV0ZWQiKTsKICAgICAgfSwgTWEgPSBmYWxzZSwgT2EgPSAoKSA9PiB7CiAgICAgIH0sIFBhID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBpZiAoYiA9PT0gYykgcmV0dXJuIGE7CiAgICAgICAgaWYgKHZvaWQgMCA9PT0gYy5DYSkgcmV0dXJuIG51bGw7CiAgICAgICAgYSA9IFBhKGEsIGIsIGMuQ2EpOwogICAgICAgIHJldHVybiBudWxsID09PSBhID8gbnVsbCA6IGMuYWIoYSk7CiAgICAgIH0sIFFhID0ge30sIFJhID0gW10sIFNhID0gKCkgPT4gewogICAgICAgIGZvciAoOyBSYS5sZW5ndGg7ICkgewogICAgICAgICAgdmFyIGEgPSBSYS5wb3AoKTsKICAgICAgICAgIGEubWEuS2EgPSBmYWxzZTsKICAgICAgICAgIGFbImRlbGV0ZSJdKCk7CiAgICAgICAgfQogICAgICB9LCBUYSwgVWEgPSB7fSwgVmEgPSAoYSwgYikgPT4gewogICAgICAgIGlmICh2b2lkIDAgPT09IGIpIHRocm93IG5ldyBSKCJwdHIgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQiKTsKICAgICAgICBmb3IgKDsgYS5DYTsgKSBiID0gYS5OYShiKSwgYSA9IGEuQ2E7CiAgICAgICAgcmV0dXJuIFVhW2JdOwogICAgICB9LCBYYSA9IChhLCBiKSA9PiB7CiAgICAgICAgaWYgKCFiLnphIHx8ICFiLnlhKSB0aHJvdyBuZXcgSWEoIm1ha2VDbGFzc0hhbmRsZSByZXF1aXJlcyBwdHIgYW5kIHB0clR5cGUiKTsKICAgICAgICBpZiAoISFiLkRhICE9PSAhIWIuQWEpIHRocm93IG5ldyBJYSgiQm90aCBzbWFydFB0clR5cGUgYW5kIHNtYXJ0UHRyIG11c3QgYmUgc3BlY2lmaWVkIik7CiAgICAgICAgYi5jb3VudCA9IHsgdmFsdWU6IDEgfTsKICAgICAgICByZXR1cm4gV2EoT2JqZWN0LmNyZWF0ZShhLCB7IG1hOiB7IHZhbHVlOiBiLCB3cml0YWJsZTogdHJ1ZSB9IH0pKTsKICAgICAgfSwgV2EgPSAoYSkgPT4gewogICAgICAgIGlmICgidW5kZWZpbmVkIiA9PT0gdHlwZW9mIEZpbmFsaXphdGlvblJlZ2lzdHJ5KSByZXR1cm4gV2EgPSAoYikgPT4gYiwgYTsKICAgICAgICBNYSA9IG5ldyBGaW5hbGl6YXRpb25SZWdpc3RyeSgoYikgPT4gewogICAgICAgICAgYiA9IGIubWE7CiAgICAgICAgICAtLWIuY291bnQudmFsdWU7CiAgICAgICAgICAwID09PSBiLmNvdW50LnZhbHVlICYmIChiLkFhID8gYi5EYS5GYShiLkFhKSA6IGIuemEueGEuRmEoYi55YSkpOwogICAgICAgIH0pOwogICAgICAgIFdhID0gKGIpID0+IHsKICAgICAgICAgIHZhciBjID0gYi5tYTsKICAgICAgICAgIGMuQWEgJiYgTWEucmVnaXN0ZXIoYiwgeyBtYTogYyB9LCBiKTsKICAgICAgICAgIHJldHVybiBiOwogICAgICAgIH07CiAgICAgICAgT2EgPSAoYikgPT4gewogICAgICAgICAgTWEudW5yZWdpc3RlcihiKTsKICAgICAgICB9OwogICAgICAgIHJldHVybiBXYShhKTsKICAgICAgfTsKICAgICAgZnVuY3Rpb24gWWEoKSB7CiAgICAgIH0KICAgICAgdmFyIFphID0gKGEsIGIpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLCAibmFtZSIsIHsgdmFsdWU6IGEgfSksICRhID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBpZiAodm9pZCAwID09PSBhW2JdLkJhKSB7CiAgICAgICAgICB2YXIgZCA9IGFbYl07CiAgICAgICAgICBhW2JdID0gZnVuY3Rpb24oLi4uZSkgewogICAgICAgICAgICBpZiAoIWFbYl0uQmEuaGFzT3duUHJvcGVydHkoZS5sZW5ndGgpKQogICAgICAgICAgICAgIHRocm93IG5ldyBSKAogICAgICAgICAgICAgICAgYEZ1bmN0aW9uICcke2N9JyBjYWxsZWQgd2l0aCBhbiBpbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMgKCR7ZS5sZW5ndGh9KSAtIGV4cGVjdHMgb25lIG9mICgke2FbYl0uQmF9KSFgCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuIGFbYl0uQmFbZS5sZW5ndGhdLmFwcGx5KHRoaXMsIGUpOwogICAgICAgICAgfTsKICAgICAgICAgIGFbYl0uQmEgPSBbXTsKICAgICAgICAgIGFbYl0uQmFbZC5PYV0gPSBkOwogICAgICAgIH0KICAgICAgfSwgYWIgPSAoYSwgYiwgYykgPT4gewogICAgICAgIGlmIChrLmhhc093blByb3BlcnR5KGEpKSB7CiAgICAgICAgICBpZiAodm9pZCAwID09PSBjIHx8IHZvaWQgMCAhPT0ga1thXS5CYSAmJiB2b2lkIDAgIT09IGtbYV0uQmFbY10pCiAgICAgICAgICAgIHRocm93IG5ldyBSKGBDYW5ub3QgcmVnaXN0ZXIgcHVibGljIG5hbWUgJyR7YX0nIHR3aWNlYCk7CiAgICAgICAgICAkYShrLCBhLCBhKTsKICAgICAgICAgIGlmIChrLmhhc093blByb3BlcnR5KGMpKQogICAgICAgICAgICB0aHJvdyBuZXcgUihgQ2Fubm90IHJlZ2lzdGVyIG11bHRpcGxlIG92ZXJsb2FkcyBvZiBhIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgbnVtYmVyIG9mIGFyZ3VtZW50cyAoJHtjfSkhYCk7CiAgICAgICAgICBrW2FdLkJhW2NdID0gYjsKICAgICAgICB9IGVsc2Uga1thXSA9IGIsIHZvaWQgMCAhPT0gYyAmJiAoa1thXS52YiA9IGMpOwogICAgICB9LCBiYiA9IChhKSA9PiB7CiAgICAgICAgaWYgKHZvaWQgMCA9PT0gYSkgcmV0dXJuICJfdW5rbm93biI7CiAgICAgICAgYSA9IGEucmVwbGFjZSgvW15hLXpBLVowLTlfXS9nLCAiJCIpOwogICAgICAgIHZhciBiID0gYS5jaGFyQ29kZUF0KDApOwogICAgICAgIHJldHVybiA0OCA8PSBiICYmIDU3ID49IGIgPyBgXyR7YX1gIDogYTsKICAgICAgfTsKICAgICAgZnVuY3Rpb24gY2IoYSwgYiwgYywgZCwgZSwgZiwgbCwgaCkgewogICAgICAgIHRoaXMubmFtZSA9IGE7CiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGI7CiAgICAgICAgdGhpcy5MYSA9IGM7CiAgICAgICAgdGhpcy5GYSA9IGQ7CiAgICAgICAgdGhpcy5DYSA9IGU7CiAgICAgICAgdGhpcy5jYiA9IGY7CiAgICAgICAgdGhpcy5OYSA9IGw7CiAgICAgICAgdGhpcy5hYiA9IGg7CiAgICAgICAgdGhpcy5rYiA9IFtdOwogICAgICB9CiAgICAgIHZhciBkYiA9IChhLCBiLCBjKSA9PiB7CiAgICAgICAgZm9yICg7IGIgIT09IGM7ICkgewogICAgICAgICAgaWYgKCFiLk5hKSB0aHJvdyBuZXcgUihgRXhwZWN0ZWQgbnVsbCBvciBpbnN0YW5jZSBvZiAke2MubmFtZX0sIGdvdCBhbiBpbnN0YW5jZSBvZiAke2IubmFtZX1gKTsKICAgICAgICAgIGEgPSBiLk5hKGEpOwogICAgICAgICAgYiA9IGIuQ2E7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhOwogICAgICB9OwogICAgICBmdW5jdGlvbiBlYihhLCBiKSB7CiAgICAgICAgaWYgKG51bGwgPT09IGIpIHsKICAgICAgICAgIGlmICh0aGlzLlRhKSB0aHJvdyBuZXcgUihgbnVsbCBpcyBub3QgYSB2YWxpZCAke3RoaXMubmFtZX1gKTsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICBpZiAoIWIubWEpIHRocm93IG5ldyBSKGBDYW5ub3QgcGFzcyAiJHtmYihiKX0iIGFzIGEgJHt0aGlzLm5hbWV9YCk7CiAgICAgICAgaWYgKCFiLm1hLnlhKSB0aHJvdyBuZXcgUihgQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgJHt0aGlzLm5hbWV9YCk7CiAgICAgICAgcmV0dXJuIGRiKGIubWEueWEsIGIubWEuemEueGEsIHRoaXMueGEpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGdiKGEsIGIpIHsKICAgICAgICBpZiAobnVsbCA9PT0gYikgewogICAgICAgICAgaWYgKHRoaXMuVGEpIHRocm93IG5ldyBSKGBudWxsIGlzIG5vdCBhIHZhbGlkICR7dGhpcy5uYW1lfWApOwogICAgICAgICAgaWYgKHRoaXMuUWEpIHsKICAgICAgICAgICAgdmFyIGMgPSB0aGlzLlVhKCk7CiAgICAgICAgICAgIG51bGwgIT09IGEgJiYgYS5wdXNoKHRoaXMuRmEsIGMpOwogICAgICAgICAgICByZXR1cm4gYzsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICBpZiAoIWIgfHwgIWIubWEpIHRocm93IG5ldyBSKGBDYW5ub3QgcGFzcyAiJHtmYihiKX0iIGFzIGEgJHt0aGlzLm5hbWV9YCk7CiAgICAgICAgaWYgKCFiLm1hLnlhKSB0aHJvdyBuZXcgUihgQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgJHt0aGlzLm5hbWV9YCk7CiAgICAgICAgaWYgKCF0aGlzLlBhICYmIGIubWEuemEuUGEpCiAgICAgICAgICB0aHJvdyBuZXcgUigKICAgICAgICAgICAgYENhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgJHtiLm1hLkRhID8gYi5tYS5EYS5uYW1lIDogYi5tYS56YS5uYW1lfSB0byBwYXJhbWV0ZXIgdHlwZSAke3RoaXMubmFtZX1gCiAgICAgICAgICApOwogICAgICAgIGMgPSBkYihiLm1hLnlhLCBiLm1hLnphLnhhLCB0aGlzLnhhKTsKICAgICAgICBpZiAodGhpcy5RYSkgewogICAgICAgICAgaWYgKHZvaWQgMCA9PT0gYi5tYS5BYSkgdGhyb3cgbmV3IFIoIlBhc3NpbmcgcmF3IHBvaW50ZXIgdG8gc21hcnQgcG9pbnRlciBpcyBpbGxlZ2FsIik7CiAgICAgICAgICBzd2l0Y2ggKHRoaXMucGIpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmIChiLm1hLkRhID09PSB0aGlzKSBjID0gYi5tYS5BYTsKICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUigKICAgICAgICAgICAgICAgICAgYENhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgJHtiLm1hLkRhID8gYi5tYS5EYS5uYW1lIDogYi5tYS56YS5uYW1lfSB0byBwYXJhbWV0ZXIgdHlwZSAke3RoaXMubmFtZX1gCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgYyA9IGIubWEuQWE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBpZiAoYi5tYS5EYSA9PT0gdGhpcykgYyA9IGIubWEuQWE7CiAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgZCA9IGIuY2xvbmUoKTsKICAgICAgICAgICAgICAgIGMgPSB0aGlzLmxiKAogICAgICAgICAgICAgICAgICBjLAogICAgICAgICAgICAgICAgICBoYigoKSA9PiBkWyJkZWxldGUiXSgpKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIG51bGwgIT09IGEgJiYgYS5wdXNoKHRoaXMuRmEsIGMpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICB0aHJvdyBuZXcgUigiVW5zdXBwb3J0aW5nIHNoYXJpbmcgcG9saWN5Iik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBjOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGliKGEsIGIpIHsKICAgICAgICBpZiAobnVsbCA9PT0gYikgewogICAgICAgICAgaWYgKHRoaXMuVGEpIHRocm93IG5ldyBSKGBudWxsIGlzIG5vdCBhIHZhbGlkICR7dGhpcy5uYW1lfWApOwogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIGlmICghYi5tYSkgdGhyb3cgbmV3IFIoYENhbm5vdCBwYXNzICIke2ZiKGIpfSIgYXMgYSAke3RoaXMubmFtZX1gKTsKICAgICAgICBpZiAoIWIubWEueWEpIHRocm93IG5ldyBSKGBDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAke3RoaXMubmFtZX1gKTsKICAgICAgICBpZiAoYi5tYS56YS5QYSkgdGhyb3cgbmV3IFIoYENhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgJHtiLm1hLnphLm5hbWV9IHRvIHBhcmFtZXRlciB0eXBlICR7dGhpcy5uYW1lfWApOwogICAgICAgIHJldHVybiBkYihiLm1hLnlhLCBiLm1hLnphLnhhLCB0aGlzLnhhKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBqYihhLCBiLCBjLCBkLCBlLCBmLCBsLCBoLCBuLCBtLCBwKSB7CiAgICAgICAgdGhpcy5uYW1lID0gYTsKICAgICAgICB0aGlzLnhhID0gYjsKICAgICAgICB0aGlzLlRhID0gYzsKICAgICAgICB0aGlzLlBhID0gZDsKICAgICAgICB0aGlzLlFhID0gZTsKICAgICAgICB0aGlzLmpiID0gZjsKICAgICAgICB0aGlzLnBiID0gbDsKICAgICAgICB0aGlzLlphID0gaDsKICAgICAgICB0aGlzLlVhID0gbjsKICAgICAgICB0aGlzLmxiID0gbTsKICAgICAgICB0aGlzLkZhID0gcDsKICAgICAgICBlIHx8IHZvaWQgMCAhPT0gYi5DYSA/IHRoaXMudG9XaXJlVHlwZSA9IGdiIDogKHRoaXMudG9XaXJlVHlwZSA9IGQgPyBlYiA6IGliLCB0aGlzLkVhID0gbnVsbCk7CiAgICAgIH0KICAgICAgdmFyIGtiID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBpZiAoIWsuaGFzT3duUHJvcGVydHkoYSkpIHRocm93IG5ldyBJYSgiUmVwbGFjaW5nIG5vbmV4aXN0ZW50IHB1YmxpYyBzeW1ib2wiKTsKICAgICAgICB2b2lkIDAgIT09IGtbYV0uQmEgJiYgdm9pZCAwICE9PSBjID8ga1thXS5CYVtjXSA9IGIgOiAoa1thXSA9IGIsIGtbYV0uT2EgPSBjKTsKICAgICAgfSwgUywgbGIgPSAoYSwgYiwgYyA9IFtdKSA9PiB7CiAgICAgICAgYS5pbmNsdWRlcygiaiIpID8gKGEgPSBhLnJlcGxhY2UoL3AvZywgImkiKSwgYiA9ICgwLCBrWyJkeW5DYWxsXyIgKyBhXSkoYiwgLi4uYykpIDogYiA9IFMuZ2V0KGIpKC4uLmMpOwogICAgICAgIHJldHVybiBiOwogICAgICB9LCBtYiA9IChhLCBiKSA9PiAoLi4uYykgPT4gbGIoYSwgYiwgYyksIFQgPSAoYSwgYikgPT4gewogICAgICAgIGEgPSBRKGEpOwogICAgICAgIHZhciBjID0gYS5pbmNsdWRlcygiaiIpID8gbWIoYSwgYikgOiBTLmdldChiKTsKICAgICAgICBpZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgYykgdGhyb3cgbmV3IFIoYHVua25vd24gZnVuY3Rpb24gcG9pbnRlciB3aXRoIHNpZ25hdHVyZSAke2F9OiAke2J9YCk7CiAgICAgICAgcmV0dXJuIGM7CiAgICAgIH0sIG5iLCBwYiA9IChhKSA9PiB7CiAgICAgICAgYSA9IG9iKGEpOwogICAgICAgIHZhciBiID0gUShhKTsKICAgICAgICBVKGEpOwogICAgICAgIHJldHVybiBiOwogICAgICB9LCBxYiA9IChhLCBiKSA9PiB7CiAgICAgICAgZnVuY3Rpb24gYyhmKSB7CiAgICAgICAgICBlW2ZdIHx8IE1bZl0gfHwgKEhhW2ZdID8gSGFbZl0uZm9yRWFjaChjKSA6IChkLnB1c2goZiksIGVbZl0gPSB0cnVlKSk7CiAgICAgICAgfQogICAgICAgIHZhciBkID0gW10sIGUgPSB7fTsKICAgICAgICBiLmZvckVhY2goYyk7CiAgICAgICAgdGhyb3cgbmV3IG5iKGAke2F9OiBgICsgZC5tYXAocGIpLmpvaW4oWyIsICJdKSk7CiAgICAgIH0sIHJiID0gKGEsIGIpID0+IHsKICAgICAgICBmb3IgKHZhciBjID0gW10sIGQgPSAwOyBkIDwgYTsgZCsrKSBjLnB1c2goRltiICsgNCAqIGQgPj4gMl0pOwogICAgICAgIHJldHVybiBjOwogICAgICB9OwogICAgICBmdW5jdGlvbiBzYihhKSB7CiAgICAgICAgZm9yICh2YXIgYiA9IDE7IGIgPCBhLmxlbmd0aDsgKytiKSBpZiAobnVsbCAhPT0gYVtiXSAmJiB2b2lkIDAgPT09IGFbYl0uRWEpIHJldHVybiB0cnVlOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBmdW5jdGlvbiB0YihhLCBiLCBjLCBkLCBlKSB7CiAgICAgICAgdmFyIGYgPSBiLmxlbmd0aDsKICAgICAgICBpZiAoMiA+IGYpIHRocm93IG5ldyBSKCJhcmdUeXBlcyBhcnJheSBzaXplIG1pc21hdGNoISBNdXN0IGF0IGxlYXN0IGdldCByZXR1cm4gdmFsdWUgYW5kICd0aGlzJyB0eXBlcyEiKTsKICAgICAgICB2YXIgbCA9IG51bGwgIT09IGJbMV0gJiYgbnVsbCAhPT0gYywgaCA9IHNiKGIpLCBuID0gInZvaWQiICE9PSBiWzBdLm5hbWUsIG0gPSBmIC0gMiwgcCA9IEFycmF5KG0pLCB1ID0gW10sIHYgPSBbXTsKICAgICAgICByZXR1cm4gWmEoYSwgZnVuY3Rpb24oLi4uZykgewogICAgICAgICAgaWYgKGcubGVuZ3RoICE9PSBtKSB0aHJvdyBuZXcgUihgZnVuY3Rpb24gJHthfSBjYWxsZWQgd2l0aCAke2cubGVuZ3RofSBhcmd1bWVudHMsIGV4cGVjdGVkICR7bX1gKTsKICAgICAgICAgIHYubGVuZ3RoID0gMDsKICAgICAgICAgIHUubGVuZ3RoID0gbCA/IDIgOiAxOwogICAgICAgICAgdVswXSA9IGU7CiAgICAgICAgICBpZiAobCkgewogICAgICAgICAgICB2YXIgcSA9IGJbMV0udG9XaXJlVHlwZSh2LCB0aGlzKTsKICAgICAgICAgICAgdVsxXSA9IHE7CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IG07ICsrcikgcFtyXSA9IGJbciArIDJdLnRvV2lyZVR5cGUodiwgZ1tyXSksIHUucHVzaChwW3JdKTsKICAgICAgICAgIGcgPSBkKC4uLnUpOwogICAgICAgICAgaWYgKGgpIEdhKHYpOwogICAgICAgICAgZWxzZQogICAgICAgICAgICBmb3IgKHIgPSBsID8gMSA6IDI7IHIgPCBiLmxlbmd0aDsgcisrKSB7CiAgICAgICAgICAgICAgdmFyIHogPSAxID09PSByID8gcSA6IHBbciAtIDJdOwogICAgICAgICAgICAgIG51bGwgIT09IGJbcl0uRWEgJiYgYltyXS5FYSh6KTsKICAgICAgICAgICAgfQogICAgICAgICAgcSA9IG4gPyBiWzBdLmZyb21XaXJlVHlwZShnKSA6IHZvaWQgMDsKICAgICAgICAgIHJldHVybiBxOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHZhciB1YiA9IChhKSA9PiB7CiAgICAgICAgYSA9IGEudHJpbSgpOwogICAgICAgIGNvbnN0IGIgPSBhLmluZGV4T2YoIigiKTsKICAgICAgICByZXR1cm4gLTEgIT09IGIgPyBhLnN1YnN0cigwLCBiKSA6IGE7CiAgICAgIH0sIHZiID0gW10sIFYgPSBbXSwgd2IgPSAoYSkgPT4gewogICAgICAgIDkgPCBhICYmIDAgPT09IC0tVlthICsgMV0gJiYgKFZbYV0gPSB2b2lkIDAsIHZiLnB1c2goYSkpOwogICAgICB9LCB5YiA9IChhKSA9PiB7CiAgICAgICAgaWYgKCFhKSB0aHJvdyBuZXcgUigiQ2Fubm90IHVzZSBkZWxldGVkIHZhbC4gaGFuZGxlID0gIiArIGEpOwogICAgICAgIHJldHVybiBWW2FdOwogICAgICB9LCBoYiA9IChhKSA9PiB7CiAgICAgICAgc3dpdGNoIChhKSB7CiAgICAgICAgICBjYXNlIHZvaWQgMDoKICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICBjYXNlIG51bGw6CiAgICAgICAgICAgIHJldHVybiA0OwogICAgICAgICAgY2FzZSB0cnVlOgogICAgICAgICAgICByZXR1cm4gNjsKICAgICAgICAgIGNhc2UgZmFsc2U6CiAgICAgICAgICAgIHJldHVybiA4OwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgY29uc3QgYiA9IHZiLnBvcCgpIHx8IFYubGVuZ3RoOwogICAgICAgICAgICBWW2JdID0gYTsKICAgICAgICAgICAgVltiICsgMV0gPSAxOwogICAgICAgICAgICByZXR1cm4gYjsKICAgICAgICB9CiAgICAgIH0sIHpiID0gewogICAgICAgIG5hbWU6ICJlbXNjcmlwdGVuOjp2YWwiLAogICAgICAgIGZyb21XaXJlVHlwZTogKGEpID0+IHsKICAgICAgICAgIHZhciBiID0geWIoYSk7CiAgICAgICAgICB3YihhKTsKICAgICAgICAgIHJldHVybiBiOwogICAgICAgIH0sCiAgICAgICAgdG9XaXJlVHlwZTogKGEsIGIpID0+IGhiKGIpLAogICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgIHJlYWRWYWx1ZUZyb21Qb2ludGVyOiBLLAogICAgICAgIEVhOiBudWxsCiAgICAgIH0sIEFiID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBzd2l0Y2ggKGIpIHsKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgcmV0dXJuIGMgPyBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKHlbZF0pOwogICAgICAgICAgICB9IDogZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShBW2RdKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIGMgPyBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKEJbZCA+PiAxXSk7CiAgICAgICAgICAgIH0gOiBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKENbZCA+PiAxXSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHJldHVybiBjID8gZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShFW2QgPj4gMl0pOwogICAgICAgICAgICB9IDogZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShGW2QgPj4gMl0pOwogICAgICAgICAgICB9OwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgaW52YWxpZCBpbnRlZ2VyIHdpZHRoICgke2J9KTogJHthfWApOwogICAgICAgIH0KICAgICAgfSwgQmIgPSAoYSwgYikgPT4gewogICAgICAgIHZhciBjID0gTVthXTsKICAgICAgICBpZiAodm9pZCAwID09PSBjKSB0aHJvdyBhID0gYCR7Yn0gaGFzIHVua25vd24gdHlwZSAke3BiKGEpfWAsIG5ldyBSKGEpOwogICAgICAgIHJldHVybiBjOwogICAgICB9LCBmYiA9IChhKSA9PiB7CiAgICAgICAgaWYgKG51bGwgPT09IGEpIHJldHVybiAibnVsbCI7CiAgICAgICAgdmFyIGIgPSB0eXBlb2YgYTsKICAgICAgICByZXR1cm4gIm9iamVjdCIgPT09IGIgfHwgImFycmF5IiA9PT0gYiB8fCAiZnVuY3Rpb24iID09PSBiID8gYS50b1N0cmluZygpIDogIiIgKyBhOwogICAgICB9LCBDYiA9IChhLCBiKSA9PiB7CiAgICAgICAgc3dpdGNoIChiKSB7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihjKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKGphW2MgPj4gMl0pOwogICAgICAgICAgICB9OwogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oYykgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShrYVtjID4+IDNdKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGludmFsaWQgZmxvYXQgd2lkdGggKCR7Yn0pOiAke2F9YCk7CiAgICAgICAgfQogICAgICB9LCBEYiA9IChhLCBiLCBjKSA9PiB7CiAgICAgICAgc3dpdGNoIChiKSB7CiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIHJldHVybiBjID8gKGQpID0+IHlbZF0gOiAoZCkgPT4gQVtkXTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIGMgPyAoZCkgPT4gQltkID4+IDFdIDogKGQpID0+IENbZCA+PiAxXTsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgcmV0dXJuIGMgPyAoZCkgPT4gRVtkID4+IDJdIDogKGQpID0+IEZbZCA+PiAyXTsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGludmFsaWQgaW50ZWdlciB3aWR0aCAoJHtifSk6ICR7YX1gKTsKICAgICAgICB9CiAgICAgIH0sIEViID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIFRleHREZWNvZGVyID8gbmV3IFRleHREZWNvZGVyKCJ1dGYtMTZsZSIpIDogdm9pZCAwLCBGYiA9IChhLCBiKSA9PiB7CiAgICAgICAgdmFyIGMgPSBhID4+IDE7CiAgICAgICAgZm9yICh2YXIgZCA9IGMgKyBiIC8gMjsgIShjID49IGQpICYmIENbY107ICkgKytjOwogICAgICAgIGMgPDw9IDE7CiAgICAgICAgaWYgKDMyIDwgYyAtIGEgJiYgRWIpIHJldHVybiBFYi5kZWNvZGUoQS5zdWJhcnJheShhLCBjKSk7CiAgICAgICAgYyA9ICIiOwogICAgICAgIGZvciAoZCA9IDA7ICEoZCA+PSBiIC8gMik7ICsrZCkgewogICAgICAgICAgdmFyIGUgPSBCW2EgKyAyICogZCA+PiAxXTsKICAgICAgICAgIGlmICgwID09IGUpIGJyZWFrOwogICAgICAgICAgYyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYzsKICAgICAgfSwgR2IgPSAoYSwgYiwgYykgPT4gewogICAgICAgIGMgPz8gKGMgPSAyMTQ3NDgzNjQ3KTsKICAgICAgICBpZiAoMiA+IGMpIHJldHVybiAwOwogICAgICAgIGMgLT0gMjsKICAgICAgICB2YXIgZCA9IGI7CiAgICAgICAgYyA9IGMgPCAyICogYS5sZW5ndGggPyBjIC8gMiA6IGEubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgYzsgKytlKSBCW2IgPj4gMV0gPSBhLmNoYXJDb2RlQXQoZSksIGIgKz0gMjsKICAgICAgICBCW2IgPj4gMV0gPSAwOwogICAgICAgIHJldHVybiBiIC0gZDsKICAgICAgfSwgSGIgPSAoYSkgPT4gMiAqIGEubGVuZ3RoLCBJYiA9IChhLCBiKSA9PiB7CiAgICAgICAgZm9yICh2YXIgYyA9IDAsIGQgPSAiIjsgIShjID49IGIgLyA0KTsgKSB7CiAgICAgICAgICB2YXIgZSA9IEVbYSArIDQgKiBjID4+IDJdOwogICAgICAgICAgaWYgKDAgPT0gZSkgYnJlYWs7CiAgICAgICAgICArK2M7CiAgICAgICAgICA2NTUzNiA8PSBlID8gKGUgLT0gNjU1MzYsIGQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NiB8IGUgPj4gMTAsIDU2MzIwIHwgZSAmIDEwMjMpKSA6IGQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGQ7CiAgICAgIH0sIEpiID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBjID8/IChjID0gMjE0NzQ4MzY0Nyk7CiAgICAgICAgaWYgKDQgPiBjKSByZXR1cm4gMDsKICAgICAgICB2YXIgZCA9IGI7CiAgICAgICAgYyA9IGQgKyBjIC0gNDsKICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IGEubGVuZ3RoOyArK2UpIHsKICAgICAgICAgIHZhciBmID0gYS5jaGFyQ29kZUF0KGUpOwogICAgICAgICAgaWYgKDU1Mjk2IDw9IGYgJiYgNTczNDMgPj0gZikgewogICAgICAgICAgICB2YXIgbCA9IGEuY2hhckNvZGVBdCgrK2UpOwogICAgICAgICAgICBmID0gNjU1MzYgKyAoKGYgJiAxMDIzKSA8PCAxMCkgfCBsICYgMTAyMzsKICAgICAgICAgIH0KICAgICAgICAgIEVbYiA+PiAyXSA9IGY7CiAgICAgICAgICBiICs9IDQ7CiAgICAgICAgICBpZiAoYiArIDQgPiBjKSBicmVhazsKICAgICAgICB9CiAgICAgICAgRVtiID4+IDJdID0gMDsKICAgICAgICByZXR1cm4gYiAtIGQ7CiAgICAgIH0sIEtiID0gKGEpID0+IHsKICAgICAgICBmb3IgKHZhciBiID0gMCwgYyA9IDA7IGMgPCBhLmxlbmd0aDsgKytjKSB7CiAgICAgICAgICB2YXIgZCA9IGEuY2hhckNvZGVBdChjKTsKICAgICAgICAgIDU1Mjk2IDw9IGQgJiYgNTczNDMgPj0gZCAmJiArK2M7CiAgICAgICAgICBiICs9IDQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiBiOwogICAgICB9LCBMYiA9IFtdLCBNYiA9IChhKSA9PiB7CiAgICAgICAgdmFyIGIgPSBMYi5sZW5ndGg7CiAgICAgICAgTGIucHVzaChhKTsKICAgICAgICByZXR1cm4gYjsKICAgICAgfSwgTmIgPSAoYSwgYikgPT4gewogICAgICAgIGZvciAodmFyIGMgPSBBcnJheShhKSwgZCA9IDA7IGQgPCBhOyArK2QpIGNbZF0gPSBCYihGW2IgKyA0ICogZCA+PiAyXSwgInBhcmFtZXRlciAiICsgZCk7CiAgICAgICAgcmV0dXJuIGM7CiAgICAgIH0sIE9iID0gUmVmbGVjdC5jb25zdHJ1Y3QsIFBiID0ge30sIFJiID0gKCkgPT4gewogICAgICAgIGlmICghUWIpIHsKICAgICAgICAgIHZhciBhID0gewogICAgICAgICAgICBVU0VSOiAid2ViX3VzZXIiLAogICAgICAgICAgICBMT0dOQU1FOiAid2ViX3VzZXIiLAogICAgICAgICAgICBQQVRIOiAiLyIsCiAgICAgICAgICAgIFBXRDogIi8iLAogICAgICAgICAgICBIT01FOiAiL2hvbWUvd2ViX3VzZXIiLAogICAgICAgICAgICBMQU5HOiAoIm9iamVjdCIgPT0gdHlwZW9mIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IubGFuZ3VhZ2VzICYmIG5hdmlnYXRvci5sYW5ndWFnZXNbMF0gfHwgIkMiKS5yZXBsYWNlKAogICAgICAgICAgICAgICItIiwKICAgICAgICAgICAgICAiXyIKICAgICAgICAgICAgKSArICIuVVRGLTgiLAogICAgICAgICAgICBfOiBkYSB8fCAiLi90aGlzLnByb2dyYW0iCiAgICAgICAgICB9LCBiOwogICAgICAgICAgZm9yIChiIGluIFBiKSB2b2lkIDAgPT09IFBiW2JdID8gZGVsZXRlIGFbYl0gOiBhW2JdID0gUGJbYl07CiAgICAgICAgICB2YXIgYyA9IFtdOwogICAgICAgICAgZm9yIChiIGluIGEpIGMucHVzaChgJHtifT0ke2FbYl19YCk7CiAgICAgICAgICBRYiA9IGM7CiAgICAgICAgfQogICAgICAgIHJldHVybiBRYjsKICAgICAgfSwgUWIsIFNiID0gW251bGwsIFtdLCBbXV0sIFRiID0gKCkgPT4gewogICAgICAgIGlmICgib2JqZWN0IiA9PSB0eXBlb2YgY3J5cHRvICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpCiAgICAgICAgICByZXR1cm4gKGEpID0+IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYSk7CiAgICAgICAgcmEoImluaXRSYW5kb21EZXZpY2UiKTsKICAgICAgfSwgVWIgPSAoYSkgPT4gKFViID0gVGIoKSkoYSksIFZiID0gKGEpID0+IDAgPT09IGEgJSA0ICYmICgwICE9PSBhICUgMTAwIHx8IDAgPT09IGEgJSA0MDApLCBXYiA9IFszMSwgMjksIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXSwgWGIgPSBbMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07CiAgICAgIGZ1bmN0aW9uIFliKGEpIHsKICAgICAgICB2YXIgYiA9IEFycmF5KERhKGEpICsgMSk7CiAgICAgICAgRWEoYSwgYiwgMCwgYi5sZW5ndGgpOwogICAgICAgIHJldHVybiBiOwogICAgICB9CiAgICAgIHZhciBaYiA9IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgZnVuY3Rpb24gZShnLCBxLCByKSB7CiAgICAgICAgICBmb3IgKGcgPSAibnVtYmVyIiA9PSB0eXBlb2YgZyA/IGcudG9TdHJpbmcoKSA6IGcgfHwgIiI7IGcubGVuZ3RoIDwgcTsgKSBnID0gclswXSArIGc7CiAgICAgICAgICByZXR1cm4gZzsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZihnLCBxKSB7CiAgICAgICAgICByZXR1cm4gZShnLCBxLCAiMCIpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBsKGcsIHEpIHsKICAgICAgICAgIGZ1bmN0aW9uIHIoTikgewogICAgICAgICAgICByZXR1cm4gMCA+IE4gPyAtMSA6IDAgPCBOID8gMSA6IDA7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgejsKICAgICAgICAgIDAgPT09ICh6ID0gcihnLmdldEZ1bGxZZWFyKCkgLSBxLmdldEZ1bGxZZWFyKCkpKSAmJiAwID09PSAoeiA9IHIoZy5nZXRNb250aCgpIC0gcS5nZXRNb250aCgpKSkgJiYgKHogPSByKGcuZ2V0RGF0ZSgpIC0gcS5nZXREYXRlKCkpKTsKICAgICAgICAgIHJldHVybiB6OwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBoKGcpIHsKICAgICAgICAgIHN3aXRjaCAoZy5nZXREYXkoKSkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGcuZ2V0RnVsbFllYXIoKSAtIDEsIDExLCAyOSk7CiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICByZXR1cm4gZzsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShnLmdldEZ1bGxZZWFyKCksIDAsIDMpOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGcuZ2V0RnVsbFllYXIoKSwgMCwgMik7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZy5nZXRGdWxsWWVhcigpLCAwLCAxKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShnLmdldEZ1bGxZZWFyKCkgLSAxLCAxMSwgMzEpOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGcuZ2V0RnVsbFllYXIoKSAtIDEsIDExLCAzMCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIG4oZykgewogICAgICAgICAgdmFyIHEgPSBnLklhOwogICAgICAgICAgZm9yIChnID0gbmV3IERhdGUobmV3IERhdGUoZy5KYSArIDE5MDAsIDAsIDEpLmdldFRpbWUoKSk7IDAgPCBxOyApIHsKICAgICAgICAgICAgdmFyIHIgPSBnLmdldE1vbnRoKCksIHogPSAoVmIoZy5nZXRGdWxsWWVhcigpKSA/IFdiIDogWGIpW3JdOwogICAgICAgICAgICBpZiAocSA+IHogLSBnLmdldERhdGUoKSkKICAgICAgICAgICAgICBxIC09IHogLSBnLmdldERhdGUoKSArIDEsIGcuc2V0RGF0ZSgxKSwgMTEgPiByID8gZy5zZXRNb250aChyICsgMSkgOiAoZy5zZXRNb250aCgwKSwgZy5zZXRGdWxsWWVhcihnLmdldEZ1bGxZZWFyKCkgKyAxKSk7CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgIGcuc2V0RGF0ZShnLmdldERhdGUoKSArIHEpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByID0gbmV3IERhdGUoZy5nZXRGdWxsWWVhcigpICsgMSwgMCwgNCk7CiAgICAgICAgICBxID0gaChuZXcgRGF0ZShnLmdldEZ1bGxZZWFyKCksIDAsIDQpKTsKICAgICAgICAgIHIgPSBoKHIpOwogICAgICAgICAgcmV0dXJuIDAgPj0gbChxLCBnKSA/IDAgPj0gbChyLCBnKSA/IGcuZ2V0RnVsbFllYXIoKSArIDEgOiBnLmdldEZ1bGxZZWFyKCkgOiBnLmdldEZ1bGxZZWFyKCkgLSAxOwogICAgICAgIH0KICAgICAgICB2YXIgbSA9IEZbZCArIDQwID4+IDJdOwogICAgICAgIGQgPSB7CiAgICAgICAgICBzYjogRVtkID4+IDJdLAogICAgICAgICAgcmI6IEVbZCArIDQgPj4gMl0sCiAgICAgICAgICBSYTogRVtkICsgOCA+PiAyXSwKICAgICAgICAgIFZhOiBFW2QgKyAxMiA+PiAyXSwKICAgICAgICAgIFNhOiBFW2QgKyAxNiA+PiAyXSwKICAgICAgICAgIEphOiBFW2QgKyAyMCA+PiAyXSwKICAgICAgICAgIEdhOiBFW2QgKyAyNCA+PiAyXSwKICAgICAgICAgIElhOiBFW2QgKyAyOCA+PiAyXSwKICAgICAgICAgIHdiOiBFW2QgKyAzMiA+PiAyXSwKICAgICAgICAgIHFiOiBFW2QgKyAzNiA+PiAyXSwKICAgICAgICAgIHRiOiBtID8gbSA/IEooQSwgbSkgOiAiIiA6ICIiCiAgICAgICAgfTsKICAgICAgICBjID0gYyA/IEooQSwgYykgOiAiIjsKICAgICAgICBtID0gewogICAgICAgICAgIiVjIjogIiVhICViICVkICVIOiVNOiVTICVZIiwKICAgICAgICAgICIlRCI6ICIlbS8lZC8leSIsCiAgICAgICAgICAiJUYiOiAiJVktJW0tJWQiLAogICAgICAgICAgIiVoIjogIiViIiwKICAgICAgICAgICIlciI6ICIlSTolTTolUyAlcCIsCiAgICAgICAgICAiJVIiOiAiJUg6JU0iLAogICAgICAgICAgIiVUIjogIiVIOiVNOiVTIiwKICAgICAgICAgICIleCI6ICIlbS8lZC8leSIsCiAgICAgICAgICAiJVgiOiAiJUg6JU06JVMiLAogICAgICAgICAgIiVFYyI6ICIlYyIsCiAgICAgICAgICAiJUVDIjogIiVDIiwKICAgICAgICAgICIlRXgiOiAiJW0vJWQvJXkiLAogICAgICAgICAgIiVFWCI6ICIlSDolTTolUyIsCiAgICAgICAgICAiJUV5IjogIiV5IiwKICAgICAgICAgICIlRVkiOiAiJVkiLAogICAgICAgICAgIiVPZCI6ICIlZCIsCiAgICAgICAgICAiJU9lIjogIiVlIiwKICAgICAgICAgICIlT0giOiAiJUgiLAogICAgICAgICAgIiVPSSI6ICIlSSIsCiAgICAgICAgICAiJU9tIjogIiVtIiwKICAgICAgICAgICIlT00iOiAiJU0iLAogICAgICAgICAgIiVPUyI6ICIlUyIsCiAgICAgICAgICAiJU91IjogIiV1IiwKICAgICAgICAgICIlT1UiOiAiJVUiLAogICAgICAgICAgIiVPViI6ICIlViIsCiAgICAgICAgICAiJU93IjogIiV3IiwKICAgICAgICAgICIlT1ciOiAiJVciLAogICAgICAgICAgIiVPeSI6ICIleSIKICAgICAgICB9OwogICAgICAgIGZvciAodmFyIHAgaW4gbSkgYyA9IGMucmVwbGFjZShuZXcgUmVnRXhwKHAsICJnIiksIG1bcF0pOwogICAgICAgIHZhciB1ID0gIlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5Ii5zcGxpdCgiICIpLCB2ID0gIkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXIiLnNwbGl0KCIgIik7CiAgICAgICAgbSA9IHsKICAgICAgICAgICIlYSI6IChnKSA9PiB1W2cuR2FdLnN1YnN0cmluZygwLCAzKSwKICAgICAgICAgICIlQSI6IChnKSA9PiB1W2cuR2FdLAogICAgICAgICAgIiViIjogKGcpID0+IHZbZy5TYV0uc3Vic3RyaW5nKDAsIDMpLAogICAgICAgICAgIiVCIjogKGcpID0+IHZbZy5TYV0sCiAgICAgICAgICAiJUMiOiAoZykgPT4gZigoZy5KYSArIDE5MDApIC8gMTAwIHwgMCwgMiksCiAgICAgICAgICAiJWQiOiAoZykgPT4gZihnLlZhLCAyKSwKICAgICAgICAgICIlZSI6IChnKSA9PiBlKGcuVmEsIDIsICIgIiksCiAgICAgICAgICAiJWciOiAoZykgPT4gbihnKS50b1N0cmluZygpLnN1YnN0cmluZygyKSwKICAgICAgICAgICIlRyI6IG4sCiAgICAgICAgICAiJUgiOiAoZykgPT4gZihnLlJhLCAyKSwKICAgICAgICAgICIlSSI6IChnKSA9PiB7CiAgICAgICAgICAgIGcgPSBnLlJhOwogICAgICAgICAgICAwID09IGcgPyBnID0gMTIgOiAxMiA8IGcgJiYgKGcgLT0gMTIpOwogICAgICAgICAgICByZXR1cm4gZihnLCAyKTsKICAgICAgICAgIH0sCiAgICAgICAgICAiJWoiOiAoZykgPT4gewogICAgICAgICAgICBmb3IgKHZhciBxID0gMCwgciA9IDA7IHIgPD0gZy5TYSAtIDE7IHEgKz0gKFZiKGcuSmEgKyAxOTAwKSA/IFdiIDogWGIpW3IrK10pIDsKICAgICAgICAgICAgcmV0dXJuIGYoZy5WYSArIHEsIDMpOwogICAgICAgICAgfSwKICAgICAgICAgICIlbSI6IChnKSA9PiBmKGcuU2EgKyAxLCAyKSwKICAgICAgICAgICIlTSI6IChnKSA9PiBmKGcucmIsIDIpLAogICAgICAgICAgIiVuIjogKCkgPT4gIlxuIiwKICAgICAgICAgICIlcCI6IChnKSA9PiAwIDw9IGcuUmEgJiYgMTIgPiBnLlJhID8gIkFNIiA6ICJQTSIsCiAgICAgICAgICAiJVMiOiAoZykgPT4gZihnLnNiLCAyKSwKICAgICAgICAgICIldCI6ICgpID0+ICIJIiwKICAgICAgICAgICIldSI6IChnKSA9PiBnLkdhIHx8IDcsCiAgICAgICAgICAiJVUiOiAoZykgPT4gZihNYXRoLmZsb29yKChnLklhICsgNyAtIGcuR2EpIC8gNyksIDIpLAogICAgICAgICAgIiVWIjogKGcpID0+IHsKICAgICAgICAgICAgdmFyIHEgPSBNYXRoLmZsb29yKChnLklhICsgNyAtIChnLkdhICsgNikgJSA3KSAvIDcpOwogICAgICAgICAgICAyID49IChnLkdhICsgMzcxIC0gZy5JYSAtIDIpICUgNyAmJiBxKys7CiAgICAgICAgICAgIGlmIChxKSA1MyA9PSBxICYmIChyID0gKGcuR2EgKyAzNzEgLSBnLklhKSAlIDcsIDQgPT0gciB8fCAzID09IHIgJiYgVmIoZy5KYSkgfHwgKHEgPSAxKSk7CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgIHEgPSA1MjsKICAgICAgICAgICAgICB2YXIgciA9IChnLkdhICsgNyAtIGcuSWEgLSAxKSAlIDc7CiAgICAgICAgICAgICAgKDQgPT0gciB8fCA1ID09IHIgJiYgVmIoZy5KYSAlIDQwMCAtIDEpKSAmJiBxKys7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGYocSwgMik7CiAgICAgICAgICB9LAogICAgICAgICAgIiV3IjogKGcpID0+IGcuR2EsCiAgICAgICAgICAiJVciOiAoZykgPT4gZihNYXRoLmZsb29yKChnLklhICsgNyAtIChnLkdhICsgNikgJSA3KSAvIDcpLCAyKSwKICAgICAgICAgICIleSI6IChnKSA9PiAoZy5KYSArIDE5MDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpLAogICAgICAgICAgIiVZIjogKGcpID0+IGcuSmEgKyAxOTAwLAogICAgICAgICAgIiV6IjogKGcpID0+IHsKICAgICAgICAgICAgZyA9IGcucWI7CiAgICAgICAgICAgIHZhciBxID0gMCA8PSBnOwogICAgICAgICAgICBnID0gTWF0aC5hYnMoZykgLyA2MDsKICAgICAgICAgICAgcmV0dXJuIChxID8gIisiIDogIi0iKSArIFN0cmluZygiMDAwMCIgKyAoZyAvIDYwICogMTAwICsgZyAlIDYwKSkuc2xpY2UoLTQpOwogICAgICAgICAgfSwKICAgICAgICAgICIlWiI6IChnKSA9PiBnLnRiLAogICAgICAgICAgIiUlIjogKCkgPT4gIiUiCiAgICAgICAgfTsKICAgICAgICBjID0gYy5yZXBsYWNlKC8lJS9nLCAiXDBcMCIpOwogICAgICAgIGZvciAocCBpbiBtKSBjLmluY2x1ZGVzKHApICYmIChjID0gYy5yZXBsYWNlKG5ldyBSZWdFeHAocCwgImciKSwgbVtwXShkKSkpOwogICAgICAgIGMgPSBjLnJlcGxhY2UoL1wwXDAvZywgIiUiKTsKICAgICAgICBwID0gWWIoYyk7CiAgICAgICAgaWYgKHAubGVuZ3RoID4gYikgcmV0dXJuIDA7CiAgICAgICAgeS5zZXQocCwgYSk7CiAgICAgICAgcmV0dXJuIHAubGVuZ3RoIC0gMTsKICAgICAgfTsKICAgICAgSWEgPSBrLkludGVybmFsRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHsKICAgICAgICBjb25zdHJ1Y3RvcihhKSB7CiAgICAgICAgICBzdXBlcihhKTsKICAgICAgICAgIHRoaXMubmFtZSA9ICJJbnRlcm5hbEVycm9yIjsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGZvciAodmFyICRiID0gQXJyYXkoMjU2KSwgYWMgPSAwOyAyNTYgPiBhYzsgKythYykgJGJbYWNdID0gU3RyaW5nLmZyb21DaGFyQ29kZShhYyk7CiAgICAgIEphID0gJGI7CiAgICAgIFIgPSBrLkJpbmRpbmdFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3IgewogICAgICAgIGNvbnN0cnVjdG9yKGEpIHsKICAgICAgICAgIHN1cGVyKGEpOwogICAgICAgICAgdGhpcy5uYW1lID0gIkJpbmRpbmdFcnJvciI7CiAgICAgICAgfQogICAgICB9OwogICAgICBPYmplY3QuYXNzaWduKFlhLnByb3RvdHlwZSwgewogICAgICAgIGlzQWxpYXNPZjogZnVuY3Rpb24oYSkgewogICAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFlhICYmIGEgaW5zdGFuY2VvZiBZYSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgIHZhciBiID0gdGhpcy5tYS56YS54YSwgYyA9IHRoaXMubWEueWE7CiAgICAgICAgICBhLm1hID0gYS5tYTsKICAgICAgICAgIHZhciBkID0gYS5tYS56YS54YTsKICAgICAgICAgIGZvciAoYSA9IGEubWEueWE7IGIuQ2E7ICkgYyA9IGIuTmEoYyksIGIgPSBiLkNhOwogICAgICAgICAgZm9yICg7IGQuQ2E7ICkgYSA9IGQuTmEoYSksIGQgPSBkLkNhOwogICAgICAgICAgcmV0dXJuIGIgPT09IGQgJiYgYyA9PT0gYTsKICAgICAgICB9LAogICAgICAgIGNsb25lOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHRoaXMubWEueWEgfHwgTGEodGhpcyk7CiAgICAgICAgICBpZiAodGhpcy5tYS5NYSkgcmV0dXJuIHRoaXMubWEuY291bnQudmFsdWUgKz0gMSwgdGhpczsKICAgICAgICAgIHZhciBhID0gV2EsIGIgPSBPYmplY3QsIGMgPSBiLmNyZWF0ZSwgZCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSwgZSA9IHRoaXMubWE7CiAgICAgICAgICBhID0gYSgKICAgICAgICAgICAgYy5jYWxsKGIsIGQsIHsKICAgICAgICAgICAgICBtYTogeyB2YWx1ZTogeyBjb3VudDogZS5jb3VudCwgS2E6IGUuS2EsIE1hOiBlLk1hLCB5YTogZS55YSwgemE6IGUuemEsIEFhOiBlLkFhLCBEYTogZS5EYSB9IH0KICAgICAgICAgICAgfSkKICAgICAgICAgICk7CiAgICAgICAgICBhLm1hLmNvdW50LnZhbHVlICs9IDE7CiAgICAgICAgICBhLm1hLkthID0gZmFsc2U7CiAgICAgICAgICByZXR1cm4gYTsKICAgICAgICB9LAogICAgICAgIFsiZGVsZXRlIl0oKSB7CiAgICAgICAgICB0aGlzLm1hLnlhIHx8IExhKHRoaXMpOwogICAgICAgICAgaWYgKHRoaXMubWEuS2EgJiYgIXRoaXMubWEuTWEpIHRocm93IG5ldyBSKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIik7CiAgICAgICAgICBPYSh0aGlzKTsKICAgICAgICAgIHZhciBhID0gdGhpcy5tYTsKICAgICAgICAgIC0tYS5jb3VudC52YWx1ZTsKICAgICAgICAgIDAgPT09IGEuY291bnQudmFsdWUgJiYgKGEuQWEgPyBhLkRhLkZhKGEuQWEpIDogYS56YS54YS5GYShhLnlhKSk7CiAgICAgICAgICB0aGlzLm1hLk1hIHx8ICh0aGlzLm1hLkFhID0gdm9pZCAwLCB0aGlzLm1hLnlhID0gdm9pZCAwKTsKICAgICAgICB9LAogICAgICAgIGlzRGVsZXRlZDogZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gIXRoaXMubWEueWE7CiAgICAgICAgfSwKICAgICAgICBkZWxldGVMYXRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgICB0aGlzLm1hLnlhIHx8IExhKHRoaXMpOwogICAgICAgICAgaWYgKHRoaXMubWEuS2EgJiYgIXRoaXMubWEuTWEpIHRocm93IG5ldyBSKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIik7CiAgICAgICAgICBSYS5wdXNoKHRoaXMpOwogICAgICAgICAgMSA9PT0gUmEubGVuZ3RoICYmIFRhICYmIFRhKFNhKTsKICAgICAgICAgIHRoaXMubWEuS2EgPSB0cnVlOwogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgay5nZXRJbmhlcml0ZWRJbnN0YW5jZUNvdW50ID0gKCkgPT4gT2JqZWN0LmtleXMoVWEpLmxlbmd0aDsKICAgICAgay5nZXRMaXZlSW5oZXJpdGVkSW5zdGFuY2VzID0gKCkgPT4gewogICAgICAgIHZhciBhID0gW10sIGI7CiAgICAgICAgZm9yIChiIGluIFVhKSBVYS5oYXNPd25Qcm9wZXJ0eShiKSAmJiBhLnB1c2goVWFbYl0pOwogICAgICAgIHJldHVybiBhOwogICAgICB9OwogICAgICBrLmZsdXNoUGVuZGluZ0RlbGV0ZXMgPSBTYTsKICAgICAgay5zZXREZWxheUZ1bmN0aW9uID0gKGEpID0+IHsKICAgICAgICBUYSA9IGE7CiAgICAgICAgUmEubGVuZ3RoICYmIFRhICYmIFRhKFNhKTsKICAgICAgfTsKICAgICAgT2JqZWN0LmFzc2lnbihqYi5wcm90b3R5cGUsIHsKICAgICAgICBlYihhKSB7CiAgICAgICAgICB0aGlzLlphICYmIChhID0gdGhpcy5aYShhKSk7CiAgICAgICAgICByZXR1cm4gYTsKICAgICAgICB9LAogICAgICAgIFhhKGEpIHsKICAgICAgICAgIHRoaXMuRmE/LihhKTsKICAgICAgICB9LAogICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgIHJlYWRWYWx1ZUZyb21Qb2ludGVyOiBLLAogICAgICAgIGZyb21XaXJlVHlwZTogZnVuY3Rpb24oYSkgewogICAgICAgICAgZnVuY3Rpb24gYigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuUWEgPyBYYSh0aGlzLnhhLkxhLCB7IHphOiB0aGlzLmpiLCB5YTogYywgRGE6IHRoaXMsIEFhOiBhIH0pIDogWGEodGhpcy54YS5MYSwgeyB6YTogdGhpcywgeWE6IGEgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgYyA9IHRoaXMuZWIoYSk7CiAgICAgICAgICBpZiAoIWMpIHJldHVybiB0aGlzLlhhKGEpLCBudWxsOwogICAgICAgICAgdmFyIGQgPSBWYSh0aGlzLnhhLCBjKTsKICAgICAgICAgIGlmICh2b2lkIDAgIT09IGQpIHsKICAgICAgICAgICAgaWYgKDAgPT09IGQubWEuY291bnQudmFsdWUpIHJldHVybiBkLm1hLnlhID0gYywgZC5tYS5BYSA9IGEsIGQuY2xvbmUoKTsKICAgICAgICAgICAgZCA9IGQuY2xvbmUoKTsKICAgICAgICAgICAgdGhpcy5YYShhKTsKICAgICAgICAgICAgcmV0dXJuIGQ7CiAgICAgICAgICB9CiAgICAgICAgICBkID0gdGhpcy54YS5jYihjKTsKICAgICAgICAgIGQgPSBRYVtkXTsKICAgICAgICAgIGlmICghZCkgcmV0dXJuIGIuY2FsbCh0aGlzKTsKICAgICAgICAgIGQgPSB0aGlzLlBhID8gZC4kYSA6IGQucG9pbnRlclR5cGU7CiAgICAgICAgICB2YXIgZSA9IFBhKGMsIHRoaXMueGEsIGQueGEpOwogICAgICAgICAgcmV0dXJuIG51bGwgPT09IGUgPyBiLmNhbGwodGhpcykgOiB0aGlzLlFhID8gWGEoZC54YS5MYSwgeyB6YTogZCwgeWE6IGUsIERhOiB0aGlzLCBBYTogYSB9KSA6IFhhKGQueGEuTGEsIHsgemE6IGQsIHlhOiBlIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIG5iID0gay5VbmJvdW5kVHlwZUVycm9yID0gKChhLCBiKSA9PiB7CiAgICAgICAgdmFyIGMgPSBaYShiLCBmdW5jdGlvbihkKSB7CiAgICAgICAgICB0aGlzLm5hbWUgPSBiOwogICAgICAgICAgdGhpcy5tZXNzYWdlID0gZDsKICAgICAgICAgIGQgPSBFcnJvcihkKS5zdGFjazsKICAgICAgICAgIHZvaWQgMCAhPT0gZCAmJiAodGhpcy5zdGFjayA9IHRoaXMudG9TdHJpbmcoKSArICJcbiIgKyBkLnJlcGxhY2UoL15FcnJvcig6W15cbl0qKT9cbi8sICIiKSk7CiAgICAgICAgfSk7CiAgICAgICAgYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKTsKICAgICAgICBjLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGM7CiAgICAgICAgYy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiB2b2lkIDAgPT09IHRoaXMubWVzc2FnZSA/IHRoaXMubmFtZSA6IGAke3RoaXMubmFtZX06ICR7dGhpcy5tZXNzYWdlfWA7CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gYzsKICAgICAgfSkoRXJyb3IsICJVbmJvdW5kVHlwZUVycm9yIik7CiAgICAgIFYucHVzaCgwLCAxLCB2b2lkIDAsIDEsIG51bGwsIDEsIHRydWUsIDEsIGZhbHNlLCAxKTsKICAgICAgay5jb3VudF9lbXZhbF9oYW5kbGVzID0gKCkgPT4gVi5sZW5ndGggLyAyIC0gNSAtIHZiLmxlbmd0aDsKICAgICAgdmFyIG1jID0gewogICAgICAgIGM6IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgICByYSgKICAgICAgICAgICAgYEFzc2VydGlvbiBmYWlsZWQ6ICR7YSA/IEooQSwgYSkgOiAiIn0sIGF0OiBgICsgW2IgPyBiID8gSihBLCBiKSA6ICIiIDogInVua25vd24gZmlsZW5hbWUiLCBjLCBkID8gZCA/IEooQSwgZCkgOiAiIiA6ICJ1bmtub3duIGZ1bmN0aW9uIl0KICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgICBtOiAoYSwgYiwgYykgPT4gewogICAgICAgICAgdmFyIGQgPSBuZXcgQWEoYSk7CiAgICAgICAgICBGW2QueWEgKyAxNiA+PiAyXSA9IDA7CiAgICAgICAgICBGW2QueWEgKyA0ID4+IDJdID0gYjsKICAgICAgICAgIEZbZC55YSArIDggPj4gMl0gPSBjOwogICAgICAgICAgQmEgPSBhOwogICAgICAgICAgQ2ErKzsKICAgICAgICAgIHRocm93IEJhOwogICAgICAgIH0sCiAgICAgICAgQzogZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9LAogICAgICAgIFE6ICgpID0+IHsKICAgICAgICB9LAogICAgICAgIE46ICgpID0+IHsKICAgICAgICB9LAogICAgICAgIFI6IGZ1bmN0aW9uKCkgewogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfSwKICAgICAgICBPOiAoKSA9PiB7CiAgICAgICAgfSwKICAgICAgICBCOiBmdW5jdGlvbigpIHsKICAgICAgICB9LAogICAgICAgIFA6ICgpID0+IHsKICAgICAgICB9LAogICAgICAgIHY6IChhKSA9PiB7CiAgICAgICAgICB2YXIgYiA9IEZhW2FdOwogICAgICAgICAgZGVsZXRlIEZhW2FdOwogICAgICAgICAgdmFyIGMgPSBiLlVhLCBkID0gYi5GYSwgZSA9IGIuWWEsIGYgPSBlLm1hcCgobCkgPT4gbC5oYikuY29uY2F0KGUubWFwKChsKSA9PiBsLm5iKSk7CiAgICAgICAgICBQKFthXSwgZiwgKGwpID0+IHsKICAgICAgICAgICAgdmFyIGggPSB7fTsKICAgICAgICAgICAgZS5mb3JFYWNoKChuLCBtKSA9PiB7CiAgICAgICAgICAgICAgdmFyIHAgPSBsW21dLCB1ID0gbi5mYiwgdiA9IG4uZ2IsIGcgPSBsW20gKyBlLmxlbmd0aF0sIHEgPSBuLm1iLCByID0gbi5vYjsKICAgICAgICAgICAgICBoW24uYmJdID0gewogICAgICAgICAgICAgICAgcmVhZDogKHopID0+IHAuZnJvbVdpcmVUeXBlKHUodiwgeikpLAogICAgICAgICAgICAgICAgd3JpdGU6ICh6LCBOKSA9PiB7CiAgICAgICAgICAgICAgICAgIHZhciBEID0gW107CiAgICAgICAgICAgICAgICAgIHEociwgeiwgZy50b1dpcmVUeXBlKEQsIE4pKTsKICAgICAgICAgICAgICAgICAgR2EoRCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogYi5uYW1lLAogICAgICAgICAgICAgICAgZnJvbVdpcmVUeXBlOiAobikgPT4gewogICAgICAgICAgICAgICAgICB2YXIgbSA9IHt9LCBwOwogICAgICAgICAgICAgICAgICBmb3IgKHAgaW4gaCkgbVtwXSA9IGhbcF0ucmVhZChuKTsKICAgICAgICAgICAgICAgICAgZChuKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdG9XaXJlVHlwZTogKG4sIG0pID0+IHsKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBoKSBpZiAoIShwIGluIG0pKSB0aHJvdyBuZXcgVHlwZUVycm9yKGBNaXNzaW5nIGZpZWxkOiAiJHtwfSJgKTsKICAgICAgICAgICAgICAgICAgdmFyIHUgPSBjKCk7CiAgICAgICAgICAgICAgICAgIGZvciAocCBpbiBoKSBoW3BdLndyaXRlKHUsIG1bcF0pOwogICAgICAgICAgICAgICAgICBudWxsICE9PSBuICYmIG4ucHVzaChkLCB1KTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHU7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYXJnUGFja0FkdmFuY2U6IDgsCiAgICAgICAgICAgICAgICByZWFkVmFsdWVGcm9tUG9pbnRlcjogSywKICAgICAgICAgICAgICAgIEVhOiBkCiAgICAgICAgICAgICAgfQogICAgICAgICAgICBdOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBKOiAoKSA9PiB7CiAgICAgICAgfSwKICAgICAgICBZOiAoYSwgYiwgYywgZCkgPT4gewogICAgICAgICAgYiA9IFEoYik7CiAgICAgICAgICBPKGEsIHsKICAgICAgICAgICAgbmFtZTogYiwKICAgICAgICAgICAgZnJvbVdpcmVUeXBlOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgcmV0dXJuICEhZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9XaXJlVHlwZTogZnVuY3Rpb24oZSwgZikgewogICAgICAgICAgICAgIHJldHVybiBmID8gYyA6IGQ7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgICAgICByZWFkVmFsdWVGcm9tUG9pbnRlcjogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShBW2VdKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgRWE6IG51bGwKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgcjogKGEsIGIsIGMsIGQsIGUsIGYsIGwsIGgsIG4sIG0sIHAsIHUsIHYpID0+IHsKICAgICAgICAgIHAgPSBRKHApOwogICAgICAgICAgZiA9IFQoZSwgZik7CiAgICAgICAgICBoICYmIChoID0gVChsLCBoKSk7CiAgICAgICAgICBtICYmIChtID0gVChuLCBtKSk7CiAgICAgICAgICB2ID0gVCh1LCB2KTsKICAgICAgICAgIHZhciBnID0gYmIocCk7CiAgICAgICAgICBhYihnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcWIoYENhbm5vdCBjb25zdHJ1Y3QgJHtwfSBkdWUgdG8gdW5ib3VuZCB0eXBlc2AsIFtkXSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIFAoW2EsIGIsIGNdLCBkID8gW2RdIDogW10sIChxKSA9PiB7CiAgICAgICAgICAgIHEgPSBxWzBdOwogICAgICAgICAgICBpZiAoZCkgewogICAgICAgICAgICAgIHZhciByID0gcS54YTsKICAgICAgICAgICAgICB2YXIgeiA9IHIuTGE7CiAgICAgICAgICAgIH0gZWxzZSB6ID0gWWEucHJvdG90eXBlOwogICAgICAgICAgICBxID0gWmEocCwgZnVuY3Rpb24oLi4uTmEpIHsKICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpICE9PSBOKSB0aHJvdyBuZXcgUigiVXNlICduZXcnIHRvIGNvbnN0cnVjdCAiICsgcCk7CiAgICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gRC5IYSkgdGhyb3cgbmV3IFIocCArICIgaGFzIG5vIGFjY2Vzc2libGUgY29uc3RydWN0b3IiKTsKICAgICAgICAgICAgICB2YXIgeGIgPSBELkhhW05hLmxlbmd0aF07CiAgICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0geGIpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUigKICAgICAgICAgICAgICAgICAgYFRyaWVkIHRvIGludm9rZSBjdG9yIG9mICR7cH0gd2l0aCBpbnZhbGlkIG51bWJlciBvZiBwYXJhbWV0ZXJzICgke05hLmxlbmd0aH0pIC0gZXhwZWN0ZWQgKCR7T2JqZWN0LmtleXMoRC5IYSkudG9TdHJpbmcoKX0pIHBhcmFtZXRlcnMgaW5zdGVhZCFgCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIHJldHVybiB4Yi5hcHBseSh0aGlzLCBOYSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgTiA9IE9iamVjdC5jcmVhdGUoeiwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogcSB9IH0pOwogICAgICAgICAgICBxLnByb3RvdHlwZSA9IE47CiAgICAgICAgICAgIHZhciBEID0gbmV3IGNiKHAsIHEsIE4sIHYsIHIsIGYsIGgsIG0pOwogICAgICAgICAgICBpZiAoRC5DYSkgewogICAgICAgICAgICAgIHZhciBpYTsKICAgICAgICAgICAgICAoaWEgPSBELkNhKS5XYSA/PyAoaWEuV2EgPSBbXSk7CiAgICAgICAgICAgICAgRC5DYS5XYS5wdXNoKEQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHIgPSBuZXcgamIocCwgRCwgdHJ1ZSwgZmFsc2UsIGZhbHNlKTsKICAgICAgICAgICAgaWEgPSBuZXcgamIocCArICIqIiwgRCwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7CiAgICAgICAgICAgIHogPSBuZXcgamIocCArICIgY29uc3QqIiwgRCwgZmFsc2UsIHRydWUsIGZhbHNlKTsKICAgICAgICAgICAgUWFbYV0gPSB7IHBvaW50ZXJUeXBlOiBpYSwgJGE6IHogfTsKICAgICAgICAgICAga2IoZywgcSk7CiAgICAgICAgICAgIHJldHVybiBbciwgaWEsIHpdOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBxOiAoYSwgYiwgYywgZCwgZSwgZikgPT4gewogICAgICAgICAgdmFyIGwgPSByYihiLCBjKTsKICAgICAgICAgIGUgPSBUKGQsIGUpOwogICAgICAgICAgUChbXSwgW2FdLCAoaCkgPT4gewogICAgICAgICAgICBoID0gaFswXTsKICAgICAgICAgICAgdmFyIG4gPSBgY29uc3RydWN0b3IgJHtoLm5hbWV9YDsKICAgICAgICAgICAgdm9pZCAwID09PSBoLnhhLkhhICYmIChoLnhhLkhhID0gW10pOwogICAgICAgICAgICBpZiAodm9pZCAwICE9PSBoLnhhLkhhW2IgLSAxXSkKICAgICAgICAgICAgICB0aHJvdyBuZXcgUigKICAgICAgICAgICAgICAgIGBDYW5ub3QgcmVnaXN0ZXIgbXVsdGlwbGUgY29uc3RydWN0b3JzIHdpdGggaWRlbnRpY2FsIG51bWJlciBvZiBwYXJhbWV0ZXJzICgke2IgLSAxfSkgZm9yIGNsYXNzICcke2gubmFtZX0nISBPdmVybG9hZCByZXNvbHV0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHBlcmZvcm1lZCB1c2luZyB0aGUgcGFyYW1ldGVyIGNvdW50LCBub3QgYWN0dWFsIHR5cGUgaW5mbyFgCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgaC54YS5IYVtiIC0gMV0gPSAoKSA9PiB7CiAgICAgICAgICAgICAgcWIoYENhbm5vdCBjb25zdHJ1Y3QgJHtoLm5hbWV9IGR1ZSB0byB1bmJvdW5kIHR5cGVzYCwgbCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIFAoW10sIGwsIChtKSA9PiB7CiAgICAgICAgICAgICAgbS5zcGxpY2UoMSwgMCwgbnVsbCk7CiAgICAgICAgICAgICAgaC54YS5IYVtiIC0gMV0gPSB0YihuLCBtLCBudWxsLCBlLCBmKTsKICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGY6IChhLCBiLCBjLCBkLCBlLCBmLCBsLCBoKSA9PiB7CiAgICAgICAgICB2YXIgbiA9IHJiKGMsIGQpOwogICAgICAgICAgYiA9IFEoYik7CiAgICAgICAgICBiID0gdWIoYik7CiAgICAgICAgICBmID0gVChlLCBmKTsKICAgICAgICAgIFAoW10sIFthXSwgKG0pID0+IHsKICAgICAgICAgICAgZnVuY3Rpb24gcCgpIHsKICAgICAgICAgICAgICBxYihgQ2Fubm90IGNhbGwgJHt1fSBkdWUgdG8gdW5ib3VuZCB0eXBlc2AsIG4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG0gPSBtWzBdOwogICAgICAgICAgICB2YXIgdSA9IGAke20ubmFtZX0uJHtifWA7CiAgICAgICAgICAgIGIuc3RhcnRzV2l0aCgiQEAiKSAmJiAoYiA9IFN5bWJvbFtiLnN1YnN0cmluZygyKV0pOwogICAgICAgICAgICBoICYmIG0ueGEua2IucHVzaChiKTsKICAgICAgICAgICAgdmFyIHYgPSBtLnhhLkxhLCBnID0gdltiXTsKICAgICAgICAgICAgdm9pZCAwID09PSBnIHx8IHZvaWQgMCA9PT0gZy5CYSAmJiBnLmNsYXNzTmFtZSAhPT0gbS5uYW1lICYmIGcuT2EgPT09IGMgLSAyID8gKHAuT2EgPSBjIC0gMiwgcC5jbGFzc05hbWUgPSBtLm5hbWUsIHZbYl0gPSBwKSA6ICgkYSh2LCBiLCB1KSwgdltiXS5CYVtjIC0gMl0gPSBwKTsKICAgICAgICAgICAgUChbXSwgbiwgKHEpID0+IHsKICAgICAgICAgICAgICBxID0gdGIodSwgcSwgbSwgZiwgbCk7CiAgICAgICAgICAgICAgdm9pZCAwID09PSB2W2JdLkJhID8gKHEuT2EgPSBjIC0gMiwgdltiXSA9IHEpIDogdltiXS5CYVtjIC0gMl0gPSBxOwogICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgWDogKGEpID0+IE8oYSwgemIpLAogICAgICAgIHg6IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgICBmdW5jdGlvbiBlKCkgewogICAgICAgICAgfQogICAgICAgICAgYiA9IFEoYik7CiAgICAgICAgICBlLnZhbHVlcyA9IHt9OwogICAgICAgICAgTyhhLCB7CiAgICAgICAgICAgIG5hbWU6IGIsCiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiBlLAogICAgICAgICAgICBmcm9tV2lyZVR5cGU6IGZ1bmN0aW9uKGYpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci52YWx1ZXNbZl07CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvV2lyZVR5cGU6IChmLCBsKSA9PiBsLnZhbHVlLAogICAgICAgICAgICBhcmdQYWNrQWR2YW5jZTogOCwKICAgICAgICAgICAgcmVhZFZhbHVlRnJvbVBvaW50ZXI6IEFiKGIsIGMsIGQpLAogICAgICAgICAgICBFYTogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgICBhYihiLCBlKTsKICAgICAgICB9LAogICAgICAgIGs6IChhLCBiLCBjKSA9PiB7CiAgICAgICAgICB2YXIgZCA9IEJiKGEsICJlbnVtIik7CiAgICAgICAgICBiID0gUShiKTsKICAgICAgICAgIGEgPSBkLmNvbnN0cnVjdG9yOwogICAgICAgICAgZCA9IE9iamVjdC5jcmVhdGUoZC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHsKICAgICAgICAgICAgdmFsdWU6IHsgdmFsdWU6IGMgfSwKICAgICAgICAgICAgY29uc3RydWN0b3I6IHsgdmFsdWU6IFphKGAke2QubmFtZX1fJHtifWAsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICB9KSB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGEudmFsdWVzW2NdID0gZDsKICAgICAgICAgIGFbYl0gPSBkOwogICAgICAgIH0sCiAgICAgICAgRDogKGEsIGIsIGMpID0+IHsKICAgICAgICAgIGIgPSBRKGIpOwogICAgICAgICAgTyhhLCB7CiAgICAgICAgICAgIG5hbWU6IGIsCiAgICAgICAgICAgIGZyb21XaXJlVHlwZTogKGQpID0+IGQsCiAgICAgICAgICAgIHRvV2lyZVR5cGU6IChkLCBlKSA9PiBlLAogICAgICAgICAgICBhcmdQYWNrQWR2YW5jZTogOCwKICAgICAgICAgICAgcmVhZFZhbHVlRnJvbVBvaW50ZXI6IENiKGIsIGMpLAogICAgICAgICAgICBFYTogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBGOiAoYSwgYiwgYywgZCwgZSwgZikgPT4gewogICAgICAgICAgdmFyIGwgPSByYihiLCBjKTsKICAgICAgICAgIGEgPSBRKGEpOwogICAgICAgICAgYSA9IHViKGEpOwogICAgICAgICAgZSA9IFQoZCwgZSk7CiAgICAgICAgICBhYigKICAgICAgICAgICAgYSwKICAgICAgICAgICAgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgcWIoYENhbm5vdCBjYWxsICR7YX0gZHVlIHRvIHVuYm91bmQgdHlwZXNgLCBsKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYiAtIDEKICAgICAgICAgICk7CiAgICAgICAgICBQKFtdLCBsLCAoaCkgPT4gewogICAgICAgICAgICBrYihhLCB0YihhLCBbaFswXSwgbnVsbF0uY29uY2F0KGguc2xpY2UoMSkpLCBudWxsLCBlLCBmKSwgYiAtIDEpOwogICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGw6IChhLCBiLCBjLCBkLCBlKSA9PiB7CiAgICAgICAgICBiID0gUShiKTsKICAgICAgICAgIC0xID09PSBlICYmIChlID0gNDI5NDk2NzI5NSk7CiAgICAgICAgICBlID0gKGgpID0+IGg7CiAgICAgICAgICBpZiAoMCA9PT0gZCkgewogICAgICAgICAgICB2YXIgZiA9IDMyIC0gOCAqIGM7CiAgICAgICAgICAgIGUgPSAoaCkgPT4gaCA8PCBmID4+PiBmOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGwgPSBiLmluY2x1ZGVzKCJ1bnNpZ25lZCIpID8gZnVuY3Rpb24oaCwgbikgewogICAgICAgICAgICByZXR1cm4gbiA+Pj4gMDsKICAgICAgICAgIH0gOiBmdW5jdGlvbihoLCBuKSB7CiAgICAgICAgICAgIHJldHVybiBuOwogICAgICAgICAgfTsKICAgICAgICAgIE8oYSwgewogICAgICAgICAgICBuYW1lOiBiLAogICAgICAgICAgICBmcm9tV2lyZVR5cGU6IGUsCiAgICAgICAgICAgIHRvV2lyZVR5cGU6IGwsCiAgICAgICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgICAgICByZWFkVmFsdWVGcm9tUG9pbnRlcjogRGIoYiwgYywgMCAhPT0gZCksCiAgICAgICAgICAgIEVhOiBudWxsCiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGc6IChhLCBiLCBjKSA9PiB7CiAgICAgICAgICBmdW5jdGlvbiBkKGYpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBlKHkuYnVmZmVyLCBGW2YgKyA0ID4+IDJdLCBGW2YgPj4gMl0pOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGUgPSBbSW50OEFycmF5LCBVaW50OEFycmF5LCBJbnQxNkFycmF5LCBVaW50MTZBcnJheSwgSW50MzJBcnJheSwgVWludDMyQXJyYXksIEZsb2F0MzJBcnJheSwgRmxvYXQ2NEFycmF5XVtiXTsKICAgICAgICAgIGMgPSBRKGMpOwogICAgICAgICAgTyhhLCB7IG5hbWU6IGMsIGZyb21XaXJlVHlwZTogZCwgYXJnUGFja0FkdmFuY2U6IDgsIHJlYWRWYWx1ZUZyb21Qb2ludGVyOiBkIH0sIHsgaWI6IHRydWUgfSk7CiAgICAgICAgfSwKICAgICAgICB3OiAoYSkgPT4gewogICAgICAgICAgTyhhLCB6Yik7CiAgICAgICAgfSwKICAgICAgICBjYTogKGEsIGIsIGMsIGQsIGUsIGYsIGwsIGgsIG4sIG0sIHAsIHUpID0+IHsKICAgICAgICAgIGMgPSBRKGMpOwogICAgICAgICAgZiA9IFQoZSwgZik7CiAgICAgICAgICBoID0gVChsLCBoKTsKICAgICAgICAgIG0gPSBUKG4sIG0pOwogICAgICAgICAgdSA9IFQocCwgdSk7CiAgICAgICAgICBQKFthXSwgW2JdLCAodikgPT4gewogICAgICAgICAgICB2ID0gdlswXTsKICAgICAgICAgICAgcmV0dXJuIFtuZXcgamIoYywgdi54YSwgZmFsc2UsIGZhbHNlLCB0cnVlLCB2LCBkLCBmLCBoLCBtLCB1KV07CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIEU6IChhLCBiKSA9PiB7CiAgICAgICAgICBiID0gUShiKTsKICAgICAgICAgIHZhciBjID0gInN0ZDo6c3RyaW5nIiA9PT0gYjsKICAgICAgICAgIE8oYSwgewogICAgICAgICAgICBuYW1lOiBiLAogICAgICAgICAgICBmcm9tV2lyZVR5cGU6IGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgICB2YXIgZSA9IEZbZCA+PiAyXSwgZiA9IGQgKyA0OwogICAgICAgICAgICAgIGlmIChjKQogICAgICAgICAgICAgICAgZm9yICh2YXIgbCA9IGYsIGggPSAwOyBoIDw9IGU7ICsraCkgewogICAgICAgICAgICAgICAgICB2YXIgbiA9IGYgKyBoOwogICAgICAgICAgICAgICAgICBpZiAoaCA9PSBlIHx8IDAgPT0gQVtuXSkgewogICAgICAgICAgICAgICAgICAgIGwgPSBsID8gSihBLCBsLCBuIC0gbCkgOiAiIjsKICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSBtKSB2YXIgbSA9IGw7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBtICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMCksIG0gKz0gbDsKICAgICAgICAgICAgICAgICAgICBsID0gbiArIDE7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIG0gPSBBcnJheShlKTsKICAgICAgICAgICAgICAgIGZvciAoaCA9IDA7IGggPCBlOyArK2gpIG1baF0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKEFbZiArIGhdKTsKICAgICAgICAgICAgICAgIG0gPSBtLmpvaW4oIiIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBVKGQpOwogICAgICAgICAgICAgIHJldHVybiBtOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b1dpcmVUeXBlOiBmdW5jdGlvbihkLCBlKSB7CiAgICAgICAgICAgICAgZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyICYmIChlID0gbmV3IFVpbnQ4QXJyYXkoZSkpOwogICAgICAgICAgICAgIHZhciBmID0gInN0cmluZyIgPT0gdHlwZW9mIGU7CiAgICAgICAgICAgICAgaWYgKCEoZiB8fCBlIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBlIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkgfHwgZSBpbnN0YW5jZW9mIEludDhBcnJheSkpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUigiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBzdGQ6OnN0cmluZyIpOwogICAgICAgICAgICAgIHZhciBsID0gYyAmJiBmID8gRGEoZSkgOiBlLmxlbmd0aDsKICAgICAgICAgICAgICB2YXIgaCA9IGJjKDQgKyBsICsgMSksIG4gPSBoICsgNDsKICAgICAgICAgICAgICBGW2ggPj4gMl0gPSBsOwogICAgICAgICAgICAgIGlmIChjICYmIGYpIEVhKGUsIEEsIG4sIGwgKyAxKTsKICAgICAgICAgICAgICBlbHNlIGlmIChmKQogICAgICAgICAgICAgICAgZm9yIChmID0gMDsgZiA8IGw7ICsrZikgewogICAgICAgICAgICAgICAgICB2YXIgbSA9IGUuY2hhckNvZGVBdChmKTsKICAgICAgICAgICAgICAgICAgaWYgKDI1NSA8IG0pIHRocm93IFUobiksIG5ldyBSKCJTdHJpbmcgaGFzIFVURi0xNiBjb2RlIHVuaXRzIHRoYXQgZG8gbm90IGZpdCBpbiA4IGJpdHMiKTsKICAgICAgICAgICAgICAgICAgQVtuICsgZl0gPSBtOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGVsc2UgZm9yIChmID0gMDsgZiA8IGw7ICsrZikgQVtuICsgZl0gPSBlW2ZdOwogICAgICAgICAgICAgIG51bGwgIT09IGQgJiYgZC5wdXNoKFUsIGgpOwogICAgICAgICAgICAgIHJldHVybiBoOwogICAgICAgICAgICB9LAogICAgICAgICAgICBhcmdQYWNrQWR2YW5jZTogOCwKICAgICAgICAgICAgcmVhZFZhbHVlRnJvbVBvaW50ZXI6IEssCiAgICAgICAgICAgIEVhKGQpIHsKICAgICAgICAgICAgICBVKGQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHU6IChhLCBiLCBjKSA9PiB7CiAgICAgICAgICBjID0gUShjKTsKICAgICAgICAgIGlmICgyID09PSBiKSB7CiAgICAgICAgICAgIHZhciBkID0gRmI7CiAgICAgICAgICAgIHZhciBlID0gR2I7CiAgICAgICAgICAgIHZhciBmID0gSGI7CiAgICAgICAgICAgIHZhciBsID0gKGgpID0+IENbaCA+PiAxXTsKICAgICAgICAgIH0gZWxzZSA0ID09PSBiICYmIChkID0gSWIsIGUgPSBKYiwgZiA9IEtiLCBsID0gKGgpID0+IEZbaCA+PiAyXSk7CiAgICAgICAgICBPKGEsIHsKICAgICAgICAgICAgbmFtZTogYywKICAgICAgICAgICAgZnJvbVdpcmVUeXBlOiAoaCkgPT4gewogICAgICAgICAgICAgIGZvciAodmFyIG4gPSBGW2ggPj4gMl0sIG0sIHAgPSBoICsgNCwgdSA9IDA7IHUgPD0gbjsgKyt1KSB7CiAgICAgICAgICAgICAgICB2YXIgdiA9IGggKyA0ICsgdSAqIGI7CiAgICAgICAgICAgICAgICBpZiAodSA9PSBuIHx8IDAgPT0gbCh2KSkKICAgICAgICAgICAgICAgICAgcCA9IGQocCwgdiAtIHApLCB2b2lkIDAgPT09IG0gPyBtID0gcCA6IChtICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMCksIG0gKz0gcCksIHAgPSB2ICsgYjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgVShoKTsKICAgICAgICAgICAgICByZXR1cm4gbTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9XaXJlVHlwZTogKGgsIG4pID0+IHsKICAgICAgICAgICAgICBpZiAoInN0cmluZyIgIT0gdHlwZW9mIG4pIHRocm93IG5ldyBSKGBDYW5ub3QgcGFzcyBub24tc3RyaW5nIHRvIEMrKyBzdHJpbmcgdHlwZSAke2N9YCk7CiAgICAgICAgICAgICAgdmFyIG0gPSBmKG4pLCBwID0gYmMoNCArIG0gKyBiKTsKICAgICAgICAgICAgICBGW3AgPj4gMl0gPSBtIC8gYjsKICAgICAgICAgICAgICBlKG4sIHAgKyA0LCBtICsgYik7CiAgICAgICAgICAgICAgbnVsbCAhPT0gaCAmJiBoLnB1c2goVSwgcCk7CiAgICAgICAgICAgICAgcmV0dXJuIHA7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgICAgICByZWFkVmFsdWVGcm9tUG9pbnRlcjogSywKICAgICAgICAgICAgRWEoaCkgewogICAgICAgICAgICAgIFUoaCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgczogKGEsIGIsIGMsIGQsIGUsIGYpID0+IHsKICAgICAgICAgIEZhW2FdID0geyBuYW1lOiBRKGIpLCBVYTogVChjLCBkKSwgRmE6IFQoZSwgZiksIFlhOiBbXSB9OwogICAgICAgIH0sCiAgICAgICAgajogKGEsIGIsIGMsIGQsIGUsIGYsIGwsIGgsIG4sIG0pID0+IHsKICAgICAgICAgIEZhW2FdLllhLnB1c2goeyBiYjogUShiKSwgaGI6IGMsIGZiOiBUKGQsIGUpLCBnYjogZiwgbmI6IGwsIG1iOiBUKGgsIG4pLCBvYjogbSB9KTsKICAgICAgICB9LAogICAgICAgIFo6IChhLCBiKSA9PiB7CiAgICAgICAgICBiID0gUShiKTsKICAgICAgICAgIE8oYSwgeyB1YjogdHJ1ZSwgbmFtZTogYiwgYXJnUGFja0FkdmFuY2U6IDAsIGZyb21XaXJlVHlwZTogKCkgPT4gewogICAgICAgICAgfSwgdG9XaXJlVHlwZTogKCkgPT4gewogICAgICAgICAgfSB9KTsKICAgICAgICB9LAogICAgICAgIEs6ICgpID0+IHsKICAgICAgICAgIHRocm93IEluZmluaXR5OwogICAgICAgIH0sCiAgICAgICAgYWE6IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgICBhID0gTGJbYV07CiAgICAgICAgICBiID0geWIoYik7CiAgICAgICAgICByZXR1cm4gYShudWxsLCBiLCBjLCBkKTsKICAgICAgICB9LAogICAgICAgIEc6IHdiLAogICAgICAgICQ6IChhLCBiLCBjKSA9PiB7CiAgICAgICAgICB2YXIgZCA9IE5iKGEsIGIpLCBlID0gZC5zaGlmdCgpOwogICAgICAgICAgYS0tOwogICAgICAgICAgdmFyIGYgPSBBcnJheShhKTsKICAgICAgICAgIGIgPSBgbWV0aG9kQ2FsbGVyPCgke2QubWFwKChsKSA9PiBsLm5hbWUpLmpvaW4oIiwgIil9KSA9PiAke2UubmFtZX0+YDsKICAgICAgICAgIHJldHVybiBNYigKICAgICAgICAgICAgWmEoYiwgKGwsIGgsIG4sIG0pID0+IHsKICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMCwgdSA9IDA7IHUgPCBhOyArK3UpIGZbdV0gPSBkW3VdLnJlYWRWYWx1ZUZyb21Qb2ludGVyKG0gKyBwKSwgcCArPSBkW3VdLmFyZ1BhY2tBZHZhbmNlOwogICAgICAgICAgICAgIGggPSAxID09PSBjID8gT2IoaCwgZikgOiBoLmFwcGx5KGwsIGYpOwogICAgICAgICAgICAgIGwgPSBbXTsKICAgICAgICAgICAgICBoID0gZS50b1dpcmVUeXBlKGwsIGgpOwogICAgICAgICAgICAgIGwubGVuZ3RoICYmIChGW24gPj4gMl0gPSBoYihsKSk7CiAgICAgICAgICAgICAgcmV0dXJuIGg7CiAgICAgICAgICAgIH0pCiAgICAgICAgICApOwogICAgICAgIH0sCiAgICAgICAgYmE6IChhKSA9PiB7CiAgICAgICAgICA5IDwgYSAmJiAoVlthICsgMV0gKz0gMSk7CiAgICAgICAgfSwKICAgICAgICBfOiAoYSkgPT4gewogICAgICAgICAgdmFyIGIgPSB5YihhKTsKICAgICAgICAgIEdhKGIpOwogICAgICAgICAgd2IoYSk7CiAgICAgICAgfSwKICAgICAgICBvOiAoYSwgYikgPT4gewogICAgICAgICAgYSA9IEJiKGEsICJfZW12YWxfdGFrZV92YWx1ZSIpOwogICAgICAgICAgYSA9IGEucmVhZFZhbHVlRnJvbVBvaW50ZXIoYik7CiAgICAgICAgICByZXR1cm4gaGIoYSk7CiAgICAgICAgfSwKICAgICAgICBXOiAoKSA9PiB7CiAgICAgICAgICByYSgiIik7CiAgICAgICAgfSwKICAgICAgICBWOiAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKSwKICAgICAgICBNOiAoYSkgPT4gewogICAgICAgICAgdmFyIGIgPSBBLmxlbmd0aDsKICAgICAgICAgIGEgPj4+PSAwOwogICAgICAgICAgaWYgKDIxNDc0ODM2NDggPCBhKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICBmb3IgKHZhciBjID0gMTsgNCA+PSBjOyBjICo9IDIpIHsKICAgICAgICAgICAgdmFyIGQgPSBiICogKDEgKyAwLjIgLyBjKTsKICAgICAgICAgICAgZCA9IE1hdGgubWluKGQsIGEgKyAxMDA2NjMyOTYpOwogICAgICAgICAgICB2YXIgZSA9IE1hdGg7CiAgICAgICAgICAgIGQgPSBNYXRoLm1heChhLCBkKTsKICAgICAgICAgICAgYTogewogICAgICAgICAgICAgIGUgPSAoZS5taW4uY2FsbChlLCAyMTQ3NDgzNjQ4LCBkICsgKDY1NTM2IC0gZCAlIDY1NTM2KSAlIDY1NTM2KSAtIGZhLmJ1ZmZlci5ieXRlTGVuZ3RoICsgNjU1MzUpIC8gNjU1MzY7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGZhLmdyb3coZSk7CiAgICAgICAgICAgICAgICBsYSgpOwogICAgICAgICAgICAgICAgdmFyIGYgPSAxOwogICAgICAgICAgICAgICAgYnJlYWsgYTsKICAgICAgICAgICAgICB9IGNhdGNoIChsKSB7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGYgPSB2b2lkIDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGYpIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgUzogKGEsIGIpID0+IHsKICAgICAgICAgIHZhciBjID0gMDsKICAgICAgICAgIFJiKCkuZm9yRWFjaCgoZCwgZSkgPT4gewogICAgICAgICAgICB2YXIgZiA9IGIgKyBjOwogICAgICAgICAgICBlID0gRlthICsgNCAqIGUgPj4gMl0gPSBmOwogICAgICAgICAgICBmb3IgKGYgPSAwOyBmIDwgZC5sZW5ndGg7ICsrZikgeVtlKytdID0gZC5jaGFyQ29kZUF0KGYpOwogICAgICAgICAgICB5W2VdID0gMDsKICAgICAgICAgICAgYyArPSBkLmxlbmd0aCArIDE7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0sCiAgICAgICAgVDogKGEsIGIpID0+IHsKICAgICAgICAgIHZhciBjID0gUmIoKTsKICAgICAgICAgIEZbYSA+PiAyXSA9IGMubGVuZ3RoOwogICAgICAgICAgdmFyIGQgPSAwOwogICAgICAgICAgYy5mb3JFYWNoKChlKSA9PiBkICs9IGUubGVuZ3RoICsgMSk7CiAgICAgICAgICBGW2IgPj4gMl0gPSBkOwogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfSwKICAgICAgICB0OiAoKSA9PiA1MiwKICAgICAgICBBOiAoKSA9PiA1MiwKICAgICAgICBJOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiA3MDsKICAgICAgICB9LAogICAgICAgIHo6IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgICBmb3IgKHZhciBlID0gMCwgZiA9IDA7IGYgPCBjOyBmKyspIHsKICAgICAgICAgICAgdmFyIGwgPSBGW2IgPj4gMl0sIGggPSBGW2IgKyA0ID4+IDJdOwogICAgICAgICAgICBiICs9IDg7CiAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgaDsgbisrKSB7CiAgICAgICAgICAgICAgdmFyIG0gPSBBW2wgKyBuXSwgcCA9IFNiW2FdOwogICAgICAgICAgICAgIDAgPT09IG0gfHwgMTAgPT09IG0gPyAoKDEgPT09IGEgPyBlYSA6IHcpKEoocCwgMCkpLCBwLmxlbmd0aCA9IDApIDogcC5wdXNoKG0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGUgKz0gaDsKICAgICAgICAgIH0KICAgICAgICAgIEZbZCA+PiAyXSA9IGU7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9LAogICAgICAgIFU6IChhLCBiKSA9PiB7CiAgICAgICAgICBVYihBLnN1YmFycmF5KGEsIGEgKyBiKSk7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9LAogICAgICAgIGk6IGNjLAogICAgICAgIGQ6IGRjLAogICAgICAgIGU6IGVjLAogICAgICAgIHA6IGZjLAogICAgICAgIHk6IGdjLAogICAgICAgIGI6IGhjLAogICAgICAgIGE6IGljLAogICAgICAgIGg6IGpjLAogICAgICAgIG46IGtjLAogICAgICAgIEg6IGxjLAogICAgICAgIEw6IChhLCBiLCBjLCBkKSA9PiBaYihhLCBiLCBjLCBkKQogICAgICB9LCBXID0gZnVuY3Rpb24oKSB7CiAgICAgICAgZnVuY3Rpb24gYShjKSB7CiAgICAgICAgICBXID0gYy5leHBvcnRzOwogICAgICAgICAgZmEgPSBXLmRhOwogICAgICAgICAgbGEoKTsKICAgICAgICAgIFMgPSBXLmhhOwogICAgICAgICAgbmEudW5zaGlmdChXLmVhKTsKICAgICAgICAgIEctLTsKICAgICAgICAgIGsubW9uaXRvclJ1bkRlcGVuZGVuY2llcz8uKEcpOwogICAgICAgICAgMCA9PSBHICYmIChudWxsICE9PSBxYSAmJiAoY2xlYXJJbnRlcnZhbChxYSksIHFhID0gbnVsbCksIEggJiYgKGMgPSBILCBIID0gbnVsbCwgYygpKSk7CiAgICAgICAgICByZXR1cm4gVzsKICAgICAgICB9CiAgICAgICAgdmFyIGIgPSB7IGE6IG1jIH07CiAgICAgICAgRysrOwogICAgICAgIGsubW9uaXRvclJ1bkRlcGVuZGVuY2llcz8uKEcpOwogICAgICAgIGlmIChrLmluc3RhbnRpYXRlV2FzbSkKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBrLmluc3RhbnRpYXRlV2FzbShiLCBhKTsKICAgICAgICAgIH0gY2F0Y2ggKGMpIHsKICAgICAgICAgICAgdyhgTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogJHtjfWApLCBiYShjKTsKICAgICAgICAgIH0KICAgICAgICB4YShiLCBmdW5jdGlvbihjKSB7CiAgICAgICAgICBhKGMuaW5zdGFuY2UpOwogICAgICAgIH0pLmNhdGNoKGJhKTsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0oKSwgYmMgPSAoYSkgPT4gKGJjID0gVy5mYSkoYSksIG9iID0gKGEpID0+IChvYiA9IFcuZ2EpKGEpLCBVID0gKGEpID0+IChVID0gVy5pYSkoYSksIFggPSAoYSwgYikgPT4gKFggPSBXLmphKShhLCBiKSwgWSA9IChhKSA9PiAoWSA9IFcua2EpKGEpLCBaID0gKCkgPT4gKFogPSBXLmxhKSgpOwogICAgICBrLmR5bkNhbGxfaWlqaiA9IChhLCBiLCBjLCBkLCBlLCBmKSA9PiAoay5keW5DYWxsX2lpamogPSBXLm5hKShhLCBiLCBjLCBkLCBlLCBmKTsKICAgICAgay5keW5DYWxsX3ZpamogPSAoYSwgYiwgYywgZCwgZSwgZikgPT4gKGsuZHluQ2FsbF92aWpqID0gVy5vYSkoYSwgYiwgYywgZCwgZSwgZik7CiAgICAgIGsuZHluQ2FsbF9qaWlpID0gKGEsIGIsIGMsIGQpID0+IChrLmR5bkNhbGxfamlpaSA9IFcucGEpKGEsIGIsIGMsIGQpOwogICAgICBrLmR5bkNhbGxfamlpID0gKGEsIGIsIGMpID0+IChrLmR5bkNhbGxfamlpID0gVy5xYSkoYSwgYiwgYyk7CiAgICAgIHZhciBuYyA9IGsuZHluQ2FsbF92aWlpaiA9IChhLCBiLCBjLCBkLCBlLCBmKSA9PiAobmMgPSBrLmR5bkNhbGxfdmlpaWogPSBXLnJhKShhLCBiLCBjLCBkLCBlLCBmKTsKICAgICAgay5keW5DYWxsX2ppamkgPSAoYSwgYiwgYywgZCwgZSkgPT4gKGsuZHluQ2FsbF9qaWppID0gVy5zYSkoYSwgYiwgYywgZCwgZSk7CiAgICAgIGsuZHluQ2FsbF92aWlqaWkgPSAoYSwgYiwgYywgZCwgZSwgZiwgbCkgPT4gKGsuZHluQ2FsbF92aWlqaWkgPSBXLnRhKShhLCBiLCBjLCBkLCBlLCBmLCBsKTsKICAgICAgay5keW5DYWxsX2lpaWlpaiA9IChhLCBiLCBjLCBkLCBlLCBmLCBsKSA9PiAoay5keW5DYWxsX2lpaWlpaiA9IFcudWEpKGEsIGIsIGMsIGQsIGUsIGYsIGwpOwogICAgICBrLmR5bkNhbGxfaWlpaWlqaiA9IChhLCBiLCBjLCBkLCBlLCBmLCBsLCBoLCBuKSA9PiAoay5keW5DYWxsX2lpaWlpamogPSBXLnZhKShhLCBiLCBjLCBkLCBlLCBmLCBsLCBoLCBuKTsKICAgICAgay5keW5DYWxsX2lpaWlpaWpqID0gKGEsIGIsIGMsIGQsIGUsIGYsIGwsIGgsIG4sIG0pID0+IChrLmR5bkNhbGxfaWlpaWlpamogPSBXLndhKShhLCBiLCBjLCBkLCBlLCBmLCBsLCBoLCBuLCBtKTsKICAgICAgZnVuY3Rpb24gaGMoYSwgYikgewogICAgICAgIHZhciBjID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICBTLmdldChhKShiKTsKICAgICAgICB9IGNhdGNoIChkKSB7CiAgICAgICAgICBZKGMpOwogICAgICAgICAgaWYgKGQgIT09IGQgKyAwKSB0aHJvdyBkOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gaWMoYSwgYiwgYykgewogICAgICAgIHZhciBkID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICBTLmdldChhKShiLCBjKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBZKGQpOwogICAgICAgICAgaWYgKGUgIT09IGUgKyAwKSB0aHJvdyBlOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gZWMoYSwgYiwgYywgZCkgewogICAgICAgIHZhciBlID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gUy5nZXQoYSkoYiwgYywgZCk7CiAgICAgICAgfSBjYXRjaCAoZikgewogICAgICAgICAgWShlKTsKICAgICAgICAgIGlmIChmICE9PSBmICsgMCkgdGhyb3cgZjsKICAgICAgICAgIFgoMSwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGRjKGEsIGIsIGMpIHsKICAgICAgICB2YXIgZCA9IFooKTsKICAgICAgICB0cnkgewogICAgICAgICAgcmV0dXJuIFMuZ2V0KGEpKGIsIGMpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIFkoZCk7CiAgICAgICAgICBpZiAoZSAhPT0gZSArIDApIHRocm93IGU7CiAgICAgICAgICBYKDEsIDApOwogICAgICAgIH0KICAgICAgfQogICAgICBmdW5jdGlvbiBjYyhhLCBiKSB7CiAgICAgICAgdmFyIGMgPSBaKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiBTLmdldChhKShiKTsKICAgICAgICB9IGNhdGNoIChkKSB7CiAgICAgICAgICBZKGMpOwogICAgICAgICAgaWYgKGQgIT09IGQgKyAwKSB0aHJvdyBkOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gZmMoYSwgYiwgYywgZCwgZSwgZikgewogICAgICAgIHZhciBsID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gUy5nZXQoYSkoYiwgYywgZCwgZSwgZik7CiAgICAgICAgfSBjYXRjaCAoaCkgewogICAgICAgICAgWShsKTsKICAgICAgICAgIGlmIChoICE9PSBoICsgMCkgdGhyb3cgaDsKICAgICAgICAgIFgoMSwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGtjKGEsIGIsIGMsIGQsIGUpIHsKICAgICAgICB2YXIgZiA9IFooKTsKICAgICAgICB0cnkgewogICAgICAgICAgUy5nZXQoYSkoYiwgYywgZCwgZSk7CiAgICAgICAgfSBjYXRjaCAobCkgewogICAgICAgICAgWShmKTsKICAgICAgICAgIGlmIChsICE9PSBsICsgMCkgdGhyb3cgbDsKICAgICAgICAgIFgoMSwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGpjKGEsIGIsIGMsIGQpIHsKICAgICAgICB2YXIgZSA9IFooKTsKICAgICAgICB0cnkgewogICAgICAgICAgUy5nZXQoYSkoYiwgYywgZCk7CiAgICAgICAgfSBjYXRjaCAoZikgewogICAgICAgICAgWShlKTsKICAgICAgICAgIGlmIChmICE9PSBmICsgMCkgdGhyb3cgZjsKICAgICAgICAgIFgoMSwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGdjKGEpIHsKICAgICAgICB2YXIgYiA9IFooKTsKICAgICAgICB0cnkgewogICAgICAgICAgUy5nZXQoYSkoKTsKICAgICAgICB9IGNhdGNoIChjKSB7CiAgICAgICAgICBZKGIpOwogICAgICAgICAgaWYgKGMgIT09IGMgKyAwKSB0aHJvdyBjOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gbGMoYSwgYiwgYywgZCwgZSwgZikgewogICAgICAgIHZhciBsID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICBuYyhhLCBiLCBjLCBkLCBlLCBmKTsKICAgICAgICB9IGNhdGNoIChoKSB7CiAgICAgICAgICBZKGwpOwogICAgICAgICAgaWYgKGggIT09IGggKyAwKSB0aHJvdyBoOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdmFyIG9jOwogICAgICBIID0gZnVuY3Rpb24gcGMoKSB7CiAgICAgICAgb2MgfHwgcWMoKTsKICAgICAgICBvYyB8fCAoSCA9IHBjKTsKICAgICAgfTsKICAgICAgZnVuY3Rpb24gcWMoKSB7CiAgICAgICAgZnVuY3Rpb24gYSgpIHsKICAgICAgICAgIGlmICghb2MgJiYgKG9jID0gdHJ1ZSwgay5jYWxsZWRSdW4gPSB0cnVlLCAhaGEpKSB7CiAgICAgICAgICAgIHlhKG5hKTsKICAgICAgICAgICAgYWEoayk7CiAgICAgICAgICAgIGlmIChrLm9uUnVudGltZUluaXRpYWxpemVkKSBrLm9uUnVudGltZUluaXRpYWxpemVkKCk7CiAgICAgICAgICAgIGlmIChrLnBvc3RSdW4pCiAgICAgICAgICAgICAgZm9yICgiZnVuY3Rpb24iID09IHR5cGVvZiBrLnBvc3RSdW4gJiYgKGsucG9zdFJ1biA9IFtrLnBvc3RSdW5dKTsgay5wb3N0UnVuLmxlbmd0aDsgKSB7CiAgICAgICAgICAgICAgICB2YXIgYiA9IGsucG9zdFJ1bi5zaGlmdCgpOwogICAgICAgICAgICAgICAgb2EudW5zaGlmdChiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIHlhKG9hKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCEoMCA8IEcpKSB7CiAgICAgICAgICBpZiAoay5wcmVSdW4pIGZvciAoImZ1bmN0aW9uIiA9PSB0eXBlb2Ygay5wcmVSdW4gJiYgKGsucHJlUnVuID0gW2sucHJlUnVuXSk7IGsucHJlUnVuLmxlbmd0aDsgKSBwYSgpOwogICAgICAgICAgeWEobWEpOwogICAgICAgICAgMCA8IEcgfHwgKGsuc2V0U3RhdHVzID8gKGsuc2V0U3RhdHVzKCJSdW5uaW5nLi4uIiksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgay5zZXRTdGF0dXMoIiIpOwogICAgICAgICAgICB9LCAxKTsKICAgICAgICAgICAgYSgpOwogICAgICAgICAgfSwgMSkpIDogYSgpKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGsucHJlSW5pdCkKICAgICAgICBmb3IgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIGsucHJlSW5pdCAmJiAoay5wcmVJbml0ID0gW2sucHJlSW5pdF0pOyAwIDwgay5wcmVJbml0Lmxlbmd0aDsgKSBrLnByZUluaXQucG9wKCkoKTsKICAgICAgcWMoKTsKICAgICAgcmV0dXJuIHJlYWR5UHJvbWlzZTsKICAgIH07CiAgfSkoKTsKICB2YXIgZG90bG90dGllX3BsYXllcl9kZWZhdWx0ID0gY3JlYXRlRG90TG90dGllUGxheWVyTW9kdWxlOwoKICAvLyBzcmMvY29yZS9kb3Rsb3R0aWUtd2FzbS1sb2FkZXIudHMKICB2YXIgRG90TG90dGllV2FzbUxvYWRlciA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlJlbmRlcmVyTG9hZGVyIGlzIGEgc3RhdGljIGNsYXNzIGFuZCBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLiIpOwogICAgfQogICAgc3RhdGljIGFzeW5jIF90cnlMb2FkKHVybCkgewogICAgICBjb25zdCBtb2R1bGUgPSBhd2FpdCBkb3Rsb3R0aWVfcGxheWVyX2RlZmF1bHQoeyBsb2NhdGVGaWxlOiAoKSA9PiB1cmwgfSk7CiAgICAgIHJldHVybiBtb2R1bGU7CiAgICB9CiAgICAvKioKICAgICAqIFRyaWVzIHRvIGxvYWQgdGhlIFdBU00gbW9kdWxlIGZyb20gdGhlIHByaW1hcnkgVVJMLCBmYWxsaW5nIGJhY2sgdG8gYSBiYWNrdXAgVVJMIGlmIG5lY2Vzc2FyeS4KICAgICAqIFRocm93cyBhbiBlcnJvciBpZiBib3RoIFVSTHMgZmFpbCB0byBsb2FkIHRoZSBtb2R1bGUuCiAgICAgKiBAcmV0dXJucyBQcm9taXNlPE1vZHVsZT4gLSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgbG9hZGVkIG1vZHVsZS4KICAgICAqLwogICAgc3RhdGljIGFzeW5jIF9sb2FkV2l0aEJhY2t1cCgpIHsKICAgICAgaWYgKCF0aGlzLl9Nb2R1bGVQcm9taXNlKSB7CiAgICAgICAgdGhpcy5fTW9kdWxlUHJvbWlzZSA9IHRoaXMuX3RyeUxvYWQodGhpcy5fd2FzbVVSTCkuY2F0Y2goYXN5bmMgKGluaXRpYWxFcnJvcikgPT4gewogICAgICAgICAgY29uc3QgYmFja3VwVXJsID0gYGh0dHBzOi8vdW5wa2cuY29tLyR7UEFDS0FHRV9OQU1FfUAke1BBQ0tBR0VfVkVSU0lPTn0vZGlzdC9kb3Rsb3R0aWUtcGxheWVyLndhc21gOwogICAgICAgICAgY29uc29sZS53YXJuKGBQcmltYXJ5IFdBU00gbG9hZCBmYWlsZWQgZnJvbSAke3RoaXMuX3dhc21VUkx9LiBFcnJvcjogJHtpbml0aWFsRXJyb3IubWVzc2FnZX1gKTsKICAgICAgICAgIGNvbnNvbGUud2FybihgQXR0ZW1wdGluZyB0byBsb2FkIFdBU00gZnJvbSBiYWNrdXAgVVJMOiAke2JhY2t1cFVybH1gKTsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl90cnlMb2FkKGJhY2t1cFVybCk7CiAgICAgICAgICB9IGNhdGNoIChiYWNrdXBFcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGBQcmltYXJ5IFdBU00gVVJMIGZhaWxlZDogJHtpbml0aWFsRXJyb3IubWVzc2FnZX1gKTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQmFja3VwIFdBU00gVVJMIGZhaWxlZDogJHtiYWNrdXBFcnJvci5tZXNzYWdlfWApOwogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIldBU00gbG9hZGluZyBmYWlsZWQgZnJvbSBhbGwgc291cmNlcy4iKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5fTW9kdWxlUHJvbWlzZTsKICAgIH0KICAgIC8qKgogICAgICogUHVibGljIG1ldGhvZCB0byBsb2FkIHRoZSBXZWJBc3NlbWJseSBtb2R1bGUuCiAgICAgKiBVdGlsaXplcyBhIHByaW1hcnkgYW5kIGJhY2t1cCBVUkwgZm9yIHJvYnVzdG5lc3MuCiAgICAgKiBAcmV0dXJucyBQcm9taXNlPE1vZHVsZT4gLSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgbG9hZGVkIG1vZHVsZS4KICAgICAqLwogICAgc3RhdGljIGFzeW5jIGxvYWQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9sb2FkV2l0aEJhY2t1cCgpOwogICAgfQogICAgLyoqCiAgICAgKiBTZXRzIGEgbmV3IFVSTCBmb3IgdGhlIFdBU00gZmlsZSBhbmQgaW52YWxpZGF0ZXMgdGhlIGN1cnJlbnQgbW9kdWxlIHByb21pc2UuCiAgICAgKgogICAgICogQHBhcmFtIHN0cmluZyAtICBUaGUgbmV3IFVSTCBmb3IgdGhlIFdBU00gZmlsZS4KICAgICAqLwogICAgc3RhdGljIHNldFdhc21VcmwodXJsKSB7CiAgICAgIHRoaXMuX3dhc21VUkwgPSB1cmw7CiAgICAgIHRoaXMuX01vZHVsZVByb21pc2UgPSBudWxsOwogICAgfQogIH07CiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvbgogIF9fcHVibGljRmllbGQoRG90TG90dGllV2FzbUxvYWRlciwgIl9Nb2R1bGVQcm9taXNlIiwgbnVsbCk7CiAgLy8gVVJMIGZvciB0aGUgV0FTTSBmaWxlLCBjb25zdHJ1Y3RlZCB1c2luZyBwYWNrYWdlIGluZm9ybWF0aW9uCiAgX19wdWJsaWNGaWVsZChEb3RMb3R0aWVXYXNtTG9hZGVyLCAiX3dhc21VUkwiLCBgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS8ke1BBQ0tBR0VfTkFNRX1AJHtQQUNLQUdFX1ZFUlNJT059L2Rpc3QvZG90bG90dGllLXBsYXllci53YXNtYCk7CgogIC8vIHNyYy9ldmVudC1tYW5hZ2VyLnRzCiAgdmFyIEV2ZW50TWFuYWdlciA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfZXZlbnRMaXN0ZW5lcnMiLCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTsKICAgIH0KICAgIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50TGlzdGVuZXJzLmdldCh0eXBlKTsKICAgICAgaWYgKCFsaXN0ZW5lcnMpIHsKICAgICAgICBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpOwogICAgICAgIHRoaXMuX2V2ZW50TGlzdGVuZXJzLnNldCh0eXBlLCBsaXN0ZW5lcnMpOwogICAgICB9CiAgICAgIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpOwogICAgfQogICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudExpc3RlbmVycy5nZXQodHlwZSk7CiAgICAgIGlmICghbGlzdGVuZXJzKSByZXR1cm47CiAgICAgIGlmIChsaXN0ZW5lcikgewogICAgICAgIGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpOwogICAgICAgIGlmIChsaXN0ZW5lcnMuc2l6ZSA9PT0gMCkgewogICAgICAgICAgdGhpcy5fZXZlbnRMaXN0ZW5lcnMuZGVsZXRlKHR5cGUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9ldmVudExpc3RlbmVycy5kZWxldGUodHlwZSk7CiAgICAgIH0KICAgIH0KICAgIGRpc3BhdGNoKGV2ZW50KSB7CiAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50TGlzdGVuZXJzLmdldChldmVudC50eXBlKTsKICAgICAgbGlzdGVuZXJzPy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoZXZlbnQpKTsKICAgIH0KICAgIHJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCkgewogICAgICB0aGlzLl9ldmVudExpc3RlbmVycy5jbGVhcigpOwogICAgfQogIH07CgogIC8vIHNyYy91dGlscy50cwogIGZ1bmN0aW9uIGlzSGV4Q29sb3IoY29sb3IpIHsKICAgIHJldHVybiAvXiMoW1xkYS1mXXs2fXxbXGRhLWZdezh9KSQvaXUudGVzdChjb2xvcik7CiAgfQogIGZ1bmN0aW9uIGhleFN0cmluZ1RvUkdCQUludChjb2xvckhleCkgewogICAgaWYgKCFpc0hleENvbG9yKGNvbG9ySGV4KSkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGxldCBoZXggPSBjb2xvckhleC5yZXBsYWNlKCIjIiwgIiIpOwogICAgaGV4ID0gaGV4Lmxlbmd0aCA9PT0gNiA/IGAke2hleH1mZmAgOiBoZXg7CiAgICByZXR1cm4gcGFyc2VJbnQoaGV4LCAxNik7CiAgfQogIGZ1bmN0aW9uIGlzRG90TG90dGllKGZpbGVEYXRhKSB7CiAgICBpZiAoZmlsZURhdGEuYnl0ZUxlbmd0aCA8IDQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgY29uc3QgZmlsZVNpZ25hdHVyZSA9IG5ldyBVaW50OEFycmF5KGZpbGVEYXRhLnNsaWNlKDAsIFpJUF9TSUdOQVRVUkUuYnl0ZUxlbmd0aCkpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBaSVBfU0lHTkFUVVJFLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgIGlmIChaSVBfU0lHTkFUVVJFW2ldICE9PSBmaWxlU2lnbmF0dXJlW2ldKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgZnVuY3Rpb24gaXNMb3R0aWVKU09OKGpzb24pIHsKICAgIHJldHVybiBMT1RUSUVfSlNPTl9NQU5EQVRPUllfRklFTERTLmV2ZXJ5KChmaWVsZCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGpzb24sIGZpZWxkKSk7CiAgfQogIGZ1bmN0aW9uIGlzTG90dGllKGZpbGVEYXRhKSB7CiAgICBpZiAodHlwZW9mIGZpbGVEYXRhID09PSAic3RyaW5nIikgewogICAgICB0cnkgewogICAgICAgIHJldHVybiBpc0xvdHRpZUpTT04oSlNPTi5wYXJzZShmaWxlRGF0YSkpOwogICAgICB9IGNhdGNoIChfZSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGlzTG90dGllSlNPTihmaWxlRGF0YSk7CiAgICB9CiAgfQoKICAvLyBzcmMvZG90bG90dGllLnRzCiAgdmFyIGNyZWF0ZUNvcmVNb2RlID0gKG1vZGUsIG1vZHVsZSkgPT4gewogICAgaWYgKG1vZGUgPT09ICJyZXZlcnNlIikgewogICAgICByZXR1cm4gbW9kdWxlLk1vZGUuUmV2ZXJzZTsKICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gImJvdW5jZSIpIHsKICAgICAgcmV0dXJuIG1vZHVsZS5Nb2RlLkJvdW5jZTsKICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gInJldmVyc2UtYm91bmNlIikgewogICAgICByZXR1cm4gbW9kdWxlLk1vZGUuUmV2ZXJzZUJvdW5jZTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBtb2R1bGUuTW9kZS5Gb3J3YXJkOwogICAgfQogIH07CiAgdmFyIGNyZWF0ZUNvcmVGaXQgPSAoZml0LCBtb2R1bGUpID0+IHsKICAgIGlmIChmaXQgPT09ICJjb250YWluIikgewogICAgICByZXR1cm4gbW9kdWxlLkZpdC5Db250YWluOwogICAgfSBlbHNlIGlmIChmaXQgPT09ICJjb3ZlciIpIHsKICAgICAgcmV0dXJuIG1vZHVsZS5GaXQuQ292ZXI7CiAgICB9IGVsc2UgaWYgKGZpdCA9PT0gImZpbGwiKSB7CiAgICAgIHJldHVybiBtb2R1bGUuRml0LkZpbGw7CiAgICB9IGVsc2UgaWYgKGZpdCA9PT0gImZpdC1oZWlnaHQiKSB7CiAgICAgIHJldHVybiBtb2R1bGUuRml0LkZpdEhlaWdodDsKICAgIH0gZWxzZSBpZiAoZml0ID09PSAiZml0LXdpZHRoIikgewogICAgICByZXR1cm4gbW9kdWxlLkZpdC5GaXRXaWR0aDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBtb2R1bGUuRml0Lk5vbmU7CiAgICB9CiAgfTsKICB2YXIgY3JlYXRlQ29yZUFsaWduID0gKGFsaWduLCBtb2R1bGUpID0+IHsKICAgIGNvbnN0IGNvcmVBbGlnbiA9IG5ldyBtb2R1bGUuVmVjdG9yRmxvYXQoKTsKICAgIGNvcmVBbGlnbi5wdXNoX2JhY2soYWxpZ25bMF0pOwogICAgY29yZUFsaWduLnB1c2hfYmFjayhhbGlnblsxXSk7CiAgICByZXR1cm4gY29yZUFsaWduOwogIH07CiAgdmFyIGNyZWF0ZUNvcmVTZWdtZW50ID0gKHNlZ21lbnQsIG1vZHVsZSkgPT4gewogICAgY29uc3QgY29yZXNlZ21lbnQgPSBuZXcgbW9kdWxlLlZlY3RvckZsb2F0KCk7CiAgICBpZiAoc2VnbWVudC5sZW5ndGggIT09IDIpIHJldHVybiBjb3Jlc2VnbWVudDsKICAgIGNvcmVzZWdtZW50LnB1c2hfYmFjayhzZWdtZW50WzBdKTsKICAgIGNvcmVzZWdtZW50LnB1c2hfYmFjayhzZWdtZW50WzFdKTsKICAgIHJldHVybiBjb3Jlc2VnbWVudDsKICB9OwogIHZhciBfRG90TG90dGllID0gY2xhc3MgX0RvdExvdHRpZSB7CiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX2NhbnZhcyIpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfY29udGV4dCIsIG51bGwpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfZXZlbnRNYW5hZ2VyIik7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9hbmltYXRpb25GcmFtZUlkIiwgbnVsbCk7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9mcmFtZU1hbmFnZXIiKTsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX2RvdExvdHRpZUNvcmUiLCBudWxsKTsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX3JlbmRlckNvbmZpZyIsIHt9KTsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX2lzRnJvemVuIiwgZmFsc2UpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfYmFja2dyb3VuZENvbG9yIiwgbnVsbCk7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9wb2ludGVyVXBNZXRob2QiKTsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX3BvaW50ZXJEb3duTWV0aG9kIik7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9wb2ludGVyTW92ZU1ldGhvZCIpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfcG9pbnRlckVudGVyTWV0aG9kIik7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9wb2ludGVyRXhpdE1ldGhvZCIpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfb25Db21wbGV0ZU1ldGhvZCIpOwogICAgICB0aGlzLl9jYW52YXMgPSBjb25maWcuY2FudmFzOwogICAgICB0aGlzLl9jb250ZXh0ID0gdGhpcy5fY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgIHRoaXMuX2V2ZW50TWFuYWdlciA9IG5ldyBFdmVudE1hbmFnZXIoKTsKICAgICAgdGhpcy5fZnJhbWVNYW5hZ2VyID0gbmV3IEFuaW1hdGlvbkZyYW1lTWFuYWdlcigpOwogICAgICB0aGlzLl9yZW5kZXJDb25maWcgPSBjb25maWcucmVuZGVyQ29uZmlnID8/IHt9OwogICAgICBEb3RMb3R0aWVXYXNtTG9hZGVyLmxvYWQoKS50aGVuKChtb2R1bGUpID0+IHsKICAgICAgICBfRG90TG90dGllLl93YXNtTW9kdWxlID0gbW9kdWxlOwogICAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUgPSBuZXcgbW9kdWxlLkRvdExvdHRpZVBsYXllcih7CiAgICAgICAgICBhdXRvcGxheTogY29uZmlnLmF1dG9wbGF5ID8/IGZhbHNlLAogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAwLAogICAgICAgICAgbG9vcEFuaW1hdGlvbjogY29uZmlnLmxvb3AgPz8gZmFsc2UsCiAgICAgICAgICBtb2RlOiBjcmVhdGVDb3JlTW9kZShjb25maWcubW9kZSA/PyAiZm9yd2FyZCIsIG1vZHVsZSksCiAgICAgICAgICBzZWdtZW50OiBjcmVhdGVDb3JlU2VnbWVudChjb25maWcuc2VnbWVudCA/PyBbXSwgbW9kdWxlKSwKICAgICAgICAgIHNwZWVkOiBjb25maWcuc3BlZWQgPz8gMSwKICAgICAgICAgIHVzZUZyYW1lSW50ZXJwb2xhdGlvbjogY29uZmlnLnVzZUZyYW1lSW50ZXJwb2xhdGlvbiA/PyB0cnVlLAogICAgICAgICAgbWFya2VyOiBjb25maWcubWFya2VyID8/ICIiLAogICAgICAgICAgbGF5b3V0OiBjb25maWcubGF5b3V0ID8gewogICAgICAgICAgICBhbGlnbjogY3JlYXRlQ29yZUFsaWduKGNvbmZpZy5sYXlvdXQuYWxpZ24sIG1vZHVsZSksCiAgICAgICAgICAgIGZpdDogY3JlYXRlQ29yZUZpdChjb25maWcubGF5b3V0LmZpdCwgbW9kdWxlKQogICAgICAgICAgfSA6IG1vZHVsZS5jcmVhdGVEZWZhdWx0TGF5b3V0KCkKICAgICAgICB9KTsKICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAicmVhZHkiIH0pOwogICAgICAgIGlmIChjb25maWcuZGF0YSkgewogICAgICAgICAgdGhpcy5fbG9hZEZyb21EYXRhKGNvbmZpZy5kYXRhKTsKICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5zcmMpIHsKICAgICAgICAgIHRoaXMuX2xvYWRGcm9tU3JjKGNvbmZpZy5zcmMpOwogICAgICAgIH0KICAgICAgICBpZiAoY29uZmlnLmJhY2tncm91bmRDb2xvcikgewogICAgICAgICAgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoY29uZmlnLmJhY2tncm91bmRDb2xvcik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goewogICAgICAgICAgdHlwZTogImxvYWRFcnJvciIsCiAgICAgICAgICBlcnJvcjogbmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCB3YXNtIG1vZHVsZTogJHtlcnJvcn1gKQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5fcG9pbnRlclVwTWV0aG9kID0gdGhpcy5fb25Qb2ludGVyVXAuYmluZCh0aGlzKTsKICAgICAgdGhpcy5fcG9pbnRlckRvd25NZXRob2QgPSB0aGlzLl9vblBvaW50ZXJEb3duLmJpbmQodGhpcyk7CiAgICAgIHRoaXMuX3BvaW50ZXJNb3ZlTWV0aG9kID0gdGhpcy5fb25Qb2ludGVyTW92ZS5iaW5kKHRoaXMpOwogICAgICB0aGlzLl9wb2ludGVyRW50ZXJNZXRob2QgPSB0aGlzLl9vblBvaW50ZXJFbnRlci5iaW5kKHRoaXMpOwogICAgICB0aGlzLl9wb2ludGVyRXhpdE1ldGhvZCA9IHRoaXMuX29uUG9pbnRlckxlYXZlLmJpbmQodGhpcyk7CiAgICAgIHRoaXMuX29uQ29tcGxldGVNZXRob2QgPSB0aGlzLl9vbkNvbXBsZXRlLmJpbmQodGhpcyk7CiAgICB9CiAgICBfZGlzcGF0Y2hFcnJvcihtZXNzYWdlKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7CiAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7IHR5cGU6ICJsb2FkRXJyb3IiLCBlcnJvcjogbmV3IEVycm9yKG1lc3NhZ2UpIH0pOwogICAgfQogICAgYXN5bmMgX2ZldGNoRGF0YShzcmMpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzcmMpOwogICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggYW5pbWF0aW9uIGRhdGEgZnJvbSBVUkw6ICR7c3JjfS4gJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7CiAgICAgIH0KICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7CiAgICAgIGlmIChpc0RvdExvdHRpZShkYXRhKSkgewogICAgICAgIHJldHVybiBkYXRhOwogICAgICB9CiAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoZGF0YSk7CiAgICB9CiAgICBfbG9hZEZyb21EYXRhKGRhdGEpIHsKICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUgPT09IG51bGwpIHJldHVybjsKICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl9jYW52YXMud2lkdGg7CiAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX2NhbnZhcy5oZWlnaHQ7CiAgICAgIGxldCBsb2FkZWQgPSBmYWxzZTsKICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAic3RyaW5nIikgewogICAgICAgIGlmICghaXNMb3R0aWUoZGF0YSkpIHsKICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRXJyb3IoCiAgICAgICAgICAgICJJbnZhbGlkIExvdHRpZSBKU09OIHN0cmluZzogVGhlIHByb3ZpZGVkIHN0cmluZyBkb2VzIG5vdCBjb25mb3JtIHRvIHRoZSBMb3R0aWUgSlNPTiBmb3JtYXQuIgogICAgICAgICAgKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbG9hZGVkID0gdGhpcy5fZG90TG90dGllQ29yZS5sb2FkQW5pbWF0aW9uRGF0YShkYXRhLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgfSBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHsKICAgICAgICBpZiAoIWlzRG90TG90dGllKGRhdGEpKSB7CiAgICAgICAgICB0aGlzLl9kaXNwYXRjaEVycm9yKAogICAgICAgICAgICAiSW52YWxpZCBkb3RMb3R0aWUgQXJyYXlCdWZmZXI6IFRoZSBwcm92aWRlZCBBcnJheUJ1ZmZlciBkb2VzIG5vdCBjb25mb3JtIHRvIHRoZSBkb3RMb3R0aWUgZm9ybWF0LiIKICAgICAgICAgICk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxvYWRlZCA9IHRoaXMuX2RvdExvdHRpZUNvcmUubG9hZERvdExvdHRpZURhdGEoZGF0YSwgd2lkdGgsIGhlaWdodCk7CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICJvYmplY3QiKSB7CiAgICAgICAgaWYgKCFpc0xvdHRpZShkYXRhKSkgewogICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFcnJvcigKICAgICAgICAgICAgIkludmFsaWQgTG90dGllIEpTT04gb2JqZWN0OiBUaGUgcHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvbmZvcm0gdG8gdGhlIExvdHRpZSBKU09OIGZvcm1hdC4iCiAgICAgICAgICApOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBsb2FkZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLmxvYWRBbmltYXRpb25EYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9kaXNwYXRjaEVycm9yKAogICAgICAgICAgYFVuc3VwcG9ydGVkIGRhdGEgdHlwZSBmb3IgYW5pbWF0aW9uIGRhdGEuIEV4cGVjdGVkOiAKICAgICAgICAgIC0gc3RyaW5nIChMb3R0aWUgSlNPTiksCiAgICAgICAgICAtIEFycmF5QnVmZmVyIChkb3RMb3R0aWUpLAogICAgICAgICAgLSBvYmplY3QgKExvdHRpZSBKU09OKS4gCiAgICAgICAgICBSZWNlaXZlZDogJHt0eXBlb2YgZGF0YX1gCiAgICAgICAgKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKGxvYWRlZCkgewogICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7IHR5cGU6ICJsb2FkIiB9KTsKICAgICAgICBpZiAoSVNfQlJPV1NFUikgewogICAgICAgICAgdGhpcy5yZXNpemUoKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsKICAgICAgICAgIHR5cGU6ICJmcmFtZSIsCiAgICAgICAgICBjdXJyZW50RnJhbWU6IHRoaXMuX2RvdExvdHRpZUNvcmUuY3VycmVudEZyYW1lKCkKICAgICAgICB9KTsKICAgICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZS5jb25maWcoKS5hdXRvcGxheSkgewogICAgICAgICAgdGhpcy5fZG90TG90dGllQ29yZS5wbGF5KCk7CiAgICAgICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZS5pc1BsYXlpbmcoKSkgewogICAgICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAicGxheSIgfSk7CiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbkZyYW1lSWQgPSB0aGlzLl9mcmFtZU1hbmFnZXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2RyYXcuYmluZCh0aGlzKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJzb21ldGhpbmcgd2VudCB3cm9uZywgdGhlIGFuaW1hdGlvbiB3YXMgc3VwcG9zZSB0byBhdXRvcGxheSIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9kaXNwYXRjaEVycm9yKCJGYWlsZWQgdG8gbG9hZCBhbmltYXRpb24gZGF0YSIpOwogICAgICB9CiAgICB9CiAgICBfbG9hZEZyb21TcmMoc3JjKSB7CiAgICAgIHRoaXMuX2ZldGNoRGF0YShzcmMpLnRoZW4oKGRhdGEpID0+IHRoaXMuX2xvYWRGcm9tRGF0YShkYXRhKSkuY2F0Y2goKGVycm9yKSA9PiB0aGlzLl9kaXNwYXRjaEVycm9yKGBGYWlsZWQgdG8gbG9hZCBhbmltYXRpb24gZGF0YSBmcm9tIFVSTDogJHtzcmN9LiAke2Vycm9yfWApKTsKICAgIH0KICAgIGdldCBhY3RpdmVBbmltYXRpb25JZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmFjdGl2ZUFuaW1hdGlvbklkKCk7CiAgICB9CiAgICBnZXQgYWN0aXZlVGhlbWVJZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmFjdGl2ZVRoZW1lSWQoKTsKICAgIH0KICAgIGdldCBsYXlvdXQoKSB7CiAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLmxheW91dDsKICAgICAgaWYgKGxheW91dCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBhbGlnbjogW2xheW91dC5hbGlnbi5nZXQoMCksIGxheW91dC5hbGlnbi5nZXQoMSldLAogICAgICAgICAgZml0OiAoKCkgPT4gewogICAgICAgICAgICBzd2l0Y2ggKGxheW91dC5maXQpIHsKICAgICAgICAgICAgICBjYXNlIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGU/LkZpdC5Db250YWluOgogICAgICAgICAgICAgICAgcmV0dXJuICJjb250YWluIjsKICAgICAgICAgICAgICBjYXNlIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGU/LkZpdC5Db3ZlcjoKICAgICAgICAgICAgICAgIHJldHVybiAiY292ZXIiOwogICAgICAgICAgICAgIGNhc2UgX0RvdExvdHRpZS5fd2FzbU1vZHVsZT8uRml0LkZpbGw6CiAgICAgICAgICAgICAgICByZXR1cm4gImZpbGwiOwogICAgICAgICAgICAgIGNhc2UgX0RvdExvdHRpZS5fd2FzbU1vZHVsZT8uRml0LkZpdEhlaWdodDoKICAgICAgICAgICAgICAgIHJldHVybiAiZml0LWhlaWdodCI7CiAgICAgICAgICAgICAgY2FzZSBfRG90TG90dGllLl93YXNtTW9kdWxlPy5GaXQuRml0V2lkdGg6CiAgICAgICAgICAgICAgICByZXR1cm4gImZpdC13aWR0aCI7CiAgICAgICAgICAgICAgY2FzZSBfRG90TG90dGllLl93YXNtTW9kdWxlPy5GaXQuTm9uZToKICAgICAgICAgICAgICAgIHJldHVybiAibm9uZSI7CiAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJldHVybiAiY29udGFpbiI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pKCkKICAgICAgICB9OwogICAgICB9CiAgICAgIHJldHVybiB2b2lkIDA7CiAgICB9CiAgICBnZXQgbWFya2VyKCkgewogICAgICBjb25zdCBtYXJrZXIgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5jb25maWcoKS5tYXJrZXI7CiAgICAgIHJldHVybiBtYXJrZXI7CiAgICB9CiAgICBnZXQgbWFuaWZlc3QoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgbWFuaWZlc3QgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5tYW5pZmVzdFN0cmluZygpOwogICAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsIHx8ICFtYW5pZmVzdCkgcmV0dXJuIG51bGw7CiAgICAgICAgY29uc3QgbWFuaWZlc3RKc29uID0gSlNPTi5wYXJzZShtYW5pZmVzdCk7CiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1hbmlmZXN0SnNvbikubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDsKICAgICAgICByZXR1cm4gbWFuaWZlc3RKc29uOwogICAgICB9IGNhdGNoIChfZXJyKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0KICAgIGdldCByZW5kZXJDb25maWcoKSB7CiAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJDb25maWc7CiAgICB9CiAgICBnZXQgc2VnbWVudCgpIHsKICAgICAgY29uc3Qgc2VnbWVudCA9IHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLnNlZ21lbnQ7CiAgICAgIGlmIChzZWdtZW50ICYmIHNlZ21lbnQuc2l6ZSgpID09PSAyKSB7CiAgICAgICAgcmV0dXJuIFtzZWdtZW50LmdldCgwKSwgc2VnbWVudC5nZXQoMSldOwogICAgICB9CiAgICAgIHJldHVybiB2b2lkIDA7CiAgICB9CiAgICBnZXQgbG9vcCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLmxvb3BBbmltYXRpb24gPz8gZmFsc2U7CiAgICB9CiAgICBnZXQgbW9kZSgpIHsKICAgICAgY29uc3QgbW9kZSA9IHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLm1vZGU7CiAgICAgIGlmIChtb2RlID09PSBfRG90TG90dGllLl93YXNtTW9kdWxlPy5Nb2RlLlJldmVyc2UpIHsKICAgICAgICByZXR1cm4gInJldmVyc2UiOwogICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGU/Lk1vZGUuQm91bmNlKSB7CiAgICAgICAgcmV0dXJuICJib3VuY2UiOwogICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGU/Lk1vZGUuUmV2ZXJzZUJvdW5jZSkgewogICAgICAgIHJldHVybiAicmV2ZXJzZS1ib3VuY2UiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiZm9yd2FyZCI7CiAgICAgIH0KICAgIH0KICAgIGdldCBpc0Zyb3plbigpIHsKICAgICAgcmV0dXJuIHRoaXMuX2lzRnJvemVuOwogICAgfQogICAgZ2V0IGJhY2tncm91bmRDb2xvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvciA/PyAiIjsKICAgIH0KICAgIGdldCBhdXRvcGxheSgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLmF1dG9wbGF5ID8/IGZhbHNlOwogICAgfQogICAgZ2V0IHVzZUZyYW1lSW50ZXJwb2xhdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLnVzZUZyYW1lSW50ZXJwb2xhdGlvbiA/PyBmYWxzZTsKICAgIH0KICAgIGdldCBzcGVlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLnNwZWVkID8/IDA7CiAgICB9CiAgICBnZXQgaXNSZWFkeSgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmUgIT09IG51bGw7CiAgICB9CiAgICBnZXQgaXNMb2FkZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5pc0xvYWRlZCgpID8/IGZhbHNlOwogICAgfQogICAgZ2V0IGlzUGxheWluZygpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmlzUGxheWluZygpID8/IGZhbHNlOwogICAgfQogICAgZ2V0IGlzUGF1c2VkKCkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8uaXNQYXVzZWQoKSA/PyBmYWxzZTsKICAgIH0KICAgIGdldCBpc1N0b3BwZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5pc1N0b3BwZWQoKSA/PyBmYWxzZTsKICAgIH0KICAgIGdldCBjdXJyZW50RnJhbWUoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5jdXJyZW50RnJhbWUoKSA/PyAwOwogICAgfQogICAgZ2V0IGxvb3BDb3VudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/Lmxvb3BDb3VudCgpID8/IDA7CiAgICB9CiAgICBnZXQgdG90YWxGcmFtZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy50b3RhbEZyYW1lcygpID8/IDA7CiAgICB9CiAgICBnZXQgZHVyYXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5kdXJhdGlvbigpID8/IDA7CiAgICB9CiAgICBnZXQgc2VnbWVudER1cmF0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8uc2VnbWVudER1cmF0aW9uKCkgPz8gMDsKICAgIH0KICAgIGdldCBjYW52YXMoKSB7CiAgICAgIHJldHVybiB0aGlzLl9jYW52YXM7CiAgICB9CiAgICBsb2FkKGNvbmZpZykgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCB8fCBfRG90TG90dGllLl93YXNtTW9kdWxlID09PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0Q29uZmlnKHsKICAgICAgICBhdXRvcGxheTogY29uZmlnLmF1dG9wbGF5ID8/IGZhbHNlLAogICAgICAgIGJhY2tncm91bmRDb2xvcjogMCwKICAgICAgICBsb29wQW5pbWF0aW9uOiBjb25maWcubG9vcCA/PyBmYWxzZSwKICAgICAgICBtb2RlOiBjcmVhdGVDb3JlTW9kZShjb25maWcubW9kZSA/PyAiZm9yd2FyZCIsIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUpLAogICAgICAgIHNlZ21lbnQ6IGNyZWF0ZUNvcmVTZWdtZW50KGNvbmZpZy5zZWdtZW50ID8/IFtdLCBfRG90TG90dGllLl93YXNtTW9kdWxlKSwKICAgICAgICBzcGVlZDogY29uZmlnLnNwZWVkID8/IDEsCiAgICAgICAgdXNlRnJhbWVJbnRlcnBvbGF0aW9uOiBjb25maWcudXNlRnJhbWVJbnRlcnBvbGF0aW9uID8/IHRydWUsCiAgICAgICAgbWFya2VyOiBjb25maWcubWFya2VyID8/ICIiLAogICAgICAgIGxheW91dDogY29uZmlnLmxheW91dCA/IHsKICAgICAgICAgIGFsaWduOiBjcmVhdGVDb3JlQWxpZ24oY29uZmlnLmxheW91dC5hbGlnbiwgX0RvdExvdHRpZS5fd2FzbU1vZHVsZSksCiAgICAgICAgICBmaXQ6IGNyZWF0ZUNvcmVGaXQoY29uZmlnLmxheW91dC5maXQsIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUpCiAgICAgICAgfSA6IF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUuY3JlYXRlRGVmYXVsdExheW91dCgpCiAgICAgIH0pOwogICAgICBpZiAoY29uZmlnLmRhdGEpIHsKICAgICAgICB0aGlzLl9sb2FkRnJvbURhdGEoY29uZmlnLmRhdGEpOwogICAgICB9IGVsc2UgaWYgKGNvbmZpZy5zcmMpIHsKICAgICAgICB0aGlzLl9sb2FkRnJvbVNyYyhjb25maWcuc3JjKTsKICAgICAgfQogICAgICB0aGlzLnNldEJhY2tncm91bmRDb2xvcihjb25maWcuYmFja2dyb3VuZENvbG9yID8/ICIiKTsKICAgIH0KICAgIF9yZW5kZXIoKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsIHx8IHRoaXMuX2NvbnRleHQgPT09IG51bGwpIHJldHVybiBmYWxzZTsKICAgICAgY29uc3QgcmVuZGVyZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLnJlbmRlcigpOwogICAgICBpZiAocmVuZGVyZWQpIHsKICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLmJ1ZmZlcigpOwogICAgICAgIGNvbnN0IGNsYW1wZWRCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYnVmZmVyLCAwLCB0aGlzLl9jYW52YXMud2lkdGggKiB0aGlzLl9jYW52YXMuaGVpZ2h0ICogNCk7CiAgICAgICAgbGV0IGltYWdlRGF0YSA9IG51bGw7CiAgICAgICAgaWYgKHR5cGVvZiBJbWFnZURhdGEgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICBpbWFnZURhdGEgPSB0aGlzLl9jb250ZXh0LmNyZWF0ZUltYWdlRGF0YSh0aGlzLl9jYW52YXMud2lkdGgsIHRoaXMuX2NhbnZhcy5oZWlnaHQpOwogICAgICAgICAgaW1hZ2VEYXRhLmRhdGEuc2V0KGNsYW1wZWRCdWZmZXIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpbWFnZURhdGEgPSBuZXcgSW1hZ2VEYXRhKGNsYW1wZWRCdWZmZXIsIHRoaXMuX2NhbnZhcy53aWR0aCwgdGhpcy5fY2FudmFzLmhlaWdodCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuX2NvbnRleHQucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsKICAgICAgICAgIHR5cGU6ICJyZW5kZXIiLAogICAgICAgICAgY3VycmVudEZyYW1lOiB0aGlzLl9kb3RMb3R0aWVDb3JlLmN1cnJlbnRGcmFtZSgpCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgX2RyYXcoKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsIHx8IHRoaXMuX2NvbnRleHQgPT09IG51bGwgfHwgIXRoaXMuX2RvdExvdHRpZUNvcmUuaXNQbGF5aW5nKCkpIHJldHVybjsKICAgICAgY29uc3QgbmV4dEZyYW1lID0gdGhpcy5fZG90TG90dGllQ29yZS5yZXF1ZXN0RnJhbWUoKTsKICAgICAgY29uc3QgdXBkYXRlZCA9IHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0RnJhbWUobmV4dEZyYW1lKTsKICAgICAgaWYgKHVwZGF0ZWQpIHsKICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goewogICAgICAgICAgdHlwZTogImZyYW1lIiwKICAgICAgICAgIGN1cnJlbnRGcmFtZTogdGhpcy5fZG90TG90dGllQ29yZS5jdXJyZW50RnJhbWUoKQogICAgICAgIH0pOwogICAgICAgIGNvbnN0IHJlbmRlcmVkID0gdGhpcy5fcmVuZGVyKCk7CiAgICAgICAgaWYgKHJlbmRlcmVkKSB7CiAgICAgICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZS5pc0NvbXBsZXRlKCkpIHsKICAgICAgICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUuY29uZmlnKCkubG9vcEFuaW1hdGlvbikgewogICAgICAgICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7CiAgICAgICAgICAgICAgICB0eXBlOiAibG9vcCIsCiAgICAgICAgICAgICAgICBsb29wQ291bnQ6IHRoaXMuX2RvdExvdHRpZUNvcmUubG9vcENvdW50KCkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAiY29tcGxldGUiIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuX2FuaW1hdGlvbkZyYW1lSWQgPSB0aGlzLl9mcmFtZU1hbmFnZXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2RyYXcuYmluZCh0aGlzKSk7CiAgICB9CiAgICBwbGF5KCkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICBjb25zdCBvayA9IHRoaXMuX2RvdExvdHRpZUNvcmUucGxheSgpOwogICAgICBpZiAob2sgfHwgdGhpcy5fZG90TG90dGllQ29yZS5pc1BsYXlpbmcoKSkgewogICAgICAgIHRoaXMuX2lzRnJvemVuID0gZmFsc2U7CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsgdHlwZTogInBsYXkiIH0pOwogICAgICAgIHRoaXMuX2FuaW1hdGlvbkZyYW1lSWQgPSB0aGlzLl9mcmFtZU1hbmFnZXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2RyYXcuYmluZCh0aGlzKSk7CiAgICAgIH0KICAgIH0KICAgIHBhdXNlKCkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICBjb25zdCBvayA9IHRoaXMuX2RvdExvdHRpZUNvcmUucGF1c2UoKTsKICAgICAgaWYgKG9rIHx8IHRoaXMuX2RvdExvdHRpZUNvcmUuaXNQYXVzZWQoKSkgewogICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7IHR5cGU6ICJwYXVzZSIgfSk7CiAgICAgIH0KICAgIH0KICAgIHN0b3AoKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm47CiAgICAgIGNvbnN0IG9rID0gdGhpcy5fZG90TG90dGllQ29yZS5zdG9wKCk7CiAgICAgIGlmIChvaykgewogICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7IHR5cGU6ICJmcmFtZSIsIGN1cnJlbnRGcmFtZTogdGhpcy5fZG90TG90dGllQ29yZS5jdXJyZW50RnJhbWUoKSB9KTsKICAgICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAic3RvcCIgfSk7CiAgICAgIH0KICAgIH0KICAgIHNldEZyYW1lKGZyYW1lKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm47CiAgICAgIGlmIChmcmFtZSA8IDAgfHwgZnJhbWUgPiB0aGlzLl9kb3RMb3R0aWVDb3JlLnRvdGFsRnJhbWVzKCkpIHJldHVybjsKICAgICAgY29uc3Qgb2sgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLnNlZWsoZnJhbWUpOwogICAgICBpZiAob2spIHsKICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAiZnJhbWUiLCBjdXJyZW50RnJhbWU6IHRoaXMuX2RvdExvdHRpZUNvcmUuY3VycmVudEZyYW1lKCkgfSk7CiAgICAgICAgdGhpcy5fcmVuZGVyKCk7CiAgICAgIH0KICAgIH0KICAgIHNldFNwZWVkKHNwZWVkKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0Q29uZmlnKHsKICAgICAgICAuLi50aGlzLl9kb3RMb3R0aWVDb3JlLmNvbmZpZygpLAogICAgICAgIHNwZWVkCiAgICAgIH0pOwogICAgfQogICAgc2V0QmFja2dyb3VuZENvbG9yKGNvbG9yKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm47CiAgICAgIGlmIChJU19CUk9XU0VSICYmIHRoaXMuX2NhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7CiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0Q29uZmlnKHsKICAgICAgICAgIC4uLnRoaXMuX2RvdExvdHRpZUNvcmUuY29uZmlnKCksCiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGhleFN0cmluZ1RvUkdCQUludChjb2xvcikKICAgICAgICB9KTsKICAgICAgfQogICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjsKICAgIH0KICAgIHNldExvb3AobG9vcCkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICB0aGlzLl9kb3RMb3R0aWVDb3JlLnNldENvbmZpZyh7CiAgICAgICAgLi4udGhpcy5fZG90TG90dGllQ29yZS5jb25maWcoKSwKICAgICAgICBsb29wQW5pbWF0aW9uOiBsb29wCiAgICAgIH0pOwogICAgfQogICAgc2V0VXNlRnJhbWVJbnRlcnBvbGF0aW9uKHVzZUZyYW1lSW50ZXJwb2xhdGlvbikgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICB0aGlzLl9kb3RMb3R0aWVDb3JlLnNldENvbmZpZyh7CiAgICAgICAgLi4udGhpcy5fZG90TG90dGllQ29yZS5jb25maWcoKSwKICAgICAgICB1c2VGcmFtZUludGVycG9sYXRpb24KICAgICAgfSk7CiAgICB9CiAgICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CiAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTsKICAgIH0KICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpOwogICAgfQogICAgZGVzdHJveSgpIHsKICAgICAgdGhpcy5fZG90TG90dGllQ29yZT8uZGVsZXRlKCk7CiAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUgPSBudWxsOwogICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDsKICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsKICAgICAgICB0eXBlOiAiZGVzdHJveSIKICAgICAgfSk7CiAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpOwogICAgICB0aGlzLl9jbGVhbnVwU3RhdGVNYWNoaW5lTGlzdGVuZXJzKCk7CiAgICB9CiAgICBmcmVlemUoKSB7CiAgICAgIGlmICh0aGlzLl9hbmltYXRpb25GcmFtZUlkID09PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuX2ZyYW1lTWFuYWdlci5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRpb25GcmFtZUlkKTsKICAgICAgdGhpcy5fYW5pbWF0aW9uRnJhbWVJZCA9IG51bGw7CiAgICAgIHRoaXMuX2lzRnJvemVuID0gdHJ1ZTsKICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsgdHlwZTogImZyZWV6ZSIgfSk7CiAgICB9CiAgICB1bmZyZWV6ZSgpIHsKICAgICAgaWYgKHRoaXMuX2FuaW1hdGlvbkZyYW1lSWQgIT09IG51bGwpIHJldHVybjsKICAgICAgdGhpcy5fYW5pbWF0aW9uRnJhbWVJZCA9IHRoaXMuX2ZyYW1lTWFuYWdlci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fZHJhdy5iaW5kKHRoaXMpKTsKICAgICAgdGhpcy5faXNGcm96ZW4gPSBmYWxzZTsKICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsgdHlwZTogInVuZnJlZXplIiB9KTsKICAgIH0KICAgIHJlc2l6ZSgpIHsKICAgICAgaWYgKElTX0JST1dTRVIgJiYgdGhpcy5fY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHsKICAgICAgICBjb25zdCBkcHIgPSB0aGlzLl9yZW5kZXJDb25maWcuZGV2aWNlUGl4ZWxSYXRpbyB8fCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxOwogICAgICAgIGNvbnN0IHsgaGVpZ2h0OiBjbGllbnRIZWlnaHQsIHdpZHRoOiBjbGllbnRXaWR0aCB9ID0gdGhpcy5fY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHRoaXMuX2NhbnZhcy53aWR0aCA9IGNsaWVudFdpZHRoICogZHByOwogICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSBjbGllbnRIZWlnaHQgKiBkcHI7CiAgICAgIH0KICAgICAgY29uc3Qgb2sgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5yZXNpemUodGhpcy5fY2FudmFzLndpZHRoLCB0aGlzLl9jYW52YXMuaGVpZ2h0KTsKICAgICAgaWYgKG9rKSB7CiAgICAgICAgdGhpcy5fcmVuZGVyKCk7CiAgICAgIH0KICAgIH0KICAgIHNldFNlZ21lbnQoc3RhcnRGcmFtZSwgZW5kRnJhbWUpIHsKICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUgPT09IG51bGwgfHwgX0RvdExvdHRpZS5fd2FzbU1vZHVsZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICB0aGlzLl9kb3RMb3R0aWVDb3JlLnNldENvbmZpZyh7CiAgICAgICAgLi4udGhpcy5fZG90TG90dGllQ29yZS5jb25maWcoKSwKICAgICAgICBzZWdtZW50OiBjcmVhdGVDb3JlU2VnbWVudChbc3RhcnRGcmFtZSwgZW5kRnJhbWVdLCBfRG90TG90dGllLl93YXNtTW9kdWxlKQogICAgICB9KTsKICAgIH0KICAgIHNldE1vZGUobW9kZSkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCB8fCBfRG90TG90dGllLl93YXNtTW9kdWxlID09PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0Q29uZmlnKHsKICAgICAgICAuLi50aGlzLl9kb3RMb3R0aWVDb3JlLmNvbmZpZygpLAogICAgICAgIG1vZGU6IGNyZWF0ZUNvcmVNb2RlKG1vZGUsIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUpCiAgICAgIH0pOwogICAgfQogICAgc2V0UmVuZGVyQ29uZmlnKGNvbmZpZykgewogICAgICB0aGlzLl9yZW5kZXJDb25maWcgPSBjb25maWc7CiAgICB9CiAgICBsb2FkQW5pbWF0aW9uKGFuaW1hdGlvbklkKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsIHx8IHRoaXMuX2RvdExvdHRpZUNvcmUuYWN0aXZlQW5pbWF0aW9uSWQoKSA9PT0gYW5pbWF0aW9uSWQpIHJldHVybjsKICAgICAgY29uc3QgbG9hZGVkID0gdGhpcy5fZG90TG90dGllQ29yZS5sb2FkQW5pbWF0aW9uKGFuaW1hdGlvbklkLCB0aGlzLl9jYW52YXMud2lkdGgsIHRoaXMuX2NhbnZhcy5oZWlnaHQpOwogICAgICBpZiAobG9hZGVkKSB7CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsgdHlwZTogImxvYWQiIH0pOwogICAgICAgIHRoaXMucmVzaXplKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsKICAgICAgICAgIHR5cGU6ICJsb2FkRXJyb3IiLAogICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihgRmFpbGVkIHRvIGFuaW1hdGlvbiA6JHthbmltYXRpb25JZH1gKQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgICBzZXRNYXJrZXIobWFya2VyKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0Q29uZmlnKHsKICAgICAgICAuLi50aGlzLl9kb3RMb3R0aWVDb3JlLmNvbmZpZygpLAogICAgICAgIG1hcmtlcgogICAgICB9KTsKICAgIH0KICAgIG1hcmtlcnMoKSB7CiAgICAgIGNvbnN0IG1hcmtlcnMgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5tYXJrZXJzKCk7CiAgICAgIGlmIChtYXJrZXJzKSB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrZXJzLnNpemUoKTsgaSArPSAxKSB7CiAgICAgICAgICBjb25zdCBtYXJrZXIgPSBtYXJrZXJzLmdldChpKTsKICAgICAgICAgIHJlc3VsdC5wdXNoKHsKICAgICAgICAgICAgbmFtZTogbWFya2VyLm5hbWUsCiAgICAgICAgICAgIHRpbWU6IG1hcmtlci50aW1lLAogICAgICAgICAgICBkdXJhdGlvbjogbWFya2VyLmR1cmF0aW9uCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICByZXR1cm4gW107CiAgICB9CiAgICBsb2FkVGhlbWUodGhlbWVJZCkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlOwogICAgICBjb25zdCBsb2FkZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLmxvYWRUaGVtZSh0aGVtZUlkKTsKICAgICAgdGhpcy5fcmVuZGVyKCk7CiAgICAgIHJldHVybiBsb2FkZWQ7CiAgICB9CiAgICBsb2FkVGhlbWVEYXRhKHRoZW1lRGF0YSkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlOwogICAgICBjb25zdCBsb2FkZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLmxvYWRUaGVtZURhdGEodGhlbWVEYXRhKTsKICAgICAgdGhpcy5fcmVuZGVyKCk7CiAgICAgIHJldHVybiBsb2FkZWQ7CiAgICB9CiAgICBzZXRMYXlvdXQobGF5b3V0KSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsIHx8IF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUgPT09IG51bGwpIHJldHVybjsKICAgICAgdGhpcy5fZG90TG90dGllQ29yZS5zZXRDb25maWcoewogICAgICAgIC4uLnRoaXMuX2RvdExvdHRpZUNvcmUuY29uZmlnKCksCiAgICAgICAgbGF5b3V0OiB7CiAgICAgICAgICBhbGlnbjogY3JlYXRlQ29yZUFsaWduKGxheW91dC5hbGlnbiwgX0RvdExvdHRpZS5fd2FzbU1vZHVsZSksCiAgICAgICAgICBmaXQ6IGNyZWF0ZUNvcmVGaXQobGF5b3V0LmZpdCwgX0RvdExvdHRpZS5fd2FzbU1vZHVsZSkKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgc2V0Vmlld3BvcnQoeCwgeSwgd2lkdGgsIGhlaWdodCkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZS5zZXRWaWV3cG9ydCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTsKICAgIH0KICAgIHN0YXRpYyBzZXRXYXNtVXJsKHVybCkgewogICAgICBEb3RMb3R0aWVXYXNtTG9hZGVyLnNldFdhc21VcmwodXJsKTsKICAgIH0KICAgIGxvYWRTdGF0ZU1hY2hpbmUoc3RhdGVNYWNoaW5lSWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmxvYWRTdGF0ZU1hY2hpbmUoc3RhdGVNYWNoaW5lSWQpID8/IGZhbHNlOwogICAgfQogICAgc3RhcnRTdGF0ZU1hY2hpbmUoKSB7CiAgICAgIGNvbnN0IHN0YXJ0ZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5zdGFydFN0YXRlTWFjaGluZSgpID8/IGZhbHNlOwogICAgICBpZiAoc3RhcnRlZCkgewogICAgICAgIHRoaXMuX3NldHVwU3RhdGVNYWNoaW5lTGlzdGVuZXJzKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHN0YXJ0ZWQ7CiAgICB9CiAgICBzdG9wU3RhdGVNYWNoaW5lKCkgewogICAgICBjb25zdCBzdG9wcGVkID0gdGhpcy5fZG90TG90dGllQ29yZT8uc3RvcFN0YXRlTWFjaGluZSgpID8/IGZhbHNlOwogICAgICBpZiAoc3RvcHBlZCkgewogICAgICAgIHRoaXMuX2NsZWFudXBTdGF0ZU1hY2hpbmVMaXN0ZW5lcnMoKTsKICAgICAgfQogICAgICByZXR1cm4gc3RvcHBlZDsKICAgIH0KICAgIF9nZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpIHsKICAgICAgY29uc3QgcmVjdCA9IHRoaXMuX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgY29uc3Qgc2NhbGVYID0gdGhpcy5fY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aDsKICAgICAgY29uc3Qgc2NhbGVZID0gdGhpcy5fY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0OwogICAgICBjb25zdCBkZXZpY2VQaXhlbFJhdGlvID0gdGhpcy5fcmVuZGVyQ29uZmlnLmRldmljZVBpeGVsUmF0aW8gfHwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTsKICAgICAgY29uc3QgeCA9IChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0KSAqIHNjYWxlWCAvIGRldmljZVBpeGVsUmF0aW87CiAgICAgIGNvbnN0IHkgPSAoZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wKSAqIHNjYWxlWSAvIGRldmljZVBpeGVsUmF0aW87CiAgICAgIHJldHVybiB7CiAgICAgICAgeCwKICAgICAgICB5CiAgICAgIH07CiAgICB9CiAgICBfb25Qb2ludGVyVXAoZXZlbnQpIHsKICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLl9nZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpOwogICAgICB0aGlzLnBvc3RTdGF0ZU1hY2hpbmVFdmVudChgT25Qb2ludGVyVXA6ICR7eH0gJHt5fWApOwogICAgfQogICAgX29uUG9pbnRlckRvd24oZXZlbnQpIHsKICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLl9nZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpOwogICAgICB0aGlzLnBvc3RTdGF0ZU1hY2hpbmVFdmVudChgT25Qb2ludGVyRG93bjogJHt4fSAke3l9YCk7CiAgICB9CiAgICBfb25Qb2ludGVyTW92ZShldmVudCkgewogICAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuX2dldFBvaW50ZXJQb3NpdGlvbihldmVudCk7CiAgICAgIHRoaXMucG9zdFN0YXRlTWFjaGluZUV2ZW50KGBPblBvaW50ZXJNb3ZlOiAke3h9ICR7eX1gKTsKICAgIH0KICAgIF9vblBvaW50ZXJFbnRlcihldmVudCkgewogICAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuX2dldFBvaW50ZXJQb3NpdGlvbihldmVudCk7CiAgICAgIHRoaXMucG9zdFN0YXRlTWFjaGluZUV2ZW50KGBPblBvaW50ZXJFbnRlcjogJHt4fSAke3l9YCk7CiAgICB9CiAgICBfb25Qb2ludGVyTGVhdmUoZXZlbnQpIHsKICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLl9nZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpOwogICAgICB0aGlzLnBvc3RTdGF0ZU1hY2hpbmVFdmVudChgT25Qb2ludGVyRXhpdDogJHt4fSAke3l9YCk7CiAgICB9CiAgICBfb25Db21wbGV0ZSgpIHsKICAgICAgdGhpcy5wb3N0U3RhdGVNYWNoaW5lRXZlbnQoIk9uQ29tcGxldGUiKTsKICAgIH0KICAgIC8qKgogICAgICogQGV4cGVyaW1lbnRhbAogICAgICogQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRvIGJlIHBvc3RlZCB0byB0aGUgc3RhdGUgbWFjaGluZQogICAgICogQHJldHVybnMgYm9vbGVhbiAtIHRydWUgaWYgdGhlIGV2ZW50IHdhcyBwb3N0ZWQgc3VjY2Vzc2Z1bGx5LCBmYWxzZSBvdGhlcndpc2UKICAgICAqLwogICAgcG9zdFN0YXRlTWFjaGluZUV2ZW50KGV2ZW50KSB7CiAgICAgIGNvbnN0IHJ0ID0gdGhpcy5fZG90TG90dGllQ29yZT8ucG9zdEV2ZW50UGF5bG9hZChldmVudCkgPz8gMTsKICAgICAgaWYgKHJ0ID09PSAyKSB7CiAgICAgICAgdGhpcy5wbGF5KCk7CiAgICAgIH0gZWxzZSBpZiAocnQgPT09IDMpIHsKICAgICAgICB0aGlzLnBhdXNlKCk7CiAgICAgIH0gZWxzZSBpZiAocnQgPT09IDQpIHsKICAgICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgfQogICAgICByZXR1cm4gcnQ7CiAgICB9CiAgICBnZXRTdGF0ZU1hY2hpbmVMaXN0ZW5lcnMoKSB7CiAgICAgIGlmICghdGhpcy5fZG90TG90dGllQ29yZSkgcmV0dXJuIFtdOwogICAgICBjb25zdCBsaXN0ZW5lcnNWZWN0b3IgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLnN0YXRlTWFjaGluZUZyYW1ld29ya1NldHVwKCk7CiAgICAgIGNvbnN0IGxpc3RlbmVycyA9IFtdOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVyc1ZlY3Rvci5zaXplKCk7IGkgKz0gMSkgewogICAgICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyc1ZlY3Rvci5nZXQoaSkpOwogICAgICB9CiAgICAgIHJldHVybiBsaXN0ZW5lcnM7CiAgICB9CiAgICBfc2V0dXBTdGF0ZU1hY2hpbmVMaXN0ZW5lcnMoKSB7CiAgICAgIGlmIChJU19CUk9XU0VSICYmIHRoaXMuX2NhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50ICYmIHRoaXMuX2RvdExvdHRpZUNvcmUgIT09IG51bGwgJiYgdGhpcy5pc0xvYWRlZCkgewogICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZ2V0U3RhdGVNYWNoaW5lTGlzdGVuZXJzKCk7CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmNsdWRlcygiUG9pbnRlclVwIikpIHsKICAgICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLCB0aGlzLl9wb2ludGVyVXBNZXRob2QpOwogICAgICAgIH0KICAgICAgICBpZiAobGlzdGVuZXJzLmluY2x1ZGVzKCJQb2ludGVyRG93biIpKSB7CiAgICAgICAgICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcmRvd24iLCB0aGlzLl9wb2ludGVyRG93bk1ldGhvZCk7CiAgICAgICAgfQogICAgICAgIGlmIChsaXN0ZW5lcnMuaW5jbHVkZXMoIlBvaW50ZXJNb3ZlIikpIHsKICAgICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVybW92ZSIsIHRoaXMuX3BvaW50ZXJNb3ZlTWV0aG9kKTsKICAgICAgICB9CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmNsdWRlcygiUG9pbnRlckVudGVyIikpIHsKICAgICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyZW50ZXIiLCB0aGlzLl9wb2ludGVyRW50ZXJNZXRob2QpOwogICAgICAgIH0KICAgICAgICBpZiAobGlzdGVuZXJzLmluY2x1ZGVzKCJQb2ludGVyRXhpdCIpKSB7CiAgICAgICAgICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcmxlYXZlIiwgdGhpcy5fcG9pbnRlckV4aXRNZXRob2QpOwogICAgICAgIH0KICAgICAgICBpZiAobGlzdGVuZXJzLmluY2x1ZGVzKCJDb21wbGV0ZSIpKSB7CiAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoImNvbXBsZXRlIiwgdGhpcy5fb25Db21wbGV0ZU1ldGhvZCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBfY2xlYW51cFN0YXRlTWFjaGluZUxpc3RlbmVycygpIHsKICAgICAgaWYgKElTX0JST1dTRVIgJiYgdGhpcy5fY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHsKICAgICAgICB0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcnVwIiwgdGhpcy5fcG9pbnRlclVwTWV0aG9kKTsKICAgICAgICB0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcmRvd24iLCB0aGlzLl9wb2ludGVyRG93bk1ldGhvZCk7CiAgICAgICAgdGhpcy5fY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJtb3ZlIiwgdGhpcy5fcG9pbnRlck1vdmVNZXRob2QpOwogICAgICAgIHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyZW50ZXIiLCB0aGlzLl9wb2ludGVyRW50ZXJNZXRob2QpOwogICAgICAgIHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVybGVhdmUiLCB0aGlzLl9wb2ludGVyRXhpdE1ldGhvZCk7CiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCJjb21wbGV0ZSIsIHRoaXMuX29uQ29tcGxldGVNZXRob2QpOwogICAgICB9CiAgICB9CiAgICBsb2FkU3RhdGVNYWNoaW5lRGF0YShzdGF0ZU1hY2hpbmVEYXRhKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5sb2FkU3RhdGVNYWNoaW5lRGF0YShzdGF0ZU1hY2hpbmVEYXRhKSA/PyBmYWxzZTsKICAgIH0KICAgIGFuaW1hdGlvblNpemUoKSB7CiAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5fZG90TG90dGllQ29yZT8uYW5pbWF0aW9uU2l6ZSgpLmdldCgwKSA/PyAwOwogICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5hbmltYXRpb25TaXplKCkuZ2V0KDEpID8/IDA7CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH07CiAgICB9CiAgICBzZXRTdGF0ZU1hY2hpbmVCb29sZWFuQ29udGV4dChuYW1lLCB2YWx1ZSkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8uc2V0U3RhdGVNYWNoaW5lQm9vbGVhbkNvbnRleHQobmFtZSwgdmFsdWUpID8/IGZhbHNlOwogICAgfQogICAgc2V0U3RhdGVNYWNoaW5lTnVtZXJpY0NvbnRleHQobmFtZSwgdmFsdWUpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LnNldFN0YXRlTWFjaGluZU51bWVyaWNDb250ZXh0KG5hbWUsIHZhbHVlKSA/PyBmYWxzZTsKICAgIH0KICAgIHNldFN0YXRlTWFjaGluZVN0cmluZ0NvbnRleHQobmFtZSwgdmFsdWUpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LnNldFN0YXRlTWFjaGluZVN0cmluZ0NvbnRleHQobmFtZSwgdmFsdWUpID8/IGZhbHNlOwogICAgfQogIH07CiAgX19wdWJsaWNGaWVsZChfRG90TG90dGllLCAiX3dhc21Nb2R1bGUiLCBudWxsKTsKICB2YXIgRG90TG90dGllID0gX0RvdExvdHRpZTsKCiAgLy8gc3JjL3dvcmtlci9kb3Rsb3R0aWUud29ya2VyLnRzCiAgdmFyIGluc3RhbmNlc01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgdmFyIGV2ZW50SGFuZGxlck1hcCA9IHsKICAgIHJlYWR5OiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgIGlkOiAiIiwKICAgICAgICBtZXRob2Q6ICJvblJlYWR5IiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudAogICAgICAgIH0KICAgICAgfTsKICAgICAgc2VsZi5wb3N0TWVzc2FnZShyZXNwb25zZSk7CiAgICB9LAogICAgY29tcGxldGU6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uQ29tcGxldGUiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICBsb2FkOiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IGxvYWRFdmVudCA9IGV2ZW50OwogICAgICBjb25zdCByZXNwb25zZSA9IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbWV0aG9kOiAib25Mb2FkIiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudDogbG9hZEV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICBsb2FkRXJyb3I6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgbG9hZEVycm9yRXZlbnQgPSBldmVudDsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uTG9hZEVycm9yIiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudDogbG9hZEVycm9yRXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIGxvb3A6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgbG9vcEV2ZW50ID0gZXZlbnQ7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgIGlkOiAiIiwKICAgICAgICBtZXRob2Q6ICJvbkxvb3AiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiBsb29wRXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIHBsYXk6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgcGxheUV2ZW50ID0gZXZlbnQ7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgIGlkOiAiIiwKICAgICAgICBtZXRob2Q6ICJvblBsYXkiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiBwbGF5RXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIHBhdXNlOiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IHBhdXNlRXZlbnQgPSBldmVudDsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uUGF1c2UiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiBwYXVzZUV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICBzdG9wOiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IHN0b3BFdmVudCA9IGV2ZW50OwogICAgICBjb25zdCByZXNwb25zZSA9IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbWV0aG9kOiAib25TdG9wIiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudDogc3RvcEV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICBmcmFtZTogKGluc3RhbmNlSWQpID0+IChldmVudCkgPT4gewogICAgICBjb25zdCBmcmFtZUV2ZW50ID0gZXZlbnQ7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgIGlkOiAiIiwKICAgICAgICBtZXRob2Q6ICJvbkZyYW1lIiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudDogZnJhbWVFdmVudAogICAgICAgIH0KICAgICAgfTsKICAgICAgc2VsZi5wb3N0TWVzc2FnZShyZXNwb25zZSk7CiAgICB9LAogICAgcmVuZGVyOiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IHJlbmRlckV2ZW50ID0gZXZlbnQ7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgIGlkOiAiIiwKICAgICAgICBtZXRob2Q6ICJvblJlbmRlciIsCiAgICAgICAgcmVzdWx0OiB7CiAgICAgICAgICBpbnN0YW5jZUlkLAogICAgICAgICAgZXZlbnQ6IHJlbmRlckV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICBmcmVlemU6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgZnJlZXplRXZlbnQgPSBldmVudDsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uRnJlZXplIiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudDogZnJlZXplRXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIHVuZnJlZXplOiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IHVuZnJlZXplRXZlbnQgPSBldmVudDsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uVW5mcmVlemUiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiB1bmZyZWV6ZUV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICBkZXN0cm95OiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IGRlc3Ryb3lFdmVudCA9IGV2ZW50OwogICAgICBjb25zdCByZXNwb25zZSA9IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbWV0aG9kOiAib25EZXN0cm95IiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudDogZGVzdHJveUV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0KICB9OwogIHZhciBjb21tYW5kcyA9IHsKICAgIGdldERvdExvdHRpZUluc3RhbmNlU3RhdGUocmVxdWVzdCkgewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgY29uc3Qgc3RhdGUgPSB7CiAgICAgICAgaXNMb2FkZWQ6IGluc3RhbmNlLmlzTG9hZGVkLAogICAgICAgIGlzUGF1c2VkOiBpbnN0YW5jZS5pc1BhdXNlZCwKICAgICAgICBpc1BsYXlpbmc6IGluc3RhbmNlLmlzUGxheWluZywKICAgICAgICBpc1N0b3BwZWQ6IGluc3RhbmNlLmlzU3RvcHBlZCwKICAgICAgICBpc0Zyb3plbjogaW5zdGFuY2UuaXNGcm96ZW4sCiAgICAgICAgbG9vcDogaW5zdGFuY2UubG9vcCwKICAgICAgICBtb2RlOiBpbnN0YW5jZS5tb2RlLAogICAgICAgIHNwZWVkOiBpbnN0YW5jZS5zcGVlZCwKICAgICAgICBjdXJyZW50RnJhbWU6IGluc3RhbmNlLmN1cnJlbnRGcmFtZSwKICAgICAgICB0b3RhbEZyYW1lczogaW5zdGFuY2UudG90YWxGcmFtZXMsCiAgICAgICAgZHVyYXRpb246IGluc3RhbmNlLmR1cmF0aW9uLAogICAgICAgIHVzZUZyYW1lSW50ZXJwb2xhdGlvbjogaW5zdGFuY2UudXNlRnJhbWVJbnRlcnBvbGF0aW9uLAogICAgICAgIHJlbmRlckNvbmZpZzogaW5zdGFuY2UucmVuZGVyQ29uZmlnLAogICAgICAgIG1hcmtlcjogaW5zdGFuY2UubWFya2VyLAogICAgICAgIGJhY2tncm91bmRDb2xvcjogaW5zdGFuY2UuYmFja2dyb3VuZENvbG9yLAogICAgICAgIG1hcmtlcnM6IGluc3RhbmNlLm1hcmtlcnMoKSwKICAgICAgICBhY3RpdmVBbmltYXRpb25JZDogaW5zdGFuY2UuYWN0aXZlQW5pbWF0aW9uSWQsCiAgICAgICAgYWN0aXZlVGhlbWVJZDogaW5zdGFuY2UuYWN0aXZlVGhlbWVJZCwKICAgICAgICBhdXRvcGxheTogaW5zdGFuY2UuYXV0b3BsYXksCiAgICAgICAgc2VnbWVudDogaW5zdGFuY2Uuc2VnbWVudCwKICAgICAgICBsYXlvdXQ6IGluc3RhbmNlLmxheW91dCwKICAgICAgICBzZWdtZW50RHVyYXRpb246IGluc3RhbmNlLnNlZ21lbnREdXJhdGlvbiwKICAgICAgICBpc1JlYWR5OiBpbnN0YW5jZS5pc1JlYWR5LAogICAgICAgIG1hbmlmZXN0OiBpbnN0YW5jZS5tYW5pZmVzdAogICAgICB9OwogICAgICByZXR1cm4gewogICAgICAgIHN0YXRlCiAgICAgIH07CiAgICB9LAogICAgc2V0TGF5b3V0KHJlcXVlc3QpIHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGxheW91dCA9IHJlcXVlc3QucGFyYW1zLmxheW91dDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0TGF5b3V0KGxheW91dCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgc3VjY2VzczogdHJ1ZQogICAgICB9OwogICAgfSwKICAgIGdldFN0YXRlTWFjaGluZUxpc3RlbmVycyhyZXF1ZXN0KSB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICByZXR1cm4gaW5zdGFuY2UuZ2V0U3RhdGVNYWNoaW5lTGlzdGVuZXJzKCk7CiAgICB9LAogICAgcG9zdFN0YXRlTWFjaGluZUV2ZW50KHJlcXVlc3QpIHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGV2ZW50ID0gcmVxdWVzdC5wYXJhbXMuZXZlbnQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5wb3N0U3RhdGVNYWNoaW5lRXZlbnQoZXZlbnQpOwogICAgfSwKICAgIHN0YXJ0U3RhdGVNYWNoaW5lKHJlcXVlc3QpIHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5zdGFydFN0YXRlTWFjaGluZSgpOwogICAgfSwKICAgIHN0b3BTdGF0ZU1hY2hpbmUocmVxdWVzdCkgewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGluc3RhbmNlLnN0b3BTdGF0ZU1hY2hpbmUoKTsKICAgIH0sCiAgICBsb2FkU3RhdGVNYWNoaW5lKHJlcXVlc3QpIHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IHN0YXRlTWFjaGluZUlkID0gcmVxdWVzdC5wYXJhbXMuc3RhdGVNYWNoaW5lSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5sb2FkU3RhdGVNYWNoaW5lKHN0YXRlTWFjaGluZUlkKTsKICAgIH0sCiAgICBsb2FkU3RhdGVNYWNoaW5lRGF0YShyZXF1ZXN0KSB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBzdGF0ZU1hY2hpbmVEYXRhID0gcmVxdWVzdC5wYXJhbXMuc3RhdGVNYWNoaW5lRGF0YTsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGluc3RhbmNlLmxvYWRTdGF0ZU1hY2hpbmVEYXRhKHN0YXRlTWFjaGluZURhdGEpOwogICAgfSwKICAgIGNyZWF0ZTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGNvbmZpZyA9IHJlcXVlc3QucGFyYW1zLmNvbmZpZzsKICAgICAgY29uc3Qgd2lkdGggPSByZXF1ZXN0LnBhcmFtcy53aWR0aDsKICAgICAgY29uc3QgaGVpZ2h0ID0gcmVxdWVzdC5wYXJhbXMuaGVpZ2h0OwogICAgICBpZiAoaW5zdGFuY2VzTWFwLmhhcyhpbnN0YW5jZUlkKSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGFscmVhZHkgZXhpc3RzLmApOwogICAgICB9CiAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IERvdExvdHRpZShjb25maWcpOwogICAgICBpbnN0YW5jZS5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0OwogICAgICBpbnN0YW5jZS5jYW52YXMud2lkdGggPSB3aWR0aDsKICAgICAgaW5zdGFuY2VzTWFwLnNldChpbnN0YW5jZUlkLCBpbnN0YW5jZSk7CiAgICAgIGNvbnN0IGV2ZW50cyA9IFsKICAgICAgICAiY29tcGxldGUiLAogICAgICAgICJmcmFtZSIsCiAgICAgICAgImxvYWQiLAogICAgICAgICJsb2FkRXJyb3IiLAogICAgICAgICJsb29wIiwKICAgICAgICAicGF1c2UiLAogICAgICAgICJwbGF5IiwKICAgICAgICAic3RvcCIsCiAgICAgICAgImRlc3Ryb3kiLAogICAgICAgICJmcmVlemUiLAogICAgICAgICJ1bmZyZWV6ZSIsCiAgICAgICAgInJlbmRlciIsCiAgICAgICAgInJlYWR5IgogICAgICBdOwogICAgICBldmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHsKICAgICAgICBpbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXJNYXBbZXZlbnRdKGluc3RhbmNlSWQpKTsKICAgICAgfSk7CiAgICAgIHJldHVybiB7CiAgICAgICAgaW5zdGFuY2VJZAogICAgICB9OwogICAgfSwKICAgIGRlc3Ryb3k6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHJldHVybjsKICAgICAgaW5zdGFuY2UuZGVzdHJveSgpOwogICAgICBpbnN0YW5jZXNNYXAuZGVsZXRlKGluc3RhbmNlSWQpOwogICAgfSwKICAgIGZyZWV6ZTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLmZyZWV6ZSgpOwogICAgfSwKICAgIGxvYWQ6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBjb25maWcgPSByZXF1ZXN0LnBhcmFtcy5jb25maWc7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLmxvYWQoY29uZmlnKTsKICAgIH0sCiAgICBsb2FkQW5pbWF0aW9uOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgYW5pbWF0aW9uSWQgPSByZXF1ZXN0LnBhcmFtcy5hbmltYXRpb25JZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2UubG9hZEFuaW1hdGlvbihhbmltYXRpb25JZCk7CiAgICB9LAogICAgbG9hZFRoZW1lOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgdGhlbWVJZCA9IHJlcXVlc3QucGFyYW1zLnRoZW1lSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5sb2FkVGhlbWUodGhlbWVJZCk7CiAgICB9LAogICAgbG9hZFRoZW1lRGF0YTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IHRoZW1lRGF0YSA9IHJlcXVlc3QucGFyYW1zLnRoZW1lRGF0YTsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGluc3RhbmNlLmxvYWRUaGVtZURhdGEodGhlbWVEYXRhKTsKICAgIH0sCiAgICBwYXVzZTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5wYXVzZSgpOwogICAgfSwKICAgIHBsYXk6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICByZXR1cm4gaW5zdGFuY2UucGxheSgpOwogICAgfSwKICAgIHJlc2l6ZTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IHdpZHRoID0gcmVxdWVzdC5wYXJhbXMud2lkdGg7CiAgICAgIGNvbnN0IGhlaWdodCA9IHJlcXVlc3QucGFyYW1zLmhlaWdodDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2UuY2FudmFzLmhlaWdodCA9IGhlaWdodDsKICAgICAgaW5zdGFuY2UuY2FudmFzLndpZHRoID0gd2lkdGg7CiAgICAgIGluc3RhbmNlLnJlc2l6ZSgpOwogICAgICByZXR1cm4gewogICAgICAgIHN1Y2Nlc3M6IHRydWUKICAgICAgfTsKICAgIH0sCiAgICBzZXRCYWNrZ3JvdW5kQ29sb3I6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSByZXF1ZXN0LnBhcmFtcy5iYWNrZ3JvdW5kQ29sb3I7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLnNldEJhY2tncm91bmRDb2xvcihiYWNrZ3JvdW5kQ29sb3IpOwogICAgfSwKICAgIHNldEZyYW1lOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgZnJhbWUgPSByZXF1ZXN0LnBhcmFtcy5mcmFtZTsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0RnJhbWUoZnJhbWUpOwogICAgfSwKICAgIHNldE1vZGU6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBtb2RlID0gcmVxdWVzdC5wYXJhbXMubW9kZTsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0TW9kZShtb2RlKTsKICAgIH0sCiAgICBzZXRSZW5kZXJDb25maWc6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCByZW5kZXJDb25maWcgPSByZXF1ZXN0LnBhcmFtcy5yZW5kZXJDb25maWc7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLnNldFJlbmRlckNvbmZpZyhyZW5kZXJDb25maWcpOwogICAgfSwKICAgIHNldFNlZ21lbnQ6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBzZWdtZW50ID0gcmVxdWVzdC5wYXJhbXMuc2VnbWVudDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0U2VnbWVudChzZWdtZW50WzBdLCBzZWdtZW50WzFdKTsKICAgIH0sCiAgICBzZXRTcGVlZDogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IHNwZWVkID0gcmVxdWVzdC5wYXJhbXMuc3BlZWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLnNldFNwZWVkKHNwZWVkKTsKICAgIH0sCiAgICBzZXRVc2VGcmFtZUludGVycG9sYXRpb246IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCB1c2VGcmFtZUludGVycG9sYXRpb24gPSByZXF1ZXN0LnBhcmFtcy51c2VGcmFtZUludGVycG9sYXRpb247CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLnNldFVzZUZyYW1lSW50ZXJwb2xhdGlvbih1c2VGcmFtZUludGVycG9sYXRpb24pOwogICAgfSwKICAgIHNldFdhc21Vcmw6IChyZXF1ZXN0KSA9PiB7CiAgICAgIERvdExvdHRpZS5zZXRXYXNtVXJsKHJlcXVlc3QucGFyYW1zLnVybCk7CiAgICB9LAogICAgc3RvcDogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLnN0b3AoKTsKICAgIH0sCiAgICB1bmZyZWV6ZTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLnVuZnJlZXplKCk7CiAgICB9LAogICAgc2V0Vmlld3BvcnQocmVxdWVzdCkgewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgeCA9IHJlcXVlc3QucGFyYW1zLng7CiAgICAgIGNvbnN0IHkgPSByZXF1ZXN0LnBhcmFtcy55OwogICAgICBjb25zdCB3aWR0aCA9IHJlcXVlc3QucGFyYW1zLndpZHRoOwogICAgICBjb25zdCBoZWlnaHQgPSByZXF1ZXN0LnBhcmFtcy5oZWlnaHQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5zZXRWaWV3cG9ydCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTsKICAgIH0sCiAgICBzZXRNYXJrZXIocmVxdWVzdCkgewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgbWFya2VyID0gcmVxdWVzdC5wYXJhbXMubWFya2VyOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICBpbnN0YW5jZS5zZXRNYXJrZXIobWFya2VyKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBzdWNjZXNzOiB0cnVlCiAgICAgIH07CiAgICB9LAogICAgc2V0TG9vcChyZXF1ZXN0KSB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBsb29wID0gcmVxdWVzdC5wYXJhbXMubG9vcDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0TG9vcChsb29wKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBzdWNjZXNzOiB0cnVlCiAgICAgIH07CiAgICB9CiAgfTsKICBmdW5jdGlvbiBleGVjdXRlQ29tbWFuZChycGNSZXF1ZXN0KSB7CiAgICBjb25zdCBtZXRob2QgPSBycGNSZXF1ZXN0Lm1ldGhvZDsKICAgIGlmICh0eXBlb2YgY29tbWFuZHNbbWV0aG9kXSA9PT0gImZ1bmN0aW9uIikgewogICAgICByZXR1cm4gY29tbWFuZHNbbWV0aG9kXShycGNSZXF1ZXN0KTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBFcnJvcihgTWV0aG9kICR7bWV0aG9kfSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gY29tbWFuZHMuYCk7CiAgICB9CiAgfQogIHNlbGYub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7CiAgICB0cnkgewogICAgICBjb25zdCByZXN1bHQgPSBleGVjdXRlQ29tbWFuZChldmVudC5kYXRhKTsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6IGV2ZW50LmRhdGEuaWQsCiAgICAgICAgbWV0aG9kOiBldmVudC5kYXRhLm1ldGhvZCwKICAgICAgICByZXN1bHQKICAgICAgfTsKICAgICAgc2VsZi5wb3N0TWVzc2FnZShyZXNwb25zZSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zdCBlcnJvclJlc3BvbnNlID0gewogICAgICAgIGlkOiBldmVudC5kYXRhLmlkLAogICAgICAgIG1ldGhvZDogZXZlbnQuZGF0YS5tZXRob2QsCiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UKICAgICAgfTsKICAgICAgc2VsZi5wb3N0TWVzc2FnZShlcnJvclJlc3BvbnNlKTsKICAgIH0KICB9OwogIHZhciBkdW1teSA9ICIiOwogIHZhciBkb3Rsb3R0aWVfd29ya2VyX2RlZmF1bHQgPSBkdW1teTsKfSkoKTsK",{type:"classic"})}},Hb=class{constructor(){ae(this,"_workers",new Map),ae(this,"_animationWorkerMap",new Map)}getWorker(e){return this._workers.has(e)||this._workers.set(e,new Xb),this._workers.get(e)}assignAnimationToWorker(e,t){this._animationWorkerMap.set(e,t)}unassignAnimationFromWorker(e){this._animationWorkerMap.delete(e)}sendMessage(e,t,n){this.getWorker(e).postMessage(t,n||[])}terminateWorker(e){let t=this._workers.get(e);t&&(t.terminate(),this._workers.delete(e))}};function uc(e){if(e instanceof OffscreenCanvas)return{width:e.width,height:e.height};let{height:t,width:n}=e.getBoundingClientRect();return{width:n*window.devicePixelRatio,height:t*window.devicePixelRatio}}function Cc(){return Date.now().toString(36)+Math.random().toString(36).substr(2,9)}var Ts=class mi{constructor(t){ae(this,"_eventManager",new Rh),ae(this,"_id"),ae(this,"_worker"),ae(this,"_canvas"),ae(this,"_dotLottieInstanceState",{markers:[],autoplay:!1,backgroundColor:"",currentFrame:0,duration:0,loop:!1,mode:"forward",segment:[0,0],segmentDuration:0,speed:1,totalFrames:0,isLoaded:!1,isPlaying:!1,isPaused:!1,isStopped:!0,isFrozen:!1,useFrameInterpolation:!1,renderConfig:{devicePixelRatio:window.devicePixelRatio},activeAnimationId:"",activeThemeId:"",layout:void 0,marker:void 0,isReady:!1,manifest:null}),ae(this,"_created",!1),ae(this,"_pointerUpMethod"),ae(this,"_pointerDownMethod"),ae(this,"_pointerMoveMethod"),ae(this,"_pointerEnterMethod"),ae(this,"_pointerExitMethod"),ae(this,"_onCompleteMethod"),this._canvas=t.canvas,this._id=`dotlottie-${Cc()}`;let n=t.workerId||"defaultWorker";this._worker=mi._workerManager.getWorker(n),mi._workerManager.assignAnimationToWorker(this._id,n),mi._wasmUrl&&this._sendMessage("setWasmUrl",{url:mi._wasmUrl}),this._create(t),this._worker.addEventListener("message",this._handleWorkerEvent.bind(this)),this._pointerUpMethod=this._onPointerUp.bind(this),this._pointerDownMethod=this._onPointerDown.bind(this),this._pointerMoveMethod=this._onPointerMove.bind(this),this._pointerEnterMethod=this._onPointerEnter.bind(this),this._pointerExitMethod=this._onPointerLeave.bind(this),this._onCompleteMethod=this._onComplete.bind(this)}async _handleWorkerEvent(t){let n=t.data;n.id||(n.method==="onLoad"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onComplete"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onDestroy"&&n.result.instanceId===this._id&&this._eventManager.dispatch(n.result.event),n.method==="onUnfreeze"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._dotLottieInstanceState.isFrozen=!1,this._eventManager.dispatch(n.result.event)),n.method==="onFrame"&&n.result.instanceId===this._id&&(this._dotLottieInstanceState.currentFrame=n.result.event.currentFrame,this._eventManager.dispatch(n.result.event)),n.method==="onRender"&&n.result.instanceId===this._id&&this._eventManager.dispatch(n.result.event),n.method==="onFreeze"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onPause"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onPlay"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onStop"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onLoadError"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)),n.method==="onReady"&&n.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(n.result.event)))}async _create(t){let n;this._canvas instanceof HTMLCanvasElement?n=this._canvas.transferControlToOffscreen():n=this._canvas;let{instanceId:i}=await this._sendMessage("create",{instanceId:this._id,config:{...t,canvas:n},...uc(this._canvas)},[n]);if(i!==this._id)throw new Error("Instance ID mismatch");this._created=!0,await this._updateDotLottieInstanceState()}get isLoaded(){return this._dotLottieInstanceState.isLoaded}get isPlaying(){return this._dotLottieInstanceState.isPlaying}get isPaused(){return this._dotLottieInstanceState.isPaused}get isStopped(){return this._dotLottieInstanceState.isStopped}get currentFrame(){return this._dotLottieInstanceState.currentFrame}get isFrozen(){return this._dotLottieInstanceState.isFrozen}get segmentDuration(){return this._dotLottieInstanceState.segmentDuration}get totalFrames(){return this._dotLottieInstanceState.totalFrames}get segment(){return this._dotLottieInstanceState.segment}get speed(){return this._dotLottieInstanceState.speed}get duration(){return this._dotLottieInstanceState.duration}get isReady(){return this._dotLottieInstanceState.isReady}get mode(){return this._dotLottieInstanceState.mode}get canvas(){return this._canvas}get autoplay(){return this._dotLottieInstanceState.autoplay}get backgroundColor(){return this._dotLottieInstanceState.backgroundColor}get loop(){return this._dotLottieInstanceState.loop}get useFrameInterpolation(){return this._dotLottieInstanceState.useFrameInterpolation}get renderConfig(){return this._dotLottieInstanceState.renderConfig}get manifest(){return this._dotLottieInstanceState.manifest}get activeAnimationId(){return this._dotLottieInstanceState.activeAnimationId}get marker(){return this._dotLottieInstanceState.marker}get activeThemeId(){return this._dotLottieInstanceState.activeThemeId}get layout(){return this._dotLottieInstanceState.layout}async play(){this._created&&(await this._sendMessage("play",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async pause(){this._created&&(await this._sendMessage("pause",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async stop(){this._created&&(await this._sendMessage("stop",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSpeed(t){this._created&&(await this._sendMessage("setSpeed",{instanceId:this._id,speed:t}),await this._updateDotLottieInstanceState())}async setMode(t){this._created&&(await this._sendMessage("setMode",{instanceId:this._id,mode:t}),await this._updateDotLottieInstanceState())}async setFrame(t){this._created&&(await this._sendMessage("setFrame",{frame:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSegment(t,n){this._created&&(await this._sendMessage("setSegment",{instanceId:this._id,segment:[t,n]}),await this._updateDotLottieInstanceState())}async setRenderConfig(t){this._created&&(await this._sendMessage("setRenderConfig",{instanceId:this._id,renderConfig:t}),await this._updateDotLottieInstanceState())}async setUseFrameInterpolation(t){this._created&&(await this._sendMessage("setUseFrameInterpolation",{instanceId:this._id,useFrameInterpolation:t}),await this._updateDotLottieInstanceState())}async loadTheme(t){if(!this._created)return!1;let n=this._sendMessage("loadTheme",{instanceId:this._id,themeId:t});return await this._updateDotLottieInstanceState(),n}async load(t){this._created&&(await this._sendMessage("load",{config:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLoop(t){this._created&&(await this._sendMessage("setLoop",{instanceId:this._id,loop:t}),await this._updateDotLottieInstanceState())}async resize(){if(!this._created)return;let{height:t,width:n}=uc(this._canvas);this._canvas.width=n,this._canvas.height=t,await this._sendMessage("resize",{height:t,instanceId:this._id,width:n}),await this._updateDotLottieInstanceState()}async destroy(){this._created&&(this._created=!1,await this._sendMessage("destroy",{instanceId:this._id}),this._cleanupStateMachineListeners(),mi._workerManager.unassignAnimationFromWorker(this._id),this._eventManager.removeAllEventListeners())}async freeze(){this._created&&(await this._sendMessage("freeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async unfreeze(){this._created&&(await this._sendMessage("unfreeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setBackgroundColor(t){this._created&&(await this._sendMessage("setBackgroundColor",{instanceId:this._id,backgroundColor:t}),await this._updateDotLottieInstanceState())}async loadAnimation(t){this._created&&(await this._sendMessage("loadAnimation",{animationId:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLayout(t){this._created&&(await this._sendMessage("setLayout",{instanceId:this._id,layout:t}),await this._updateDotLottieInstanceState())}async _updateDotLottieInstanceState(){if(!this._created)return;let t=await this._sendMessage("getDotLottieInstanceState",{instanceId:this._id});this._dotLottieInstanceState=t.state}markers(){return this._dotLottieInstanceState.markers}async setMarker(t){this._created&&(await this._sendMessage("setMarker",{instanceId:this._id,marker:t}),await this._updateDotLottieInstanceState())}async loadThemeData(t){if(!this._created)return!1;let n=await this._sendMessage("loadThemeData",{instanceId:this._id,themeData:t});return await this._updateDotLottieInstanceState(),n}async setViewport(t,n,i,r){return this._created?this._sendMessage("setViewport",{x:t,y:n,width:i,height:r,instanceId:this._id}):!1}async _sendMessage(t,n,i){let r={id:`dotlottie-request-${Cc()}`,method:t,params:n};return this._worker.postMessage(r,i||[]),new Promise((o,g)=>{let l=a=>{let s=a.data;s.id===r.id&&(this._worker.removeEventListener("message",l),s.error?g(new Error(`Failed to execute method ${t}: ${s.error}`)):o(s.result))};this._worker.addEventListener("message",l)})}addEventListener(t,n){this._eventManager.addEventListener(t,n)}removeEventListener(t,n){this._eventManager.removeEventListener(t,n)}static setWasmUrl(t){mi._wasmUrl=t}async loadStateMachine(t){if(!this._created)return!1;let n=await this._sendMessage("loadStateMachine",{instanceId:this._id,stateMachineId:t});return await this._updateDotLottieInstanceState(),n}async loadStateMachineData(t){if(!this._created)return!1;let n=await this._sendMessage("loadStateMachineData",{instanceId:this._id,stateMachineData:t});return await this._updateDotLottieInstanceState(),n}async startStateMachine(){if(!this._created)return!1;this._setupStateMachineListeners();let t=await this._sendMessage("startStateMachine",{instanceId:this._id});return await this._updateDotLottieInstanceState(),t}async stopStateMachine(){return this._created?(this._cleanupStateMachineListeners(),this._sendMessage("stopStateMachine",{instanceId:this._id})):!1}async postStateMachineEvent(t){return this._created?this._sendMessage("postStateMachineEvent",{event:t,instanceId:this._id}):1}async getStateMachineListeners(){return this._created?this._sendMessage("getStateMachineListeners",{instanceId:this._id}):[]}_getPointerPosition(t){let n=this._canvas.getBoundingClientRect(),i=this._canvas.width/n.width,r=this._canvas.height/n.height,o=this._dotLottieInstanceState.renderConfig.devicePixelRatio||window.devicePixelRatio||1,g=(t.clientX-n.left)*i/o,l=(t.clientY-n.top)*r/o;return{x:g,y:l}}_onPointerUp(t){let{x:n,y:i}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerUp: ${n} ${i}`)}_onPointerDown(t){let{x:n,y:i}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerDown: ${n} ${i}`)}_onPointerMove(t){let{x:n,y:i}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerMove: ${n} ${i}`)}_onPointerEnter(t){let{x:n,y:i}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerEnter: ${n} ${i}`)}_onPointerLeave(t){let{x:n,y:i}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerExit: ${n} ${i}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}async _setupStateMachineListeners(){if(vi&&this._canvas instanceof HTMLCanvasElement&&this.isLoaded){let t=await this._sendMessage("getStateMachineListeners",{instanceId:this._id});t.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._pointerUpMethod),t.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._pointerDownMethod),t.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._pointerMoveMethod),t.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._pointerEnterMethod),t.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._pointerExitMethod),t.includes("Complete")&&this.addEventListener("complete",this._onCompleteMethod)}}_cleanupStateMachineListeners(){vi&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._pointerUpMethod),this._canvas.removeEventListener("pointerdown",this._pointerDownMethod),this._canvas.removeEventListener("pointermove",this._pointerMoveMethod),this._canvas.removeEventListener("pointerenter",this._pointerEnterMethod),this._canvas.removeEventListener("pointerleave",this._pointerExitMethod),this.removeEventListener("complete",this._onCompleteMethod))}};ae(Ts,"_workerManager",new Hb),ae(Ts,"_wasmUrl","");var Fb=Ts,_b=Wh(Kh(),1);function Nb({children:e,className:t="",setCanvasRef:n,setContainerRef:i,style:r,...o}){const g={width:"100%",height:"100%",lineHeight:0,...r};return Re.createElement("div",{ref:i,className:t,...!t&&{style:g}},Re.createElement("canvas",{ref:n,style:{width:"100%",height:"100%"},...o},e))}var cc=()=>typeof window>"u",Eb=e=>{const[t,n]=_.useState(null),i=_.useRef(null),r=_.useRef(e),o=_.useRef(null),g=_.useRef(null);i.current=t,r.current=e;const l=_.useCallback(y=>{var v,b;!((v=r.current)!=null&&v.playOnHover)||!((b=i.current)!=null&&b.isLoaded)||(y.type==="mouseenter"?i.current.play():y.type==="mouseleave"&&i.current.pause())},[]),a=_.useMemo(()=>{if(cc())return null;const y=v=>{v.forEach(b=>{var B,p;b.isIntersecting?(B=i.current)==null||B.unfreeze():(p=i.current)==null||p.freeze()})};return new IntersectionObserver(y,{threshold:0})},[]),s=_.useMemo(()=>{if(cc())return null;const y=(0,_b.default)(()=>{var v,b;(v=r.current)!=null&&v.autoResizeCanvas&&((b=i.current)==null||b.resize())},150);return new ResizeObserver(y)},[]),C=_.useCallback(y=>{o.current=y},[]),c=_.useCallback(y=>{g.current=y},[]),A=_.useCallback(y=>Re.createElement(Nb,{setContainerRef:c,setCanvasRef:C,...y}),[C,c]);return _.useEffect(()=>{const y=o.current;let v=null;if(y){v=new Lh({...r.current,canvas:y});const b=y.getBoundingClientRect();b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)?v.unfreeze():v.freeze(),a==null||a.observe(y),e!=null&&e.autoResizeCanvas&&(s==null||s.observe(y)),y.addEventListener("mouseenter",l),y.addEventListener("mouseleave",l),n(v)}return()=>{v==null||v.destroy(),n(null),s==null||s.disconnect(),a==null||a.disconnect(),y==null||y.removeEventListener("mouseenter",l),y==null||y.removeEventListener("mouseleave",l)}},[a,s,l]),_.useEffect(()=>{i.current&&typeof(e==null?void 0:e.speed)=="number"&&e.speed!==i.current.speed&&i.current.setSpeed(e.speed)},[e==null?void 0:e.speed]),_.useEffect(()=>{i.current&&typeof(e==null?void 0:e.mode)=="string"&&e.mode!==i.current.mode&&i.current.setMode(e.mode)},[e==null?void 0:e.mode]),_.useEffect(()=>{i.current&&typeof(e==null?void 0:e.loop)=="boolean"&&e.loop!==i.current.loop&&i.current.setLoop(e.loop)},[e==null?void 0:e.loop]),_.useEffect(()=>{i.current&&typeof(e==null?void 0:e.useFrameInterpolation)=="boolean"&&e.useFrameInterpolation!==i.current.useFrameInterpolation&&i.current.setUseFrameInterpolation(e.useFrameInterpolation)},[e==null?void 0:e.useFrameInterpolation]),_.useEffect(()=>{if(i.current&&typeof(e==null?void 0:e.segment)=="object"&&Array.isArray(e.segment)&&e.segment.length===2){const y=e.segment[0],v=e.segment[1];i.current.setSegment(y,v)}},[e==null?void 0:e.segment]),_.useEffect(()=>{i.current&&typeof(e==null?void 0:e.backgroundColor)=="string"&&e.backgroundColor!==i.current.backgroundColor&&i.current.setBackgroundColor(e.backgroundColor)},[e==null?void 0:e.backgroundColor]),_.useEffect(()=>{i.current&&typeof(e==null?void 0:e.renderConfig)=="object"&&i.current.setRenderConfig(e.renderConfig)},[JSON.stringify(e==null?void 0:e.renderConfig)]),_.useEffect(()=>{i.current&&(typeof(e==null?void 0:e.data)=="string"||(e==null?void 0:e.data)instanceof ArrayBuffer)&&i.current.load({data:e.data,...r.current||{}})},[e==null?void 0:e.data]),_.useEffect(()=>{i.current&&typeof(e==null?void 0:e.src)=="string"&&i.current.load({src:e.src,...r.current||{}})},[e==null?void 0:e.src]),_.useEffect(()=>{i.current&&typeof(e==null?void 0:e.marker)=="string"&&i.current.setMarker(e.marker)},[e==null?void 0:e.marker]),_.useEffect(()=>{s&&(e!=null&&e.autoResizeCanvas&&o.current?s.observe(o.current):s.disconnect())},[e==null?void 0:e.autoResizeCanvas,s]),_.useEffect(()=>{i.current&&i.current.isLoaded&&e!=null&&e.animationId&&i.current.activeAnimationId!==e.animationId&&i.current.loadAnimation(e.animationId)},[e==null?void 0:e.animationId]),_.useEffect(()=>{i.current&&i.current.isLoaded&&i.current.activeThemeId!==(e==null?void 0:e.themeId)&&i.current.loadTheme((e==null?void 0:e.themeId)||"")},[e==null?void 0:e.themeId]),_.useEffect(()=>{i.current&&i.current.isLoaded&&i.current.loadThemeData((e==null?void 0:e.themeData)||"")},[e==null?void 0:e.themeData]),{dotLottie:t,setCanvasRef:C,setContainerRef:c,canvas:o.current,container:g.current,DotLottieComponent:A}},Tb=typeof window<"u"?_.useLayoutEffect:_.useEffect;function Db(e){const t=_.useRef(e);return Tb(()=>{t.current=e}),_.useCallback((...n)=>t.current(...n),[t])}var Pb=({animationId:e,autoResizeCanvas:t=!0,autoplay:n,backgroundColor:i,data:r,dotLottieRefCallback:o,loop:g,marker:l,mode:a,playOnHover:s,renderConfig:C,segment:c,speed:A,src:y,themeData:v,themeId:b,useFrameInterpolation:B,...p})=>{const{DotLottieComponent:f,dotLottie:m}=Eb({data:r,mode:a,speed:A,src:y,autoplay:n,loop:g,segment:c,renderConfig:C,backgroundColor:i,useFrameInterpolation:B,playOnHover:s,autoResizeCanvas:t,marker:l,themeId:b,animationId:e,themeData:v}),G=typeof o=="function"?Db(o):void 0;return Re.useEffect(()=>{typeof G=="function"&&G(m)},[G,m]),Re.createElement(f,{...p})};Wh(Kh(),1);var Mb=e=>{Fb.setWasmUrl(e),Lh.setWasmUrl(e)};const xb="/dotlottie-web/assets/dotlottie-player-xQL5tXAA.wasm";Mb(xb);function Ob(e){return W.jsx(W.Fragment,{children:W.jsx("div",{className:"",children:W.jsx(Pb,{...e})})})}const zb="modulepreload",jb=function(e){return"/dotlottie-web/"+e},Ac={},Yn=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),g=document.querySelector("meta[property=csp-nonce]"),l=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));r=Promise.all(n.map(a=>{if(a=jb(a),a in Ac)return;Ac[a]=!0;const s=a.endsWith(".css"),C=s?'[rel="stylesheet"]':"";if(!!i)for(let y=o.length-1;y>=0;y--){const v=o[y];if(v.href===a&&(!s||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${C}`))return;const A=document.createElement("link");if(A.rel=s?"stylesheet":zb,s||(A.as="script",A.crossOrigin=""),A.href=a,l&&A.setAttribute("nonce",l),document.head.appendChild(A),s)return new Promise((y,v)=>{A.addEventListener("load",y),A.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}return r.then(()=>t()).catch(o=>{const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=o,window.dispatchEvent(g),!g.defaultPrevented)throw o})};var dc={},Jb=function(e,t,n,i,r){var o=new Worker(dc[t]||(dc[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return o.onmessage=function(g){var l=g.data,a=l.$e$;if(a){var s=new Error(a[0]);s.code=a[1],s.stack=a[2],r(s,null)}else r(null,l)},o.postMessage(n,i),o},Ct=Uint8Array,Bi=Uint16Array,Xh=Int32Array,QI=new Ct([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$I=new Ct([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hh=new Ct([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fh=function(e,t){for(var n=new Bi(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var r=new Xh(n[30]),i=1;i<30;++i)for(var o=n[i];o<n[i+1];++o)r[o]=o-n[i]<<5|i;return{b:n,r}},_h=Fh(QI,2),qI=_h.b,Ub=_h.r;qI[28]=258,Ub[258]=28;var Qb=Fh($I,0),Nh=Qb.b,Il=new Bi(32768);for(ce=0;ce<32768;++ce)kn=(ce&43690)>>1|(ce&21845)<<1,kn=(kn&52428)>>2|(kn&13107)<<2,kn=(kn&61680)>>4|(kn&3855)<<4,Il[ce]=((kn&65280)>>8|(kn&255)<<8)>>1;var kn,ce,gr=function(e,t,n){for(var i=e.length,r=0,o=new Bi(t);r<i;++r)e[r]&&++o[e[r]-1];var g=new Bi(t);for(r=1;r<t;++r)g[r]=g[r-1]+o[r-1]<<1;var l;if(n){l=new Bi(1<<t);var a=15-t;for(r=0;r<i;++r)if(e[r])for(var s=r<<4|e[r],C=t-e[r],c=g[e[r]-1]++<<C,A=c|(1<<C)-1;c<=A;++c)l[Il[c]>>a]=s}else for(l=new Bi(i),r=0;r<i;++r)e[r]&&(l[r]=Il[g[e[r]-1]++]>>15-e[r]);return l},ko=new Ct(288);for(ce=0;ce<144;++ce)ko[ce]=8;var ce;for(ce=144;ce<256;++ce)ko[ce]=9;var ce;for(ce=256;ce<280;++ce)ko[ce]=7;var ce;for(ce=280;ce<288;++ce)ko[ce]=8;var ce,Eh=new Ct(32);for(ce=0;ce<32;++ce)Eh[ce]=5;var ce,Th=gr(ko,9,1),Dh=gr(Eh,5,1),Bg=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Pt=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(t&7)&n},Zg=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Ph=function(e){return(e+7)/8|0},Xl=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new Ct(e.subarray(t,n))},Mh=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ut=function(e,t,n){var i=new Error(t||Mh[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,ut),!n)throw i;return i},xh=function(e,t,n,i){var r=e.length,o=i?i.length:0;if(!r||t.f&&!t.l)return n||new Ct(0);var g=!n,l=g||t.i!=2,a=t.i;g&&(n=new Ct(r*3));var s=function(lt){var Pe=n.length;if(lt>Pe){var at=new Ct(Math.max(Pe*2,lt));at.set(n),n=at}},C=t.f||0,c=t.p||0,A=t.b||0,y=t.l,v=t.d,b=t.m,B=t.n,p=r*8;do{if(!y){C=Pt(e,c,1);var f=Pt(e,c+1,3);if(c+=3,f)if(f==1)y=Th,v=Dh,b=9,B=5;else if(f==2){var m=Pt(e,c,31)+257,G=Pt(e,c+10,15)+4,V=m+Pt(e,c+5,31)+1;c+=14;for(var F=new Ct(V),Y=new Ct(19),R=0;R<G;++R)Y[Hh[R]]=Pt(e,c+R*3,7);c+=G*3;for(var T=Bg(Y),Z=(1<<T)-1,k=gr(Y,T,1),R=0;R<V;){var H=k[Pt(e,c,Z)];c+=H&15;var N=H>>4;if(N<16)F[R++]=N;else{var P=0,O=0;for(N==16?(O=3+Pt(e,c,3),c+=2,P=F[R-1]):N==17?(O=3+Pt(e,c,7),c+=3):N==18&&(O=11+Pt(e,c,127),c+=7);O--;)F[R++]=P}}var Q=F.subarray(0,m),q=F.subarray(m);b=Bg(Q),B=Bg(q),y=gr(Q,b,1),v=gr(q,B,1)}else ut(1);else{var N=Ph(c)+4,L=e[N-4]|e[N-3]<<8,M=N+L;if(M>r){a&&ut(0);break}l&&s(A+L),n.set(e.subarray(N,M),A),t.b=A+=L,t.p=c=M*8,t.f=C;continue}if(c>p){a&&ut(0);break}}l&&s(A+131072);for(var j=(1<<b)-1,le=(1<<B)-1,ne=c;;ne=c){var P=y[Zg(e,c)&j],pe=P>>4;if(c+=P&15,c>p){a&&ut(0);break}if(P||ut(2),pe<256)n[A++]=pe;else if(pe==256){ne=c,y=null;break}else{var ie=pe-254;if(pe>264){var R=pe-257,be=QI[R];ie=Pt(e,c,(1<<be)-1)+qI[R],c+=be}var Ae=v[Zg(e,c)&le],De=Ae>>4;Ae||ut(3),c+=Ae&15;var q=Nh[De];if(De>3){var be=$I[De];q+=Zg(e,c)&(1<<be)-1,c+=be}if(c>p){a&&ut(0);break}l&&s(A+131072);var $t=A+ie;if(A<q){var gt=o-q,Zt=Math.min(q,$t);for(gt+A<0&&ut(3);A<Zt;++A)n[A]=i[gt+A]}for(;A<$t;++A)n[A]=n[A-q]}}t.l=y,t.p=ne,t.b=A,t.f=C,y&&(C=1,t.m=b,t.d=v,t.n=B)}while(!C);return A!=n.length&&g?Xl(n,0,A):n.subarray(0,A)},$b=new Ct(0),qb=function(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n},hc=function(e,t,n){for(var i=e(),r=e.toString(),o=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/\s+/g,"").split(","),g=0;g<i.length;++g){var l=i[g],a=o[g];if(typeof l=="function"){t+=";"+a+"=";var s=l.toString();if(l.prototype)if(s.indexOf("[native code]")!=-1){var C=s.indexOf(" ",8)+1;t+=s.slice(C,s.indexOf("(",C))}else{t+=s;for(var c in l.prototype)t+=";"+a+".prototype."+c+"="+l.prototype[c].toString()}else t+=s}else n[a]=l}return t},sg=[],eG=function(e){var t=[];for(var n in e)e[n].buffer&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t},tG=function(e,t,n,i){if(!sg[n]){for(var r="",o={},g=e.length-1,l=0;l<g;++l)r=hc(e[l],r,o);sg[n]={c:hc(e[g],r,o),e:o}}var a=qb({},sg[n].e);return Jb(sg[n].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",n,a,eG(a),i)},nG=function(){return[Ct,Bi,Xh,QI,$I,Hh,qI,Nh,Th,Dh,Il,Mh,gr,Bg,Pt,Zg,Ph,Xl,ut,xh,eu,Oh,zh]},Oh=function(e){return postMessage(e,[e.buffer])},zh=function(e){return e&&{out:e.size&&new Ct(e.size),dictionary:e.dictionary}},iG=function(e,t,n,i,r,o){var g=tG(n,i,r,function(l,a){g.terminate(),o(l,a)});return g.postMessage([e,t],t.consume?[e.buffer]:[]),function(){g.terminate()}},vn=function(e,t){return e[t]|e[t+1]<<8},sn=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},Ra=function(e,t){return sn(e,t)+sn(e,t+4)*4294967296};function rG(e,t,n){return n||(n=t,t={}),typeof n!="function"&&ut(7),iG(e,t,[nG],function(i){return Oh(eu(i.data[0],zh(i.data[1])))},1,n)}function eu(e,t){return xh(e,{i:2},t&&t.out,t&&t.dictionary)}var Ds=typeof TextDecoder<"u"&&new TextDecoder,oG=0;try{Ds.decode($b,{stream:!0}),oG=1}catch{}var gG=function(e){for(var t="",n=0;;){var i=e[n++],r=(i>127)+(i>223)+(i>239);if(n+r>e.length)return{s:t,r:Xl(e,n-1)};r?r==3?(i=((i&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,t+=String.fromCharCode(55296|i>>10,56320|i&1023)):r&1?t+=String.fromCharCode((i&31)<<6|e[n++]&63):t+=String.fromCharCode((i&15)<<12|(e[n++]&63)<<6|e[n++]&63):t+=String.fromCharCode(i)}};function Gr(e,t){if(t){for(var n="",i=0;i<e.length;i+=16384)n+=String.fromCharCode.apply(null,e.subarray(i,i+16384));return n}else{if(Ds)return Ds.decode(e);var r=gG(e),o=r.s,n=r.r;return n.length&&ut(8),o}}var lG=function(e,t){return t+30+vn(e,t+26)+vn(e,t+28)},aG=function(e,t,n){var i=vn(e,t+28),r=Gr(e.subarray(t+46,t+46+i),!(vn(e,t+8)&2048)),o=t+46+i,g=sn(e,t+20),l=n&&g==4294967295?sG(e,o):[g,sn(e,t+24),sn(e,t+42)],a=l[0],s=l[1],C=l[2];return[vn(e,t+10),a,s,r,o+vn(e,t+30)+vn(e,t+32),C]},sG=function(e,t){for(;vn(e,t)!=1;t+=4+vn(e,t+2));return[Ra(e,t+12),Ra(e,t+4),Ra(e,t+20)]},fc=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(e){e()};function IG(e,t,n){n||(n=t,t={}),typeof n!="function"&&ut(7);var i=[],r=function(){for(var B=0;B<i.length;++B)i[B]()},o={},g=function(B,p){fc(function(){n(B,p)})};fc(function(){g=n});for(var l=e.length-22;sn(e,l)!=101010256;--l)if(!l||e.length-l>65558)return g(ut(13,0,1),null),r;var a=vn(e,l+8);if(a){var s=a,C=sn(e,l+16),c=C==4294967295||s==65535;if(c){var A=sn(e,l-12);c=sn(e,A)==101075792,c&&(s=a=sn(e,A+32),C=sn(e,A+48))}for(var y=t&&t.filter,v=function(B){var p=aG(e,C,c),f=p[0],m=p[1],G=p[2],V=p[3],F=p[4],Y=p[5],R=lG(e,Y);C=F;var T=function(k,H){k?(r(),g(k,null)):(H&&(o[V]=H),--a||g(null,o))};if(!y||y({name:V,size:m,originalSize:G,compression:f}))if(!f)T(null,Xl(e,R,R+m));else if(f==8){var Z=e.subarray(R,R+m);if(m<32e4)try{T(null,eu(Z,{out:new Ct(G)}))}catch(k){T(k,null)}else i.push(rG(Z,{size:G},T))}else T(ut(14,"unknown compression type "+f,1),null);else T(null,null)},b=0;b<s;++b)v(b)}else g(null,{});return r}function uG(e){return(Array.isArray(e)?e:e.issues).reduce((t,n)=>{if(n.path){let i=n.path.map(({key:r})=>r).join(".");t.nested[i]=[...t.nested[i]||[],n.message]}else t.root=[...t.root||[],n.message];return t},{nested:{}})}var CG=class extends Error{constructor(t){super(t[0].message);oe(this,"issues");this.name="ValiError",this.issues=t}};function cG(e,t){return{reason:e==null?void 0:e.reason,validation:t.validation,origin:(e==null?void 0:e.origin)||"value",message:t.message,input:t.input,abortEarly:e==null?void 0:e.abortEarly,abortPipeEarly:e==null?void 0:e.abortPipeEarly}}function AG(e,t){return{reason:t,origin:e==null?void 0:e.origin,abortEarly:e==null?void 0:e.abortEarly,abortPipeEarly:e==null?void 0:e.abortPipeEarly}}function Ai(e,t,n,i){if(!t||!t.length)return{output:e};let r,o,g=e;for(let l of t){let a=l(g);if(a.issue){r=r||AG(n,i);let s=cG(r,a.issue);if(o?o.push(s):o=[s],r.abortEarly||r.abortPipeEarly)break}else g=a.output}return o?{issues:o}:{output:g}}function dn(e,t){return!e||typeof e=="string"?[e,t]:[void 0,e]}function wn(e,t,n,i,r,o){return{issues:[{reason:t,validation:n,origin:(e==null?void 0:e.origin)||"value",message:i,input:r,issues:o,abortEarly:e==null?void 0:e.abortEarly,abortPipeEarly:e==null?void 0:e.abortPipeEarly}]}}function dG(e=[]){return{schema:"any",async:!1,_parse(t,n){return Ai(t,e,n,"any")}}}function $r(e,t,n){let[i,r]=dn(t,n);return{schema:"array",array:{item:e},async:!1,_parse(o,g){if(!Array.isArray(o))return wn(g,"type","array",i||"Invalid type",o);let l,a=[];for(let s=0;s<o.length;s++){let C=o[s],c=e._parse(C,g);if(c.issues){let A={schema:"array",input:o,key:s,value:C};for(let y of c.issues)y.path?y.path.unshift(A):y.path=[A],l==null||l.push(y);if(l||(l=c.issues),g!=null&&g.abortEarly)break}else a.push(c.output)}return l?{issues:l}:Ai(a,r,g,"array")}}}function Va(e,t){let[n,i]=dn(e,t);return{schema:"boolean",async:!1,_parse(r,o){return typeof r!="boolean"?wn(o,"type","boolean",n||"Invalid type",r):Ai(r,i,o,"boolean")}}}function pc(e,t){return{schema:"literal",literal:e,async:!1,_parse(n,i){return n!==e?wn(i,"type","literal",t||"Invalid type",n):{output:n}}}}function hG(e,t){return{schema:"native_enum",nativeEnum:e,async:!1,_parse(n,i){return Object.values(e).includes(n)?{output:n}:wn(i,"type","native_enum",t||"Invalid type",n)}}}function un(e,t){let[n,i]=dn(e,t);return{schema:"number",async:!1,_parse(r,o){return typeof r!="number"?wn(o,"type","number",n||"Invalid type",r):Ai(r,i,o,"number")}}}function Qt(e,t,n){let[i,r]=dn(t,n),o;return{schema:"object",object:e,async:!1,_parse(g,l){if(!g||typeof g!="object")return wn(l,"type","object",i||"Invalid type",g);o=o||Object.entries(e);let a,s={};for(let[C,c]of o){let A=g[C],y=c._parse(A,l);if(y.issues){let v={schema:"object",input:g,key:C,value:A};for(let b of y.issues)b.path?b.path.unshift(v):b.path=[v],a==null||a.push(b);if(a||(a=y.issues),l!=null&&l.abortEarly)break}else s[C]=y.output}return a?{issues:a}:Ai(s,r,l,"object")}}}function fe(e){return{schema:"optional",wrapped:e,async:!1,_parse(t,n){return t===void 0?{output:t}:e._parse(t,n)}}}function qe(e,t){let[n,i]=dn(e,t);return{schema:"string",async:!1,_parse(r,o){return typeof r!="string"?wn(o,"type","string",n||"Invalid type",r):Ai(r,i,o,"string")}}}function fG(e,t,n,i){if(typeof t=="object"&&!Array.isArray(t)){let[g,l]=dn(n,i);return[e,t,g,l]}let[r,o]=dn(t,n);return[qe(),e,r,o]}var pG=["__proto__","prototype","constructor"];function mG(e,t,n,i){let[r,o,g,l]=fG(e,t,n,i);return{schema:"record",record:{key:r,value:o},async:!1,_parse(a,s){if(!a||typeof a!="object")return wn(s,"type","record",g||"Invalid type",a);let C,c={};for(let[A,y]of Object.entries(a))if(!pG.includes(A)){let v,b=r._parse(A,{origin:"key",abortEarly:s==null?void 0:s.abortEarly,abortPipeEarly:s==null?void 0:s.abortPipeEarly});if(b.issues){v={schema:"record",input:a,key:A,value:y};for(let p of b.issues)p.path=[v],C==null||C.push(p);if(C||(C=b.issues),s!=null&&s.abortEarly)break}let B=o._parse(y,s);if(B.issues){v=v||{schema:"record",input:a,key:A,value:y};for(let p of B.issues)p.path?p.path.unshift(v):p.path=[v],C==null||C.push(p);if(C||(C=B.issues),s!=null&&s.abortEarly)break}!b.issues&&!B.issues&&(c[b.output]=B.output)}return C?{issues:C}:Ai(c,l,s,"record")}}}function yG(e,t,n){if(typeof e=="object"&&!Array.isArray(e)){let[o,g]=dn(t,n);return[e,o,g]}let[i,r]=dn(e,t);return[void 0,i,r]}function mc(e,t,n,i){let[r,o,g]=yG(t,n,i);return{schema:"tuple",tuple:{items:e,rest:r},async:!1,_parse(l,a){if(!Array.isArray(l)||!r&&e.length!==l.length||r&&e.length>l.length)return wn(a,"type","tuple",o||"Invalid type",l);let s,C=[];for(let c=0;c<e.length;c++){let A=l[c],y=e[c]._parse(A,a);if(y.issues){let v={schema:"tuple",input:l,key:c,value:A};for(let b of y.issues)b.path?b.path.unshift(v):b.path=[v],s==null||s.push(b);if(s||(s=y.issues),a!=null&&a.abortEarly)break}else C[c]=y.output}if(r)for(let c=e.length;c<l.length;c++){let A=l[c],y=r._parse(A,a);if(y.issues){let v={schema:"tuple",input:l,key:c,value:A};for(let b of y.issues)b.path?b.path.unshift(v):b.path=[v],s==null||s.push(b);if(s||(s=y.issues),a!=null&&a.abortEarly)break}else C[c]=y.output}return s?{issues:s}:Ai(C,g,a,"tuple")}}}function Ps(e,t){return{schema:"union",union:e,async:!1,_parse(n,i){let r,o;for(let g of e){let l=g._parse(n,i);if(l.issues)if(r)for(let a of l.issues)r.push(a);else r=l.issues;else{o=[l.output];break}}return o?{output:o[0]}:wn(i,"type","union",t||"Invalid type",n,r)}}}function Yo(e,t,n){let[i,r]=dn(t,n);return Qt(e.reduce((o,g)=>({...o,...g.object}),{}),i,r)}function vG(e,t,n,i){let[r,o]=dn(n,i);return Qt(Object.entries(e.object).reduce((g,[l,a])=>t.includes(l)?g:{...g,[l]:a},{}),r,o)}function bG(e,t,n){let i=e._parse(t,n);return i.issues?{success:!1,error:new CG(i.issues),issues:i.issues}:{success:!0,data:i.output,output:i.output}}function Ms(e,t){return n=>n>e?{issue:{validation:"max_value",message:t||"Invalid value",input:n}}:{output:n}}function xs(e,t){return n=>n<e?{issue:{validation:"min_value",message:t||"Invalid value",input:n}}:{output:n}}var GG=Object.create,tu=Object.defineProperty,wG=Object.getOwnPropertyDescriptor,jh=Object.getOwnPropertyNames,BG=Object.getPrototypeOf,ZG=Object.prototype.hasOwnProperty,SG=(e,t,n)=>t in e?tu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ro=(e,t)=>function(){return t||(0,e[jh(e)[0]])((t={exports:{}}).exports,t),t.exports},WG=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of jh(t))!ZG.call(e,r)&&r!==n&&tu(e,r,{get:()=>t[r],enumerable:!(i=wG(t,r))||i.enumerable});return e},KG=(e,t,n)=>(n=e!=null?GG(BG(e)):{},WG(t||!e||!e.__esModule?tu(n,"default",{value:e,enumerable:!0}):n,e)),kG=(e,t,n)=>(SG(e,typeof t!="symbol"?t+"":t,n),n),YG=Ro({"../../node_modules/.pnpm/@rgba-image+copy@0.1.3/node_modules/@rgba-image/copy/dist/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.copy=void 0;var t=(n,i,r=0,o=0,g=n.width-r,l=n.height-o,a=0,s=0)=>{if(r=r|0,o=o|0,g=g|0,l=l|0,a=a|0,s=s|0,g<=0||l<=0)return;let C=new Uint32Array(n.data.buffer),c=new Uint32Array(i.data.buffer);for(let A=0;A<l;A++){let y=o+A;if(y<0||y>=n.height)continue;let v=s+A;if(!(v<0||v>=i.height))for(let b=0;b<g;b++){let B=r+b;if(B<0||B>=n.width)continue;let p=a+b;if(p<0||p>=i.width)continue;let f=y*n.width+B,m=v*i.width+p;c[m]=C[f]}}};e.copy=t}}),RG=Ro({"../../node_modules/.pnpm/@rgba-image+create-image@0.1.1/node_modules/@rgba-image/create-image/dist/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CreateImageFactory=(t=[0,0,0,0],n=4)=>{if(n=Math.floor(n),isNaN(n)||n<1)throw TypeError("channels should be a positive non-zero number");if(!("length"in t)||t.length<n)throw TypeError(`fill should be iterable with at least ${n} members`);t=new Uint8ClampedArray(t).slice(0,n);let i=t.every(r=>r===0);return(r,o,g)=>{if(r===void 0||o===void 0)throw TypeError("Not enough arguments");if(r=Math.floor(r),o=Math.floor(o),isNaN(r)||r<1||isNaN(o)||o<1)throw TypeError("Index or size is negative or greater than the allowed amount");let l=r*o*n;if(g===void 0&&(g=new Uint8ClampedArray(l)),g instanceof Uint8ClampedArray){if(g.length!==l)throw TypeError("Index or size is negative or greater than the allowed amount");if(!i)for(let a=0;a<o;a++)for(let s=0;s<r;s++){let C=(a*r+s)*n;for(let c=0;c<n;c++)g[C+c]=t[c]}return{get width(){return r},get height(){return o},get data(){return g}}}throw TypeError("Expected data to be Uint8ClampedArray or undefined")}},e.createImage=e.CreateImageFactory()}}),VG=Ro({"../../node_modules/.pnpm/@rgba-image+lanczos@0.1.1/node_modules/@rgba-image/lanczos/dist/filters.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.filters=void 0;var t=14,n=(o,g)=>{if(o<=-g||o>=g||o==0)return 0;let l=o*Math.PI;return Math.sin(l)/l*Math.sin(l/g)/(l/g)},i=o=>Math.round(o*((1<<t)-1)),r=(o,g,l,a,s)=>{let C=s?2:3,c=1/l,A=Math.min(1,l),y=C/A,v=Math.floor((y+1)*2),b=new Int16Array((v+2)*g),B=0;for(let p=0;p<g;p++){let f=(p+.5)*c+a,m=Math.max(0,Math.floor(f-y)),G=Math.min(o-1,Math.ceil(f+y)),V=G-m+1,F=new Float32Array(V),Y=new Int16Array(V),R=0,T=0;for(let O=m;O<=G;O++){let Q=n((O+.5-f)*A,C);R+=Q,F[T]=Q,T++}let Z=0;for(let O=0;O<F.length;O++){let Q=F[O]/R;Z+=Q,Y[O]=i(Q)}Y[g>>1]+=i(1-Z);let k=0;for(;k<Y.length&&Y[k]===0;)k++;let H=Y.length-1;for(;H>0&&Y[H]===0;)H--;let N=m+k,P=H-k+1;b[B++]=N,b[B++]=P,b.set(Y.subarray(k,H+1),B),B+=P}return b};e.filters=r}}),LG=Ro({"../../node_modules/.pnpm/@rgba-image+lanczos@0.1.1/node_modules/@rgba-image/lanczos/dist/convolve.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convolve=void 0;var t=14,n=(i,r,o,g,l,a)=>{let s=0,C=0;for(let c=0;c<g;c++){let A=0;for(let y=0;y<l;y++){let v=a[A++],b=s+v*4|0,B=0,p=0,f=0,m=0;for(let G=a[A++];G>0;G--){let V=a[A++];B=B+V*i[b]|0,p=p+V*i[b+1]|0,f=f+V*i[b+2]|0,m=m+V*i[b+3]|0,b=b+4|0}r[C]=B+8192>>t,r[C+1]=p+8192>>t,r[C+2]=f+8192>>t,r[C+3]=m+8192>>t,C=C+g*4|0}C=(c+1)*4|0,s=(c+1)*o*4|0}};e.convolve=n}}),XG=Ro({"../../node_modules/.pnpm/@rgba-image+lanczos@0.1.1/node_modules/@rgba-image/lanczos/dist/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.lanczos2=e.lanczos=void 0;var t=YG(),n=RG(),i=VG(),r=LG(),o=(a,s,C=!1)=>{let c=s.width/a.width,A=s.height/a.height,y=i.filters(a.width,s.width,c,0,C),v=i.filters(a.height,s.height,A,0,C),b=new Uint8ClampedArray(s.width*a.height*4);r.convolve(a.data,b,a.width,a.height,s.width,y),r.convolve(b,s.data,a.height,s.width,s.height,v)},g=(a,s,C=0,c=0,A=a.width-C,y=a.height-c,v=0,b=0,B=s.width-v,p=s.height-b)=>{if(C=C|0,c=c|0,A=A|0,y=y|0,v=v|0,b=b|0,B=B|0,p=p|0,A<=0||y<=0||B<=0||p<=0)return;if(C===0&&c===0&&A===a.width&&y===a.height&&v===0&&b===0&&B===s.width&&p===s.height){o(a,s);return}let f=n.createImage(A,y),m=n.createImage(B,p);t.copy(a,f,C,c),o(f,m),t.copy(m,s,0,0,m.width,m.height,v,b)};e.lanczos=g;var l=(a,s,C=0,c=0,A=a.width-C,y=a.height-c,v=0,b=0,B=s.width-v,p=s.height-b)=>{if(C=C|0,c=c|0,A=A|0,y=y|0,v=v|0,b=b|0,B=B|0,p=p|0,A<=0||y<=0||B<=0||p<=0)return;if(C===0&&c===0&&A===a.width&&y===a.height&&v===0&&b===0&&B===s.width&&p===s.height){o(a,s,!0);return}let f=n.createImage(A,y),m=n.createImage(B,p);t.copy(a,f,C,c),o(f,m,!0),t.copy(m,s,0,0,m.width,m.height,v,b)};e.lanczos2=l}}),Jh=(e=>(e.Bounce="bounce",e.Normal="normal",e))(Jh||{}),HG=hG(Jh),Uh=Qt({autoplay:fe(Va()),defaultTheme:fe(qe()),direction:fe(Ps([pc(1),pc(-1)])),hover:fe(Va()),id:qe(),intermission:fe(un()),loop:fe(Ps([Va(),un()])),playMode:fe(HG),speed:fe(un()),themeColor:fe(qe())}),FG=Qt({animations:$r(qe()),id:qe()}),_G=Qt({activeAnimationId:fe(qe()),animations:$r(Uh),author:fe(qe()),custom:fe(mG(qe(),dG())),description:fe(qe()),generator:fe(qe()),keywords:fe(qe()),revision:fe(un()),themes:fe($r(FG)),states:fe($r(qe())),version:fe(qe())}),Qh=vG(Uh,["id"]),Hi=Qt({state:qe()}),NG=Hi,EG=Yo([Hi,Qt({ms:un()})]),TG=Yo([Hi,Qt({count:un()})]),DG=Hi,PG=Hi,MG=Hi,xG=Yo([Hi,Qt({threshold:fe($r(un([xs(0),Ms(1)])))})]),OG=Qt({onAfter:fe(EG),onClick:fe(NG),onComplete:fe(MG),onEnter:fe(TG),onMouseEnter:fe(DG),onMouseLeave:fe(PG),onShow:fe(xG)}),zG=Yo([Qh,Qt({playOnScroll:fe(mc([un([xs(0),Ms(1)]),un([xs(0),Ms(1)])])),segments:fe(Ps([mc([un(),un()]),qe()]))})]);Yo([OG,Qt({animationId:fe(qe()),playbackSettings:zG})]);var jG={jpeg:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp",svg:"image/svg+xml",webp:"image/webp",mpeg:"audio/mpeg",mp3:"audio/mp3"},yc={jpeg:[255,216,255],png:[137,80,78,71,13,10,26,10],gif:[71,73,70],bmp:[66,77],webp:[82,73,70,70,87,69,66,80],svg:[60,63,120],mp3:[73,68,51,3,0,0,0,0],mpeg:[73,68,51,3,0,0,0,0]},JG=e=>{let t=null,n=[];if(!e)return null;let i=e.substring(e.indexOf(",")+1);typeof window>"u"?t=Buffer.from(i,"base64").toString("binary"):t=atob(i);let r=new Uint8Array(t.length);for(let o=0;o<t.length;o+=1)r[o]=t.charCodeAt(o);n=Array.from(r.subarray(0,8));for(let o in yc){let g=yc[o];if(g&&n.every((l,a)=>l===g[a]))return jG[o]}return null},nu=class extends Error{constructor(e,t){super(e),kG(this,"code"),this.name="[dotlottie-js]",this.code=t}};function $h(e){let t;if(typeof window>"u")t=Buffer.from(e).toString("base64");else{let n=Array.prototype.map.call(e,i=>String.fromCharCode(i)).join("");t=window.btoa(n)}return`data:${JG(t)};base64,${t}`}function vc(e){return"w"in e&&"h"in e&&!("xt"in e)&&"p"in e}function Os(e){return!("h"in e)&&!("w"in e)&&"p"in e&&"e"in e&&"u"in e&&"id"in e}async function Vo(e,t=()=>!0){if(!(e instanceof Uint8Array))throw new nu("DotLottie not found","INVALID_DOTLOTTIE");return await new Promise((n,i)=>{IG(e,{filter:t},(r,o)=>{r&&i(r),n(o)})})}async function iu(e,t,n){if(!(e instanceof Uint8Array))throw new nu("DotLottie not found","INVALID_DOTLOTTIE");return(await Vo(e,i=>i.name===t&&(!n||n(i))))[t]}async function zs(e){let t="manifest.json",n=(await Vo(e,i=>i.name===t))[t];if(!(typeof n>"u"))return JSON.parse(Gr(n,!1))}async function UG(e){if(!(e instanceof Uint8Array))return{success:!1,error:"DotLottie not found"};let t=await zs(e);if(typeof t>"u")return{success:!1,error:"Invalid .lottie file, manifest.json is missing"};let n=bG(_G,t);return n.success?{success:!0}:{success:!1,error:`Invalid .lottie file, manifest.json structure is invalid, ${JSON.stringify(uG(n.error).nested,null,2)}`}}async function bc(e){let t=new Uint8Array(e),n=await UG(t);if(n.error)throw new nu(n.error,"INVALID_DOTLOTTIE");return t}async function QG(e,t){let n=await Vo(e,r=>{let o=r.name.replace("audio/","");return r.name.startsWith("audio/")&&(!t||t({...r,name:o}))}),i={};for(let r in n){let o=n[r];if(o instanceof Uint8Array){let g=r.replace("audio/","");i[g]=$h(o)}}return i}async function $G(e,t){var n;let i=new Map;for(let[o,g]of Object.entries(t))for(let l of g.assets||[])if(Os(l)){let a=l.p;i.has(a)||i.set(a,new Set),(n=i.get(a))==null||n.add(o)}let r=await QG(e,o=>i.has(o.name));for(let[o,g]of i){let l=r[o];if(l)for(let a of g){let s=t[a];for(let C of(s==null?void 0:s.assets)||[])Os(C)&&C.p===o&&(C.p=l,C.u="",C.e=1)}}}async function qG(e,t){let n=await Vo(e,r=>{let o=r.name.replace("images/","");return r.name.startsWith("images/")&&(!t||t({...r,name:o}))}),i={};for(let r in n){let o=n[r];if(o instanceof Uint8Array){let g=r.replace("images/","");i[g]=$h(o)}}return i}async function ew(e,t){var n;let i=new Map;for(let[o,g]of Object.entries(t))for(let l of g.assets||[])if(vc(l)){let a=l.p;i.has(a)||i.set(a,new Set),(n=i.get(a))==null||n.add(o)}let r=await qG(e,o=>i.has(o.name));for(let[o,g]of i){let l=r[o];if(l)for(let a of g){let s=t[a];for(let C of(s==null?void 0:s.assets)||[])vc(C)&&C.p===o&&(C.p=l,C.u="",C.e=1)}}}async function tw(e,t,{inlineAssets:n}={},i){let r=`animations/${t}.json`,o=await iu(e,r,i);if(typeof o>"u")return;let g=JSON.parse(Gr(o,!1));if(!n)return g;let l={[t]:g};return await ew(e,l),await $G(e,l),g}async function nw(e,t,n){let i=`themes/${t}.json`,r=await iu(e,i,n);if(!(typeof r>"u"))return JSON.parse(Gr(r,!1))}async function iw(e,t){let n={},i=await Vo(e,r=>{let o=r.name.replace("states/","").replace(".json","");return r.name.startsWith("states/")&&(!t||t({...r,name:o}))});for(let r in i){let o=i[r];if(o instanceof Uint8Array){let g=r.replace("states/","").replace(".json","");n[g]=Gr(o,!1)}}return n}async function rw(e,t,n){let i=`states/${t}.json`,r=await iu(e,i,n);return typeof r>"u"?void 0:JSON.parse(Gr(r,!1))}KG(XG());function he(e,t="dotLottie-common"){return new Error(`[${t}]: ${e}`)}function Ti(e,t="dotLottie-common",...n){console.error(`[${t}]:`,e,...n)}function Xe(e,t="dotLottie-common",...n){console.warn(`[${t}]:`,e,...n)}function ow(e=""){let t=e.trim(),n=t.lastIndexOf("/"),i=t.substring(n+1),r=i.indexOf(".");return r!==-1?i.substring(0,r):i}function ul(e){return["v","ip","op","layers","fr","w","h"].every(t=>Object.prototype.hasOwnProperty.call(e,t))}function gw(e){let t=e.assets;return t?t.some(n=>Os(n)):!1}function lw(e){try{let t=JSON.parse(e);return ul(t)}catch{return!1}}function rB(e,t){let n=Object.keys(e).find(i=>e[i]===t);if(n===void 0)throw new Error("Value not found in the object.");return n}function La(e){return JSON.parse(JSON.stringify(e))}var aw=class{constructor(){oe(this,"_dotLottie");oe(this,"_animationsMap",new Map);oe(this,"_themeMap",new Map);oe(this,"_stateMachinesMap",new Map);oe(this,"_manifest")}get dotLottie(){return this._dotLottie}get animationsMap(){return this._animationsMap}get themeMap(){return this._themeMap}get stateMachinesMap(){return this._stateMachinesMap}get manifest(){return this._manifest}async loadFromUrl(t){let n=await fetch(t,{method:"GET",mode:"cors"});if(!n.ok)throw new Error(`Failed to load dotLottie from ${t} with status ${n.status}`);let i=n.headers.get("content-type");if(i!=null&&i.includes("application/json")){let r=await n.json();if(!ul(r))throw new Error(`Invalid lottie JSON at ${t}`);let o=ow(t);this._animationsMap.set(o,r);let g={activeAnimationId:o,animations:[{id:o}]};this._manifest=g}else{this._dotLottie=await bc(await n.arrayBuffer());let r=await zs(this._dotLottie);if(!r)throw new Error("Manifest not found");this._manifest=r}}loadFromLottieJSON(t){if(!ul(t))throw new Error("Invalid lottie JSON");let n="my-animation";this._animationsMap.set(n,t);let i={activeAnimationId:n,animations:[{id:n}]};this._manifest=i}async loadFromArrayBuffer(t){this._dotLottie=await bc(t);let n=await zs(this._dotLottie);if(!n)throw new Error("Manifest not found");this._manifest=n}async getAnimation(t){if(this._animationsMap.get(t))return this._animationsMap.get(t);if(!this._dotLottie)return;let n=await tw(this._dotLottie,t,{inlineAssets:!0});return n&&this._animationsMap.set(t,n),n}async getTheme(t){if(this._themeMap.get(t))return this._themeMap.get(t);if(!this._dotLottie)return;let n=await nw(this._dotLottie,t);return n&&this._themeMap.set(t,n),n}async getStateMachines(){if(!this._dotLottie)return;let t=await iw(this._dotLottie);for(let n in t)if(n){let i=t[n];if(i){let r=JSON.parse(i);if(r){let o=r.descriptor.id;this._stateMachinesMap.get(o)||this._stateMachinesMap.set(o,r)}}}return Array.from(this._stateMachinesMap.values())}async getStateMachine(t){if(this._stateMachinesMap.get(t))return this._stateMachinesMap.get(t);if(!this._dotLottie)return;let n=await rw(this._dotLottie,t);return n&&this._stateMachinesMap.set(n.descriptor.id,n),n}};async function sw(e,t){let[{DotLottieStateMachineManager:n}]=await Promise.all([Yn(()=>import("./dotlottie-state-machine-manager-2E7RUGJG-D5ftikrJ.js"),[])]);if(!e.length)throw he("No state machines available inside this .lottie!");return new n(e,t)}function Hl(){throw new Error("Cycle detected")}function ru(){if(lr>1)lr--;else{for(var e,t=!1;qr!==void 0;){var n=qr;for(qr=void 0,js++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&ef(n))try{n.c()}catch(r){t||(e=r,t=!0)}n=i}}if(js=0,lr--,t)throw e}}var He=void 0,qr=void 0,lr=0,js=0,Cl=0;function qh(e){if(He!==void 0){var t=e.n;if(t===void 0||t.t!==He)return t={i:0,S:e,p:He.s,n:void 0,t:He,e:void 0,x:void 0,r:t},He.s!==void 0&&(He.s.n=t),He.s=t,e.n=t,32&He.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=He.s,t.n=void 0,He.s.n=t,He.s=t),t}}function Bt(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}Bt.prototype.h=function(){return!0};Bt.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};Bt.prototype.U=function(e){if(this.t!==void 0){var t=e.e,n=e.x;t!==void 0&&(t.x=n,e.e=void 0),n!==void 0&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}};Bt.prototype.subscribe=function(e){var t=this;return Cw(function(){var n=t.value,i=32&this.f;this.f&=-33;try{e(n)}finally{this.f|=i}})};Bt.prototype.valueOf=function(){return this.value};Bt.prototype.toString=function(){return this.value+""};Bt.prototype.toJSON=function(){return this.value};Bt.prototype.peek=function(){return this.v};Object.defineProperty(Bt.prototype,"value",{get:function(){var e=qh(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(He instanceof Fi&&function(){throw new Error("Computed cannot have side-effects")}(),e!==this.v){js>100&&Hl(),this.v=e,this.i++,Cl++,lr++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{ru()}}}});function Iw(e){return new Bt(e)}function ef(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function tf(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function nf(e){for(var t=e.s,n=void 0;t!==void 0;){var i=t.p;t.i===-1?(t.S.U(t),i!==void 0&&(i.n=t.n),t.n!==void 0&&(t.n.p=i)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=i}e.s=n}function Fi(e){Bt.call(this,void 0),this.x=e,this.s=void 0,this.g=Cl-1,this.f=4}(Fi.prototype=new Bt).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Cl))return!0;if(this.g=Cl,this.f|=1,this.i>0&&!ef(this))return this.f&=-2,!0;var e=He;try{tf(this),He=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return He=e,nf(this),this.f&=-2,!0};Fi.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Bt.prototype.S.call(this,e)};Fi.prototype.U=function(e){if(this.t!==void 0&&(Bt.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};Fi.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Fi.prototype.peek=function(){if(this.h()||Hl(),16&this.f)throw this.v;return this.v};Object.defineProperty(Fi.prototype,"value",{get:function(){1&this.f&&Hl();var e=qh(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function rf(e){var t=e.u;if(e.u=void 0,typeof t=="function"){lr++;var n=He;He=void 0;try{t()}catch(i){throw e.f&=-2,e.f|=8,ou(e),i}finally{He=n,ru()}}}function ou(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,rf(e)}function uw(e){if(He!==this)throw new Error("Out-of-order effect");nf(this),He=e,this.f&=-2,8&this.f&&ou(this),ru()}function Lo(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}Lo.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};Lo.prototype.S=function(){1&this.f&&Hl(),this.f|=1,this.f&=-9,rf(this),tf(this),lr++;var e=He;return He=this,uw.bind(this,e)};Lo.prototype.N=function(){2&this.f||(this.f|=2,this.o=qr,qr=this)};Lo.prototype.d=function(){this.f|=8,1&this.f||ou(this)};function Cw(e){var t=new Lo(e);try{t.c()}catch(n){throw t.d(),n}return t.d.bind(t)}var cw=class{constructor(e){oe(this,"_state");oe(this,"_prevState");this._prevState=e,this._state=Iw(e)}setState(e){this._prevState=this._state.value,this._state.value=e}subscribe(e){return this._state.subscribe(t=>e(t,this._prevState))}},Aw={name:"@dotlottie/common",version:"0.7.11",type:"module",description:"",author:"Afsal <afsal@lottiefiles.com>, Sam Osborne <sam@lottiefiles.com>",license:"MIT",engines:{node:">18.0.0"},module:"dist/index.js",main:"dist/index.js",types:"dist/index.d.ts",files:["dist"],keywords:[],scripts:{build:"tsup",dev:"tsup --watch",lint:"eslint .","type-check":"tsc --noEmit"},dependencies:{"@dotlottie/dotlottie-js":"^0.7.0","@preact/signals-core":"^1.2.3",howler:"^2.2.3","lottie-web":"^5.12.2",xstate:"^4.38.1"},devDependencies:{"@lottiefiles/lottie-types":"^1.2.0","@types/howler":"^2.2.8",tsup:"^7.2.0",typescript:"^4.7.4"},publishConfig:{access:"public"}},Mt=(e=>(e.Complete="complete",e.DataFail="data_fail",e.DataReady="data_ready",e.Error="error",e.Frame="frame",e.Freeze="freeze",e.LoopComplete="loopComplete",e.Pause="pause",e.Play="play",e.Ready="ready",e.Stop="stop",e.VisibilityChange="visibilityChange",e))(Mt||{}),pn=(e=>(e.Completed="completed",e.Error="error",e.Fetching="fetching",e.Frozen="frozen",e.Initial="initial",e.Loading="loading",e.Paused="paused",e.Playing="playing",e.Ready="ready",e.Stopped="stopped",e))(pn||{}),dw=(e=>(e.Bounce="bounce",e.Normal="normal",e))(dw||{}),Tt={autoplay:!1,direction:1,hover:!1,intermission:0,loop:!1,playMode:"normal",speed:1,defaultTheme:""},of={activeStateId:"",autoplay:!1,currentState:"initial",frame:0,seeker:0,direction:1,hover:!1,loop:!1,playMode:"normal",speed:1,background:"transparent",intermission:0,currentAnimationId:void 0,visibilityPercentage:0},hw=class{constructor(e,t,n){oe(this,"_lottie");oe(this,"_src");oe(this,"_animationConfig");oe(this,"_prevUserPlaybackOptions",{});oe(this,"_userPlaybackOptions");oe(this,"_hover",!1);oe(this,"_loop",!1);oe(this,"_counter",0);oe(this,"_intermission",0);oe(this,"_counterInterval",null);oe(this,"_container",null);oe(this,"_name");oe(this,"_mode","normal");oe(this,"_background","transparent");oe(this,"_animation");oe(this,"_defaultTheme");oe(this,"_activeAnimationId");oe(this,"_currentAnimationId");oe(this,"_testId");oe(this,"_listeners",new Map);oe(this,"_currentState","initial");oe(this,"_stateBeforeFreeze","initial");oe(this,"state",new cw(of));oe(this,"_light",!1);oe(this,"_worker",!1);oe(this,"_dotLottieLoader",new aw);oe(this,"_activeStateId");oe(this,"_inInteractiveMode",!1);oe(this,"_scrollTicking",!1);oe(this,"_scrollCallback");oe(this,"_onShowIntersectionObserver");oe(this,"_visibilityPercentage",0);oe(this,"_audios",[]);oe(this,"_stateMachineManager");typeof e=="string"?this._src=e:this._src=La(e),n!=null&&n.testId&&(this._testId=n.testId),this._defaultTheme=(n==null?void 0:n.defaultTheme)||"",this._userPlaybackOptions=this._validatePlaybackOptions(n||{}),typeof(n==null?void 0:n.activeAnimationId)=="string"&&(this._activeAnimationId=n.activeAnimationId),this._container=t||null,typeof(n==null?void 0:n.background)=="string"&&this.setBackground(n.background),typeof(n==null?void 0:n.activeStateId)<"u"&&(this._activeStateId=n.activeStateId);let{rendererSettings:i,...r}=n||{};this._animationConfig={loop:!1,autoplay:!1,renderer:"svg",rendererSettings:{clearCanvas:!0,progressiveLoad:!0,hideOnTransparent:!0,filterSize:{width:"200%",height:"200%",x:"-50%",y:"-50%"},...i},...r},n!=null&&n.light&&(this._light=n.light),n!=null&&n.worker&&(this._worker=n.worker),this._listenToHover(),this._listenToVisibilityChange()}_listenToHover(){var e,t,n,i;let r=()=>{this._hover&&this.currentState!=="playing"&&this.play()},o=()=>{this._hover&&this.currentState==="playing"&&this.stop()};(e=this._container)==null||e.removeEventListener("mouseenter",r),(t=this._container)==null||t.removeEventListener("mouseleave",o),(n=this._container)==null||n.addEventListener("mouseleave",o),(i=this._container)==null||i.addEventListener("mouseenter",r)}_onVisibilityChange(){!this._lottie||typeof document>"u"||(document.hidden&&this.currentState==="playing"?this.freeze():this.currentState==="frozen"&&this.unfreeze())}_listenToVisibilityChange(){typeof document<"u"&&typeof document.hidden<"u"&&document.addEventListener("visibilitychange",()=>this._onVisibilityChange())}_getOption(e){var t;if(typeof this._userPlaybackOptions[e]<"u")return this._userPlaybackOptions[e];let n=(t=this._dotLottieLoader.manifest)==null?void 0:t.animations.find(i=>i.id===this._currentAnimationId);return n&&typeof n[e]<"u"?n[e]:Tt[e]}_getPlaybackOptions(){let e={};for(let t in Tt)typeof Tt[t]<"u"&&(e[t]=this._getOption(t));return e}_setPlayerState(e){var t,n,i;let r=e(this._getPlaybackOptions());try{Qh._parse(r)}catch{Xe(`Invalid PlaybackOptions, ${JSON.stringify(r,null,2)}`);return}typeof r.defaultTheme<"u"&&(this._defaultTheme=r.defaultTheme),typeof r.playMode<"u"&&(this._mode=r.playMode),typeof r.intermission<"u"&&(this._intermission=r.intermission),typeof r.hover<"u"&&(this._hover=r.hover),typeof r.loop<"u"&&(this.clearCountTimer(),this._loop=r.loop,this._counter=0,(t=this._lottie)==null||t.setLoop(typeof r.loop=="number"?!0:r.loop)),typeof r.speed<"u"&&((n=this._lottie)==null||n.setSpeed(r.speed)),typeof r.autoplay<"u"&&this._lottie&&(this._lottie.autoplay=r.autoplay),typeof r.direction<"u"&&((i=this._lottie)==null||i.setDirection(r.direction))}_getOptionsFromAnimation(e){let{id:t,...n}=e;return{...Tt,...n}}_updateTestData(){!this._testId||!this._lottie||(window.dotLottiePlayer||(window.dotLottiePlayer={[this._testId]:{}}),window.dotLottiePlayer[this._testId]={direction:this._lottie.playDirection,currentState:this._currentState,loop:this.loop,mode:this._mode,speed:this._lottie.playSpeed})}setContainer(e){e!==this._container&&(this._container=e,this.setBackground(this._background),this._listenToHover())}get currentState(){return this._currentState}clearCountTimer(){this._counterInterval&&clearInterval(this._counterInterval)}setCurrentState(e){this._currentState=e,this._notify(),this._updateTestData()}static isPathJSON(e){var t;return((t=e.split(".").pop())==null?void 0:t.toLowerCase())==="json"}get src(){return this._src}updateSrc(e){this._src!==e&&(typeof e=="string"?this._src=e:this._src=La(e),this._activeAnimationId=void 0,this._currentAnimationId=void 0,this.load())}get intermission(){return this._intermission}get hover(){return this._hover}setHover(e){typeof e=="boolean"&&(this._hover=e,this._userPlaybackOptions.hover=e,this._notify())}setIntermission(e){this._intermission=e,this._userPlaybackOptions.intermission=e,this._notify()}get mode(){return this._mode}get animations(){return this._dotLottieLoader.animationsMap}get themes(){return this._dotLottieLoader.themeMap}setMode(e){typeof e=="string"&&(this._mode=e,this._userPlaybackOptions.playMode=e,this._setPlayerState(()=>({playMode:e})),this._notify(),this._updateTestData())}get container(){if(this._container)return this._container}goToAndPlay(e,t,n){if(!this._lottie||["loading"].includes(this._currentState)){Xe("goToAndPlay() Can't use whilst loading.");return}this._lottie.goToAndPlay(e,t,n),this.setCurrentState("playing")}goToAndStop(e,t,n){if(!this._lottie||["loading"].includes(this._currentState)){Xe("goToAndStop() Can't use whilst loading.");return}this._lottie.goToAndStop(e,t,n),this.setCurrentState("stopped")}seek(e){if(!this._lottie||["loading"].includes(this._currentState)){Xe("seek() Can't use whilst loading.");return}let t=e;typeof t=="number"&&(t=Math.round(t));let n=/^(\d+)(%?)$/u.exec(t.toString());if(!n)return;let i=n[2]==="%"?this.totalFrames*Number(n[1])/100:n[1];i!==void 0&&(this._lottie.goToAndPlay(i,!0),this.currentState==="playing"?this.play():this.currentState==="frozen"?this.freeze():this.pause())}_areNumbersInRange(e,t){return e>=0&&e<=1&&t>=0&&t<=1}_updatePosition(e,t,n){let[i,r]=e??[0,this.totalFrames-1],[o,g]=t??[0,1];if(!this._areNumbersInRange(o,g)){Ti("threshold values must be between 0 and 1");return}if(this.container){let{height:l,top:a}=this.container.getBoundingClientRect(),s=window.innerHeight-a,C=window.innerHeight+l,c=s/C,A=i+Math.round((c-o)/(g-o)*(r-i));n&&n(c),this.goToAndStop(A,!0),(A>=r||c>=g)&&this._handleAnimationComplete()}this._scrollTicking=!1}_requestTick(e,t,n){this._scrollTicking||(requestAnimationFrame(()=>this._updatePosition(e,t,n)),this._scrollTicking=!0)}playOnScroll(e){this.stop(),this._scrollCallback&&this.stopPlayOnScroll(),this._scrollCallback=()=>this._requestTick(e==null?void 0:e.segments,e==null?void 0:e.threshold,e==null?void 0:e.positionCallback),window.addEventListener("scroll",this._scrollCallback)}stopPlayOnScroll(){this._scrollCallback&&(window.removeEventListener("scroll",this._scrollCallback),this._scrollCallback=void 0)}stopPlayOnShow(){this._onShowIntersectionObserver&&(this._onShowIntersectionObserver.disconnect(),this._onShowIntersectionObserver=void 0)}addIntersectionObserver(e){if(!this.container)throw he("Can't play on show, player container element not available.");let t={root:null,rootMargin:"0px",threshold:e!=null&&e.threshold?e.threshold:[0,1]},n=i=>{i.forEach(r=>{var o,g;this._visibilityPercentage=r.intersectionRatio*100,r.isIntersecting?(e!=null&&e.callbackOnIntersect&&e.callbackOnIntersect(this._visibilityPercentage),(o=this._container)==null||o.dispatchEvent(new Event("visibilityChange"))):e!=null&&e.callbackOnIntersect&&(e.callbackOnIntersect(0),(g=this._container)==null||g.dispatchEvent(new Event("visibilityChange")))})};this._onShowIntersectionObserver=new IntersectionObserver(n,t),this._onShowIntersectionObserver.observe(this.container)}playOnShow(e){var t;if(this.stop(),!this.container)throw he("Can't play on show, player container element not available.");this._onShowIntersectionObserver&&this.stopPlayOnShow(),this.addIntersectionObserver({threshold:(t=e==null?void 0:e.threshold)!=null?t:[],callbackOnIntersect:n=>{n===0?this.pause():this.play()}})}_validatePlaybackOptions(e){if(!e)return{};let t={};for(let[n,i]of Object.entries(e))switch(n){case"autoplay":typeof i=="boolean"&&(t.autoplay=i);break;case"direction":typeof i=="number"&&[1,-1].includes(i)&&(t.direction=i);break;case"loop":(typeof i=="boolean"||typeof i=="number")&&(t.loop=i);break;case"playMode":typeof i=="string"&&["normal","bounce"].includes(i)&&(t.playMode=i);break;case"speed":typeof i=="number"&&(t.speed=i);break;case"themeColor":typeof i=="string"&&(t.themeColor=i);break;case"hover":typeof i=="boolean"&&(t.hover=i);break;case"intermission":typeof i=="number"&&(t.intermission=i);break;case"defaultTheme":typeof i=="string"&&(t.defaultTheme=i);break}return this._requireValidPlaybackOptions(t),t}_requireAnimationsInTheManifest(){var e;if(!((e=this._dotLottieLoader.manifest)!=null&&e.animations.length))throw he("No animations found in manifest.")}_requireAnimationsToBeLoaded(){if(this._dotLottieLoader.animationsMap.size===0)throw he("No animations have been loaded.")}async play(e,t){var n,i;if(["initial","loading"].includes(this._currentState)){Xe("Player unable to play whilst loading.");return}if(this._requireAnimationsInTheManifest(),this._requireAnimationsToBeLoaded(),this._lottie&&!e){this._lottie.playDirection===-1&&this._lottie.currentFrame===0?this._lottie.goToAndPlay(this._lottie.totalFrames,!0):this._lottie.play(),this.setCurrentState("playing");return}if(typeof e=="number"){let r=(n=this._dotLottieLoader.manifest)==null?void 0:n.animations[e];if(!r)throw he("animation not found.");typeof t=="function"?await this.render({id:r.id,...t(this._getPlaybackOptions(),this._getOptionsFromAnimation(r))}):await this.render({id:r.id})}if(typeof e=="string"){let r=(i=this._dotLottieLoader.manifest)==null?void 0:i.animations.find(o=>o.id===e);if(!r)throw he("animation not found.");typeof t=="function"?await this.render({id:r.id,...t(this._getPlaybackOptions(),this._getOptionsFromAnimation(r))}):await this.render({id:r.id})}}playSegments(e,t){if(!this._lottie||["loading"].includes(this._currentState)){Xe("playSegments() Can't use whilst loading.");return}this._lottie.playSegments(e,t),this.setCurrentState("playing")}resetSegments(e){if(!this._lottie||["loading"].includes(this._currentState)){Xe("resetSegments() Can't use whilst loading.");return}this._lottie.resetSegments(e)}togglePlay(){this.currentState==="playing"?this.pause():this.play()}_getAnimationByIdOrIndex(e){var t,n;if(this._requireAnimationsInTheManifest(),this._requireAnimationsToBeLoaded(),typeof e=="number"){let i=(t=this._dotLottieLoader.manifest)==null?void 0:t.animations[e];if(!i)throw he("animation not found.");return i}if(typeof e=="string"){let i=(n=this._dotLottieLoader.manifest)==null?void 0:n.animations.find(r=>r.id===e);if(!i)throw he("animation not found.");return i}throw he("first param must be a number or string")}get activeAnimationId(){return this._getActiveAnimationId()}get currentAnimationId(){return this._currentAnimationId}get activeStateId(){return this._activeStateId}async _startInteractivity(e){if(!this._inInteractiveMode){Ti("Can't start interactivity. Not in interactive mode. Call enterInteractiveMode(stateId: string) to start.");return}if(this._dotLottieLoader.stateMachinesMap.size===0&&await this._dotLottieLoader.getStateMachines(),this._dotLottieLoader.stateMachinesMap.size===0)throw he("No interactivity states are available.");if(e==="undefined")throw he("stateId is not specified.");this._stateMachineManager||(this._stateMachineManager=await sw(Array.from(this._dotLottieLoader.stateMachinesMap.values()),this)),this._stateMachineManager.start(e)}enterInteractiveMode(e){var t;if(e)this._inInteractiveMode||(this._prevUserPlaybackOptions={...this._userPlaybackOptions}),this._inInteractiveMode&&((t=this._stateMachineManager)==null||t.stop()),this._activeStateId=e,this._inInteractiveMode=!0,this._startInteractivity(e);else throw he("stateId must be a non-empty string.")}exitInteractiveMode(){var e;this._inInteractiveMode&&(this._inInteractiveMode=!1,this._activeStateId="",(e=this._stateMachineManager)==null||e.stop(),this._userPlaybackOptions={},this._userPlaybackOptions={...this._prevUserPlaybackOptions},this._prevUserPlaybackOptions={},this.reset())}reset(){var e;let t=this._getActiveAnimationId(),n=(e=this._dotLottieLoader.manifest)==null?void 0:e.animations.find(i=>i.id===t);if(this._inInteractiveMode&&this.exitInteractiveMode(),!n)throw he("animation not found.");this.play(t)}previous(e){if(!this._dotLottieLoader.manifest||!this._dotLottieLoader.manifest.animations.length)throw he("manifest not found.");if(this._inInteractiveMode){Xe("previous() is not supported in interactive mode.");return}let t=this._dotLottieLoader.manifest.animations.findIndex(i=>i.id===this._currentAnimationId);if(t===-1)throw he("animation not found.");let n=this._dotLottieLoader.manifest.animations[(t-1+this._dotLottieLoader.manifest.animations.length)%this._dotLottieLoader.manifest.animations.length];if(!n||!n.id)throw he("animation not found.");typeof e=="function"?this.render({id:n.id,...e(this._getPlaybackOptions(),this._getOptionsFromAnimation(n))}):this.render({id:n.id})}next(e){if(!this._dotLottieLoader.manifest||!this._dotLottieLoader.manifest.animations.length)throw he("manifest not found.");if(this._inInteractiveMode){Xe("next() is not supported in interactive mode.");return}let t=this._dotLottieLoader.manifest.animations.findIndex(i=>i.id===this._currentAnimationId);if(t===-1)throw he("animation not found.");let n=this._dotLottieLoader.manifest.animations[(t+1)%this._dotLottieLoader.manifest.animations.length];if(!n||!n.id)throw he("animation not found.");typeof e=="function"?this.render({id:n.id,...e(this._getPlaybackOptions(),this._getOptionsFromAnimation(n))}):this.render({id:n.id})}getManifest(){return this._dotLottieLoader.manifest}resize(){if(!this._lottie||["loading"].includes(this._currentState)){Xe("resize() Can't use whilst loading.");return}this._lottie.resize()}stop(){if(!this._lottie||["loading"].includes(this._currentState)){Xe("stop() Can't use whilst loading.");return}this.clearCountTimer(),this._counter=0,this._setPlayerState(()=>({direction:this._getOption("direction")})),this._lottie.stop(),this.setCurrentState("stopped")}pause(){if(!this._lottie||["loading"].includes(this._currentState)){Xe("pause() Can't use whilst loading.");return}this.clearCountTimer(),this._lottie.pause(),this.setCurrentState("paused")}freeze(){if(!this._lottie||["loading"].includes(this._currentState)){Xe("freeze() Can't use whilst loading.");return}this.currentState!=="frozen"&&(this._stateBeforeFreeze=this.currentState),this._lottie.pause(),this.setCurrentState("frozen")}unfreeze(){if(!this._lottie||["loading"].includes(this._currentState)){Xe("unfreeze() Can't use whilst loading.");return}this._stateBeforeFreeze==="playing"?this.play():this.pause()}destroy(){var e,t;(e=this._container)!=null&&e.__lottie&&(this._container.__lottie.destroy(),this._container.__lottie=null),this._audios.length&&(this._audios.forEach(n=>{n.unload()}),this._audios=[]),this.clearCountTimer(),typeof document<"u"&&document.removeEventListener("visibilitychange",()=>this._onVisibilityChange()),this._counter=0,(t=this._lottie)==null||t.destroy(),this._lottie=void 0}getAnimationInstance(){return this._lottie}static getLottieWebVersion(){return`${Aw.dependencies["lottie-web"]}`}addEventListener(e,t){var n,i,r;this._listeners.has(e)||this._listeners.set(e,new Set),(n=this._listeners.get(e))==null||n.add(t);try{e==="complete"?(i=this._container)==null||i.addEventListener(e,t):(r=this._lottie)==null||r.addEventListener(e,t)}catch(o){Ti(`addEventListener ${o}`)}}getState(){var e,t,n,i,r,o,g;return{autoplay:(t=(e=this._lottie)==null?void 0:e.autoplay)!=null?t:!1,currentState:this._currentState,frame:this._frame,visibilityPercentage:this._visibilityPercentage,seeker:this._seeker,direction:(i=(n=this._lottie)==null?void 0:n.playDirection)!=null?i:1,hover:this._hover,loop:this._loop||!1,playMode:this._mode,speed:(o=(r=this._lottie)==null?void 0:r.playSpeed)!=null?o:1,background:this._background,intermission:this._intermission,defaultTheme:this._defaultTheme,currentAnimationId:this._currentAnimationId,activeStateId:(g=this._activeStateId)!=null?g:""}}_notify(){this.state.setState(this.getState())}get totalFrames(){var e;return((e=this._lottie)==null?void 0:e.totalFrames)||0}get direction(){return this._lottie?this._lottie.playDirection:1}setDirection(e){this._requireValidDirection(e),this._setPlayerState(()=>({direction:e})),this._userPlaybackOptions.direction=e}get speed(){var e;return((e=this._lottie)==null?void 0:e.playSpeed)||1}setSpeed(e){this._requireValidSpeed(e),this._setPlayerState(()=>({speed:e})),this._userPlaybackOptions.speed=e}get autoplay(){var e,t;return(t=(e=this._lottie)==null?void 0:e.autoplay)!=null?t:!1}setAutoplay(e){if(this._requireValidAutoplay(e),!this._lottie||["loading"].includes(this._currentState)){Xe("setAutoplay() Can't use whilst loading.");return}this._setPlayerState(()=>({autoplay:e})),this._userPlaybackOptions.autoplay=e}toggleAutoplay(){if(!this._lottie||["loading"].includes(this._currentState)){Xe("toggleAutoplay() Can't use whilst loading.");return}this.setAutoplay(!this._lottie.autoplay)}get defaultTheme(){return this._defaultTheme}setDefaultTheme(e){this._setPlayerState(()=>({defaultTheme:e})),this._userPlaybackOptions.defaultTheme=e,this._animation&&this.render()}get loop(){return this._loop}setLoop(e){this._requireValidLoop(e),this._setPlayerState(()=>({loop:e})),this._userPlaybackOptions.loop=e}toggleLoop(){if(!this._lottie||["loading"].includes(this._currentState)){Xe("toggleLoop() Can't use whilst loading.");return}this.setLoop(!this._loop)}get background(){return this._background}setBackground(e){this._requireValidBackground(e),this._background=e,this._container&&(this._container.style.backgroundColor=e)}get _frame(){return this._lottie?this.currentState==="completed"?this.direction===-1?0:this._lottie.totalFrames:this._lottie.currentFrame:0}get _seeker(){return this._lottie?this._frame/this._lottie.totalFrames*100:0}async revertToManifestValues(e){var t;let n;!Array.isArray(e)||e.length===0?n=["autoplay","defaultTheme","direction","hover","intermission","loop","playMode","speed","activeAnimationId"]:n=e;let i=!1;if(n.includes("activeAnimationId")){let r=(t=this._dotLottieLoader.manifest)==null?void 0:t.activeAnimationId,o=this._getAnimationByIdOrIndex(r||0);this._activeAnimationId=r,await this._setCurrentAnimation(o.id),i=!0}n.forEach(r=>{switch(r){case"autoplay":delete this._userPlaybackOptions.autoplay,this.setAutoplay(this._getOption("autoplay"));break;case"defaultTheme":delete this._userPlaybackOptions.defaultTheme,this.setDefaultTheme(this._getOption("defaultTheme"));break;case"direction":delete this._userPlaybackOptions.direction,this.setDirection(this._getOption("direction"));break;case"hover":delete this._userPlaybackOptions.hover,this.setHover(this._getOption("hover"));break;case"intermission":delete this._userPlaybackOptions.intermission,this.setIntermission(this._getOption("intermission"));break;case"loop":delete this._userPlaybackOptions.loop,this.setLoop(this._getOption("loop"));break;case"playMode":delete this._userPlaybackOptions.playMode,this.setMode(this._getOption("playMode")),this.setDirection(this._getOption("direction"));break;case"speed":delete this._userPlaybackOptions.speed,this.setSpeed(this._getOption("speed"));break}}),i&&this.render()}removeEventListener(e,t){var n,i,r;try{e==="complete"?(n=this._container)==null||n.removeEventListener(e,t):(i=this._lottie)==null||i.removeEventListener(e,t),(r=this._listeners.get(e))==null||r.delete(t)}catch(o){Ti("removeEventListener",o)}}_handleAnimationComplete(){var e;typeof this._loop=="number"&&this.stop();let t=this.direction===-1?0:this.totalFrames-1;this.goToAndStop(t,!0),this._counter=0,this.clearCountTimer(),this.setCurrentState("completed"),(e=this._container)==null||e.dispatchEvent(new Event("complete"))}addEventListeners(){var e;if(!this._lottie||["loading"].includes(this._currentState)){Xe("addEventListeners() Can't use whilst loading.");return}this._lottie.addEventListener("enterFrame",()=>{var t;if(!this._lottie){Xe("enterFrame event : Lottie is undefined.");return}Math.floor(this._lottie.currentFrame)===0&&this.direction===-1&&((t=this._container)==null||t.dispatchEvent(new Event("complete")),this.loop||this.setCurrentState("completed")),this._notify()}),this._lottie.addEventListener("loopComplete",()=>{var t;if(!this._lottie){Xe("loopComplete event : Lottie is undefined.");return}(t=this._container)==null||t.dispatchEvent(new Event("loopComplete")),this.intermission>0&&this.pause();let n=this._lottie.playDirection;if(typeof this._loop=="number"&&this._loop>0&&(this._counter+=this._mode==="bounce"?.5:1,this._counter>=this._loop)){this._handleAnimationComplete();return}this._mode==="bounce"&&typeof n=="number"&&(n=Number(n)*-1);let i=n===-1?this._lottie.totalFrames-1:0;this.intermission?(this.goToAndPlay(i,!0),this.pause(),this._counterInterval=window.setTimeout(()=>{this._lottie&&(this._setPlayerState(()=>({direction:n})),this.goToAndPlay(i,!0))},this._intermission)):(this._setPlayerState(()=>({direction:n})),this.goToAndPlay(n===-1?this.totalFrames-1:0,!0))}),this._lottie.addEventListener("complete",()=>{if(this._lottie&&this._loop===!1&&this._mode==="bounce"){if(this._counter+=.5,this._counter>=1){this._handleAnimationComplete();return}this._counterInterval=window.setTimeout(()=>{if(!this._lottie)return;let t=this._lottie.playDirection;this._mode==="bounce"&&typeof t=="number"&&(t=Number(t)*-1);let n=t===-1?this.totalFrames-1:0;this._setPlayerState(()=>({direction:t})),this.goToAndPlay(n,!0)},this._intermission)}else this._handleAnimationComplete()});for(let[t,n]of this._listeners)if(t==="complete")for(let i of n)(e=this._container)==null||e.addEventListener(t,i);else for(let i of n)this._lottie.addEventListener(t,i)}async _setCurrentAnimation(e){this._currentState="loading";let t=await this._dotLottieLoader.getAnimation(e);this._currentAnimationId=e,this._animation=t,this._currentState="ready"}async _getAudioFactory(){if(this._animation&&gw(this._animation)){let{DotLottieAudio:e}=await Yn(()=>import("./dotlottie-audio-efUd5333.js"),__vite__mapDeps([0,1]));return t=>{let n=new e({src:[t]});return this._audios.push(n),n}}return null}async render(e){var t,n,i,r,o,g,l,a,s,C,c,A,y,v,b,B,p,f;if(e!=null&&e.id)await this._setCurrentAnimation(e.id);else if(!this._animation)throw he("no animation selected");let m=(t=Tt.loop)!=null?t:!1,G=(n=Tt.autoplay)!=null?n:!1,V=(i=Tt.playMode)!=null?i:"normal",F=(r=Tt.intermission)!=null?r:0,Y=(o=Tt.hover)!=null?o:!1,R=(g=Tt.direction)!=null?g:1,T=(l=Tt.speed)!=null?l:1,Z=(a=Tt.defaultTheme)!=null?a:"";m=(s=e==null?void 0:e.loop)!=null?s:this._getOption("loop"),G=(C=e==null?void 0:e.autoplay)!=null?C:this._getOption("autoplay"),V=(c=e==null?void 0:e.playMode)!=null?c:this._getOption("playMode"),F=(A=e==null?void 0:e.intermission)!=null?A:this._getOption("intermission"),Y=(y=e==null?void 0:e.hover)!=null?y:this._getOption("hover"),R=(v=e==null?void 0:e.direction)!=null?v:this._getOption("direction"),T=(b=e==null?void 0:e.speed)!=null?b:this._getOption("speed"),Z=(B=e==null?void 0:e.defaultTheme)!=null?B:this._getOption("defaultTheme");let k={...this._animationConfig,autoplay:Y?!1:G,loop:typeof m=="number"?!0:m,renderer:this._worker?"svg":(p=this._animationConfig.renderer)!=null?p:"svg"},[H,N,P]=await Promise.all([this._dotLottieLoader.getTheme(Z),this._getLottiePlayerInstance(),this._getAudioFactory()]);if(H&&this._animation?(this._animation=La(this._animation),this._animation.slots=H):this._animation=await this._dotLottieLoader.getAnimation((f=this._currentAnimationId)!=null?f:""),this._activeStateId&&!this._inInteractiveMode){this.enterInteractiveMode(this._activeStateId);return}this.destroy(),this._setPlayerState(()=>({defaultTheme:Z,playMode:V,intermission:F,hover:Y,loop:m})),P?this._lottie=N.loadAnimation({...k,container:this._container,animationData:this._animation,audioFactory:P}):this._lottie=N.loadAnimation({...k,container:this._container,animationData:this._animation}),typeof this._lottie.resetSegments>"u"&&(this._lottie.resetSegments=()=>{var O;(O=this._lottie)==null||O.playSegments([0,this._lottie.totalFrames],!0)}),this.addEventListeners(),this._container&&(this._container.__lottie=this._lottie),this._setPlayerState(()=>({direction:R,speed:T})),G&&!Y&&(m===!1&&R===-1?this.play():this.setCurrentState("playing")),this._updateTestData()}async _getLottiePlayerInstance(){var e;let t=(e=this._animationConfig.renderer)!=null?e:"svg",n;if(this._worker)return t!=="svg"&&Xe("Worker is only supported with svg renderer. Change or remove renderer prop to get rid of this warning."),n=await Yn(()=>import("./lottie_worker-Q23FJ6ZR-CZgcfgj7.js"),__vite__mapDeps([2,1])),n.default;switch(t){case"svg":{this._light?n=await Yn(()=>import("./lottie_light-KMJEUZFY-DZNzI0EV.js"),__vite__mapDeps([3,1])):n=await Yn(()=>import("./lottie_svg-MJGYILXD-Be1OGMYj.js"),__vite__mapDeps([4,1]));break}case"canvas":{this._light?n=await Yn(()=>import("./lottie_light_canvas-B5UTTNXA-zkUt6Qm4.js"),__vite__mapDeps([5,1])):n=await Yn(()=>import("./lottie_canvas-CDSUBMCL-jm7H_fxU.js"),__vite__mapDeps([6,1]));break}case"html":{this._light?n=await Yn(()=>import("./lottie_light_html-SLCECTRT-n6mnomVq.js"),__vite__mapDeps([7,1])):n=await Yn(()=>import("./lottie_html-X3TYKVQI-B12kHkKK.js"),__vite__mapDeps([8,1]));break}default:throw new Error(`Invalid renderer: ${t}`)}return n.default}_getActiveAnimationId(){var e,t,n,i;let r=this._dotLottieLoader.manifest;return(i=(n=(e=this._activeAnimationId)!=null?e:r==null?void 0:r.activeAnimationId)!=null?n:(t=r==null?void 0:r.animations[0])==null?void 0:t.id)!=null?i:void 0}async load(e){if(this._currentState==="loading"){Xe("Loading in progress..");return}try{if(this.setCurrentState("loading"),typeof this._src=="string")if(lw(this._src)){let n=JSON.parse(this._src);this._dotLottieLoader.loadFromLottieJSON(n)}else{let n=new URL(this._src,window.location.href);await this._dotLottieLoader.loadFromUrl(n.toString())}else if(typeof this._src=="object"&&ul(this._src))this._dotLottieLoader.loadFromLottieJSON(this._src);else throw he("Invalid src provided");if(!this._dotLottieLoader.manifest)throw he("No manifest found");let t=this._getActiveAnimationId();if(!t)throw he("No active animation found");await this._setCurrentAnimation(t),await this.render(e)}catch(t){this.setCurrentState("error"),t instanceof Error&&Ti(`Error loading animation: ${t.message}`)}}setErrorState(e){this.setCurrentState("error"),Ti(e)}_requireValidDirection(e){if(e!==-1&&e!==1)throw he("Direction can only be -1 (backwards) or 1 (forwards)")}_requireValidIntermission(e){if(e<0||!Number.isInteger(e))throw he("intermission must be a positive number")}_requireValidLoop(e){if(typeof e=="number"&&(!Number.isInteger(e)||e<0))throw he("loop must be a positive number or boolean")}_requireValidSpeed(e){if(typeof e!="number")throw he("speed must be a number")}_requireValidBackground(e){if(typeof e!="string")throw he("background must be a string")}_requireValidAutoplay(e){if(typeof e!="boolean")throw he("autoplay must be a boolean")}_requireValidPlaybackOptions(e){e.direction&&this._requireValidDirection(e.direction),e.intermission&&this._requireValidIntermission(e.intermission),e.loop&&this._requireValidLoop(e.loop),e.speed&&this._requireValidSpeed(e.speed)}};function fw(){var e=_.useRef(!0);return e.current?(e.current=!1,!0):e.current}var pw=function(e,t){var n=fw();_.useEffect(function(){if(!n)return e()},t)},Dt=pw,mw=_.createContext(null),yw=mw.Provider,vw=(e,t,n)=>{let[i,r]=_.useState(()=>n());return _.useEffect(()=>{let o=e(()=>{let g=t();r(g)});return()=>{o()}},[e]),i},bw=typeof window>"u"?_.useEffect:_.useLayoutEffect,Gw=(e,t,n)=>{let[i]=_.useState(()=>new hw(e,t.current,n)),r=_.useRef(!1);return bw(()=>{async function o(){!r.current&&t.current&&(r.current=!0,i.setContainer(t.current),await i.load())}return o(),()=>{r.current&&i.destroy()}},[i]),i};function Ig(e,t){let n=_.useCallback(()=>t(e.getState()),[t,e]),i=_.useCallback(r=>e.state.subscribe(r),[e]);return vw(i,n,()=>t(of))}var Gc={animation:{position:"relative",width:"100%",height:"100%"},animationWithControls:{position:"relative"}},gf=Re.forwardRef(({onEvent:e,activeAnimationId:t,autoplay:n,background:i="transparent",direction:r,intermission:o,loop:g,playMode:l,hover:a,speed:s,renderer:C="svg",rendererSettings:c={},src:A,className:y="",testId:v,children:b,defaultTheme:B,light:p=!1,worker:f=!1,activeStateId:m,lottieRef:G,...V},F)=>{let Y=_.useRef(null),R=Gw(A,Y,{renderer:C,activeAnimationId:t,rendererSettings:{clearCanvas:!0,progressiveLoad:!1,hideOnTransparent:!0,...c},hover:a,loop:g,direction:r,speed:s,intermission:o,background:i,playMode:l,autoplay:a?!1:n,testId:v,defaultTheme:B,light:p,worker:f,activeStateId:m}),T=_.useRef(R);T.current=R,Re.useImperativeHandle(F,()=>R,[R]),Re.useImperativeHandle(G,()=>R,[R]);let Z=Ig(R,P=>P.currentState),k=Ig(R,P=>P.frame),H=Ig(R,P=>P.seeker),N=Ig(R,P=>P.currentAnimationId);return Dt(()=>{typeof g>"u"?T.current.revertToManifestValues(["loop"]):T.current.setLoop(g)},[g]),Dt(()=>{[pn.Initial,pn.Loading].includes(Z)||(typeof n>"u"?T.current.revertToManifestValues(["autoplay"]):T.current.setAutoplay(n))},[n]),Dt(()=>{typeof r>"u"?T.current.revertToManifestValues(["direction"]):T.current.setDirection(r)},[r]),Dt(()=>{typeof s>"u"?T.current.revertToManifestValues(["speed"]):T.current.setSpeed(s)},[s]),Dt(()=>{typeof l>"u"?T.current.revertToManifestValues(["playMode"]):T.current.setMode(l)},[l]),Dt(()=>{typeof a>"u"?T.current.revertToManifestValues(["hover"]):T.current.setHover(a)},[a]),Dt(()=>{typeof i>"u"?T.current.setBackground("transparent"):T.current.setBackground(i)},[i]),Dt(()=>{typeof o>"u"?T.current.revertToManifestValues(["intermission"]):T.current.setIntermission(o)},[o]),Dt(()=>{typeof B>"u"||!B?T.current.revertToManifestValues(["defaultTheme"]):T.current.setDefaultTheme(B)},[B]),Dt(()=>{t&&T.current.play(t)},[t]),Dt(()=>(typeof m<"u"&&T.current.enterInteractiveMode(m),()=>{T.current.exitInteractiveMode()}),[m]),Dt(()=>{typeof A<"u"&&T.current.updateSrc(A)},[A]),_.useEffect(()=>{let P=()=>{e==null||e(Mt.Ready)},O=()=>{e==null||e(Mt.DataReady)},Q=()=>{e==null||e(Mt.DataFail)},q=()=>{T.current.currentState!==pn.Playing&&(e==null||e(Mt.Complete))},L=()=>{e==null||e(Mt.LoopComplete)};return T.current.addEventListener("DOMLoaded",P),T.current.addEventListener("data_ready",O),T.current.addEventListener("data_failed",Q),T.current.addEventListener("complete",q),T.current.addEventListener("loopComplete",L),()=>{T.current.removeEventListener("DOMLoaded",P),T.current.removeEventListener("data_ready",O),T.current.removeEventListener("data_failed",Q),T.current.removeEventListener("complete",q),T.current.removeEventListener("loopComplete",L)}},[]),_.useEffect(()=>{switch(Z){case pn.Stopped:e==null||e(Mt.Stop);break;case pn.Paused:e==null||e(Mt.Pause);break;case pn.Playing:e==null||e(Mt.Play);break;case pn.Frozen:e==null||e(Mt.Freeze);break;case pn.Error:e==null||e(Mt.Error);break}},[Z]),_.useEffect(()=>{e==null||e(Mt.Frame,{frame:k,seeker:H})},[k]),Re.createElement(yw,{value:R},Re.createElement("div",{className:`dotlottie-container main ${b?"controls":""} ${y}`,lang:"en",...v&&{"data-testid":v},...V},Re.createElement("div",{ref:Y,"data-name":`${N}`,role:"figure",className:`animation ${b?"controls":""}`,style:b?Gc.animationWithControls:Gc.animation,...v&&{"data-testid":"animation"}},Z===pn.Error&&Re.createElement("div",{...v&&{"data-testid":"error"},className:"error"},"⚠️")),b))});const ww="@lottiefiles/dotlottie-web",Bw="0.30.1",Zw="module",Sw="Lottie and DotLottie player for the web",Ww={type:"git",url:"git+https://github.com/LottieFiles/dotlottie-web.git",directory:"packages/web"},Kw="https://github.com/LottieFiles/dotlottie-web#readme",kw="https://github.com/LottieFiles/dotlottie-web/issues",Yw="LottieFiles",Rw=["Abdelrahman Ashraf <a.theashraf@gmail.com>"],Vw="MIT",Lw="dist/index.cjs",Xw="dist/index.js",Hw="dist/index.d.ts",Fw=["dist"],_w=["dotlottie","lottie","player","animation","web","canvas","javascript","thorvg"],Nw={build:"tsup",dev:"tsup --watch",lint:"eslint --fix .","stats:eslint":"cross-env TIMING=1 eslint .","stats:ts":"tsc -p tsconfig.build.json --extendedDiagnostics",test:"vitest run --browser.headless","test:coverage":"vitest run --browser.headless --coverage","test:watch":"vitest","type-check":"tsc --noEmit"},Ew={"@types/node":"^20.14.11","@vitest/browser":"^2.0.3","@vitest/coverage-istanbul":"^2.0.3","cross-env":"7.0.3",esbuild:"^0.23.0","esbuild-plugin-replace":"^1.4.0",playwright:"^1.45.2",tsup:"8.2.0",typescript:"5.0.4",vitest:"^2.0.3"},Tw={access:"public"},Dw={name:ww,version:Bw,type:Zw,description:Sw,repository:Ww,homepage:Kw,bugs:kw,author:Yw,contributors:Rw,license:Vw,main:Lw,module:Xw,types:Hw,files:Fw,keywords:_w,scripts:Nw,devDependencies:Ew,publishConfig:Tw};function Pw(e){return br({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 5h10v3l4-4-4-4v3h-12v6h2zM14 11h-10v-3l-4 4 4 4v-3h12v-6h-2z"},child:[]}]})(e)}function Mw(e){return br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M84.41 106c-15.63.1-27.67 13.8-25.69 29.3 16 124 16 117.4 0 241.4-2.54 19.8 17.33 35 35.79 27.3L361.5 292.9v98.8c0 7.9 8.9 14.2 20 14.3h52c11.1-.1 20-6.4 20-14.3V120.2c-.1-7.8-9-14.1-20-14.2h-52c-11 .1-19.9 6.4-20 14.2v98.9L94.51 108c-3.2-1.3-6.63-2-10.1-2z"},child:[]}]})(e)}function xw(e){return br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427.6 106c15.6.1 27.7 13.8 25.7 29.3-16 124-16 117.4 0 241.4 2.5 19.8-17.4 35-35.8 27.3l-267-111.1v98.8c0 7.9-8.9 14.2-20 14.3H78.49c-11.1-.1-20-6.4-20-14.3V120.2c.1-7.8 9-14.1 20-14.2h52.01c11 .1 19.9 6.4 20 14.2v98.9l267-111.1c3.2-1.3 6.6-2 10.1-2z"},child:[]}]})(e)}const wc=({className:e="",title:t,version:n,rendererVersion:i,loadTime:r,...o})=>W.jsxs("div",{className:`flex flex-col items-center ${e}`,...o,children:[W.jsxs("div",{className:"flex items-start",children:[W.jsx("h6",{className:"text-xl font-bold mb-0",children:t}),W.jsx("span",{className:"ml-1 text-xs text-secondary bg-strong p-0.5 px-1 rounded-lg",children:n})]}),W.jsxs("span",{className:"p-1 rounded text-xs mb-1 text-secondary",children:[W.jsx("strong",{children:"Renderer: "}),i]}),W.jsxs("p",{className:"text-xs px-2 py-1 bg-strong rounded-full flex justify-center items-center",children:["Load Time: ",r,"ms"]})]});let ug=performance.now();function Ow(){const e=_.useRef(null),[t,n]=_.useState(null),i=ye(Z=>Z.viewer.src),r=ye(Z=>Z.viewer.backgroundColor),o=ye(Z=>Z.viewer.speed),g=ye(Z=>Z.viewer.autoplay),l=ye(Z=>Z.viewer.loop),a=ye(Z=>Z.viewer.totalFrames),s=ye(Z=>Z.viewer.currentFrame),C=ye(Z=>Z.viewer.currentState),c=ye(Z=>Z.viewer.mode),A=ye(Z=>Z.viewer.activeAnimationId),y=ye(Z=>Z.viewer.activeThemeId),v=ye(Z=>Z.viewer.isJson),b=ye(Z=>Z.viewer.loadTime),B=ye(Z=>Z.viewer.animations),p=ye(Z=>Z.viewer.segment),f=ye(Z=>Z.viewer.useFrameInterpolation),m=ye(Z=>Z.viewer.activeMarker),G=Wo(),V=_.useCallback(()=>{var k,H,N,P,O,Q,q;G(xy(t==null?void 0:t.totalFrames));const Z=performance.now();G(Jy(Z-ug)),!i.endsWith(".json")&&!i.startsWith("data:application/json")&&(A||G(wg(((N=(H=(k=t==null?void 0:t.manifest)==null?void 0:k.animations)==null?void 0:H[0])==null?void 0:N.id)||"")),G(xC(((O=(P=t==null?void 0:t.manifest)==null?void 0:P.animations)==null?void 0:O.map(L=>L.id))||[])),G(MC(((Q=t==null?void 0:t.manifest)==null?void 0:Q.themes)||[])),G(ev(((q=t==null?void 0:t.markers())==null?void 0:q.map(L=>L.name))||[])))},[i,t,G,A]),F=_.useCallback(()=>{G(My((t==null?void 0:t.currentFrame)||0))},[G,t]),Y=_.useCallback(()=>{const Z=B.indexOf(A);if(Z===-1)return;const k=(Z+1)%B.length;return B[k]},[B,A]),R=_.useCallback(()=>{const Z=B.indexOf(A);if(Z===-1)return;const k=(Z-1+B.length)%B.length;return B[k]},[B,A]);_.useEffect(()=>{if(t)return t.addEventListener("load",V),t.addEventListener("frame",F),()=>{t.removeEventListener("load",V),t.removeEventListener("frame",F)}},[V,t,F]),_.useEffect(()=>{t&&p[0]&&p[1]&&t.setSegment(p[0],p[1])},[p,t]),_.useEffect(()=>{t==null||t.setMarker(m)},[m]),_.useEffect(()=>{t&&t.setUseFrameInterpolation(f)},[t,f]);const T=_.useCallback(Z=>{Z.addEventListener("complete",()=>{G(og("stopped"))}),Z.addEventListener("stop",()=>{G(og("stopped"))}),Z.addEventListener("play",()=>{G(og("playing"))}),Z.addEventListener("pause",()=>{G(og("paused"))})},[G]);return _.useEffect(()=>{t&&(ug=performance.now(),t==null||t.loadAnimation(A))},[A,t]),_.useEffect(()=>{t&&(t==null||t.loadTheme(y))},[y,t]),_.useEffect(()=>{var Z,k,H;t&&(G(xC(((k=(Z=t==null?void 0:t.manifest)==null?void 0:Z.animations)==null?void 0:k.map(N=>N.id))||[])),G(MC(((H=t==null?void 0:t.manifest)==null?void 0:H.themes)||[])))},[t,G]),_.useEffect(()=>{ug=performance.now()},[i,t]),W.jsx(W.Fragment,{children:W.jsxs("div",{className:"h-full flex-grow flex justify-between items-center flex-col gap-4",children:[W.jsxs("div",{className:"flex justify-center h-full",children:[W.jsxs("div",{className:"flex flex-col dotlottie-player",children:[W.jsx(wc,{version:Dw.version,rendererVersion:"thorvg@0.13.0",className:"mb-4",title:"dotLottie Web",loadTime:parseFloat(b.dotLottie.toFixed(2))}),W.jsx("div",{className:"flex justify-center items-center p-4 flex-grow",children:W.jsx("div",{style:{width:"350px",height:"350px"},children:W.jsx(Ob,{backgroundColor:r,width:350,height:350,autoplay:g,useFrameInterpolation:!0,loop:l,mode:c,speed:o,dotLottieRefCallback:Z=>{Z&&(T(Z),n(Z))},src:i})})})]}),v?W.jsxs("div",{className:"flex flex-col lottie-web",children:[W.jsx(wc,{version:"v5.12.2",rendererVersion:"lottie-web@5.12.2",className:"mb-4",title:"Lottie Web",loadTime:parseFloat(b.lottieWeb.toFixed(2))}),W.jsx("div",{className:"flex justify-center items-center p-4 flex-grow",children:W.jsx("div",{style:{width:"350px",height:"350px"},children:W.jsx(gf,{lottieRef:Z=>{e.current=Z},background:r,autoplay:g,loop:l,speed:o,onEvent:Z=>{if(Z==="ready"){const k=performance.now();G(Uy(k-ug))}},src:i})})})]}):null]}),W.jsxs("div",{className:"flex items-center gap-4 w-full max-w-[720px]",children:[B.length>1?W.jsx("button",{onClick:()=>{const Z=R();Z&&G(wg(Z))},children:W.jsx(xw,{})}):null,C!=="playing"?W.jsx("button",{onClick:()=>{var Z;t==null||t.play(),(Z=e.current)==null||Z.play()},children:W.jsx(sb,{})}):W.jsx("button",{onClick:()=>{var Z;t==null||t.pause(),(Z=e.current)==null||Z.pause()},children:W.jsx(ab,{})}),B.length>1?W.jsx("button",{onClick:()=>{const Z=Y();Z&&G(wg(Z))},children:W.jsx(Mw,{})}):null,W.jsx(vo.Range,{min:0,max:a||1,values:[s],onChange:Z=>{var k;t==null||t.setFrame(Z[0]),(k=e.current)==null||k.seek(Z[0])},renderTrack:({props:Z,children:k})=>W.jsx("div",{onMouseDown:H=>{var N;t==null||t.pause(),(N=e.current)==null||N.pause(),Z.onMouseDown(H)},onTouchStart:H=>{var N;t==null||t.pause(),(N=e.current)==null||N.pause(),Z.onTouchStart(H)},className:"flex-grow w-full flex h-[20px]",style:{...Z.style},children:W.jsx("div",{ref:Z.ref,className:"self-center w-full h-[6px] bg-strong rounded-lg",style:{background:vo.getTrackBackground({values:[s],colors:["#80cec8","#ccc"],min:0,max:a})},children:k})}),renderThumb:({props:Z})=>W.jsx("div",{...Z,style:{...Z.style,height:"20px",width:"20px",backgroundColor:"#019D91",borderRadius:"50%"}})}),W.jsxs("span",{className:"p-2 text-center flex items-center justify-center bg-white rounded-lg text-sm",children:[W.jsxs("span",{className:"w-min text-right pr-1 bg-transparent flex relative",children:[W.jsx("span",{className:"invisible",children:a.toFixed(2)}),W.jsx("span",{className:"absolute self-center",children:s.toFixed(2)})]}),W.jsx("span",{className:"text-xs text-secondary",children:"of"}),W.jsx("span",{className:"w-max pl-1 bg-transparent",children:a})]}),W.jsx("button",{className:"cursor-pointer",onClick:()=>G(Dy(!l)),children:W.jsx(Pw,{className:`${l?"":"text-gray-500"}`})})]})]})})}const zw="/dotlottie-web/assets/brand-logo-B3LfkM1n.svg";function Xa(e){const t=Wo();return W.jsxs("button",{onClick:()=>{t(nl(e.url))},className:"rounded-lg bg-white border border-transparent hover:border-lottie",children:[W.jsx("div",{children:W.jsx(gf,{style:{height:"120px"},src:e.url,autoplay:!0,loop:!0})}),W.jsx("div",{className:"text-xs py-1 bg-strong rounded-b-lg",children:e.name})]})}const jw=({className:e="",...t})=>W.jsxs("div",{className:`gap-2 flex flex-col ${e}`,...t,children:[W.jsx(Xa,{name:"multi-animations",url:"https://lottie.host/294b684d-d6b4-4116-ab35-85ef566d4379/VkGHcqcMUI.lottie"}),W.jsx(Xa,{name:"theming example",url:"/dotlottie-web/theming_example.lottie"}),W.jsx(Xa,{name:"marker example",url:"https://lottie.host/a04c548c-307f-420b-9ba8-e90a4a2efea4/MT9OsNynSw.lottie"})]});function Jw(){return W.jsxs("section",{className:"p-4 flex flex-col gap-4 h-full",children:[W.jsx("a",{href:"/",children:W.jsx("img",{src:zw,alt:"logo"})}),W.jsxs("div",{className:"flex flex-col gap-4 flex-grow overflow-auto",children:[W.jsx("h1",{className:"text-primary text-3xl font-bold",children:"Unleash the power of animations using dotLottie"}),W.jsx("p",{className:"text-secondary",children:"Create captivating product experiences with dotLottie animations."}),W.jsx("a",{href:"https://developers.lottiefiles.com/docs/dotlottie-web/dotlottie-web/getting-started/",className:"bg-lottie hover:bg-lottie/90 rounded-lg p-4 text-white font-bold w-fit",children:"Get Started"}),W.jsx(jw,{})]})]})}const Uw=({className:e="",...t})=>{const n=Wo(),i=_.useRef(null),r=ye(l=>l.viewer.userSrc);function o(l){const a=l[0],s=new FileReader;s.onload=()=>{const C=s.result;typeof C=="string"&&(n(nl(C)),n(Xs(a.name)))},s.readAsDataURL(a)}function g(l){l.forEach(a=>{const{file:s,errors:C}=a;C.forEach(c=>{switch(c.code){case rl.FileTooLarge:alert(`${s.name} is too large, please pick a smaller file`);break;case rl.FileInvalidType:alert(`${s.name} is not supported, please pick a supported file`);break}})})}return W.jsx("div",{className:`flex justify-center items-center gap-2 bg-strong px-4 py-2 rounded-lg ${e}`,...t,children:r?W.jsxs(W.Fragment,{children:[W.jsx("span",{className:"",children:r}),W.jsx("button",{className:"p-2 bg-subtle hover:bg-hover rounded-lg font-bold",onClick:()=>{n(jy())},children:"Reset"})]}):W.jsxs(W.Fragment,{children:[W.jsx("span",{className:"font-bold",children:"Try it yourself!"}),W.jsx(Gh,{onDrop:o,onDropRejected:g,children:l=>W.jsxs("button",{className:"p-2 bg-subtle hover:bg-hover rounded-lg font-bold",...l.getRootProps(),children:[W.jsx("input",{...l.getInputProps()}),"Browse file"]})}),W.jsx("span",{children:"or"}),W.jsx("input",{ref:i,className:"p-2 rounded-lg flex-grow",placeholder:"Paste JSON or .lottie URL"}),W.jsx("button",{className:"p-2 bg-subtle hover:bg-hover rounded-lg font-bold",onClick:()=>{i.current&&(n(nl(i.current.value)),n(Xs(i.current.value)))},children:"Load animation"})]})})};function Qw(){const e=ye(o=>o.viewer.theme),t=Wo(),n=_.useRef(null);_.useEffect(()=>{var o;e&&((o=n.current)==null||o.loadTheme(e))},[e,n]);function i(o){const g=o[0],l=new FileReader;l.onload=()=>{const a=l.result;typeof a=="string"&&(t(nl(a)),t(Xs(g.name)))},l.readAsDataURL(g)}function r(o){o.forEach(g=>{const{file:l,errors:a}=g;a.forEach(s=>{switch(s.code){case rl.FileTooLarge:alert(`${l.name} is too large, please pick a smaller file`);break;case rl.FileInvalidType:alert(`${l.name} is not supported, please pick a supported file`);break}})})}return W.jsx(W.Fragment,{children:W.jsx(Gh,{noClick:!0,onDrop:i,onDropRejected:r,children:o=>W.jsxs("div",{className:"flex gap-4 p-4 h-screen",...o.getRootProps(),children:[W.jsx("input",{...o.getInputProps()}),o.isDragActive?W.jsx("div",{className:"fixed inset-0 z-10 bg-black bg-opacity-60 flex justify-center items-center text-white bold",children:W.jsx("div",{children:"Drop it like it's hot!"})}):null,W.jsx("div",{className:"bg-subtle border border-subtle rounded-lg max-w-80",children:W.jsx(Jw,{})}),W.jsxs("div",{className:"flex flex-col gap-4 flex-grow",children:[W.jsx(Uw,{}),W.jsxs("div",{className:"flex-1 flex p-4 gap-4 bg-subtle rounded-lg",children:[W.jsx("div",{className:"flex-1",children:W.jsx(Ow,{})}),W.jsx("div",{className:"w-80",children:W.jsx(pb,{})})]})]})]})})})}const $w=yy({reducer:{viewer:nv}});Ha.createRoot(document.getElementById("root")).render(W.jsx(Re.StrictMode,{children:W.jsx(L0,{store:$w,children:W.jsx(Qw,{})})}));export{Ti as a,rB as d,he as o,Tt as u};
